window.__require=function t(e,i,o){function n(r,s){if(!i[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=i[r]={exports:{}};e[r][0].call(d.exports,function(t){return n(e[r][1][t]||t)},d,d.exports,t,e,i,o)}return i[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({ADMgr:[function(t,e,i){"use strict";cc._RF.push(e,"a834cJoQadMdq/ExWa1leZy","ADMgr"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("ymsdk"),n=t("ymsdkConfig"),a=t("ymsdkConfig"),r=60,s=10,c=15,l=15,d=function(t){cc.loader.loadRes(t,function(e,i){e&&cc.warn("async load prefab failed : ",t);var o=cc.instantiate(i);cc.director.getScene().addChild(o,cc.macro.MAX_ZINDEX)})},h=function(){function t(){}return t.init=function(){console.log("\u5e7f\u544a\u521d\u59cb\u5316"),o.default.init(n.default),n.default.channel==o.channelType.huawei&&hbs.onShow(function(){try{o.default.hideBannerAd("default"),cc.find("huaweiNativeInsert").destroy()}catch(t){}}),n.default.channel==o.channelType.android&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){t.keyCode===cc.macro.KEY.back&&o.default.exitGame()},this),setInterval(function(){r--,s--,c--,l--},1e3)},t.showOPenAD=function(){this.switch&&console.log("\u5f00\u5c4f\u5e7f\u544a")},t.showBanner=function(){if(console.log("isWin",this.isWin),1!=this.isWin){if(this.switch)if(console.log("\u5c55\u793abanner"),n.default.channel!=o.channelType.oppo_mini)if(n.default.channel!=o.channelType.vivo_mini)n.default.channel==o.channelType.huawei&&r>0||n.default.channel==o.channelType.xiaomi&&l>0||(r=65,l=15,o.default.showBannerAd("default"));else{if(cc.find("vivoNativeBanner"))return;d("Ad/vivoNativeBanner")}else{if(cc.find("oppoNativeBanner"))return;d("Ad/oppoNativeBanner")}}else this.hideBanner()},t.hideBanner=function(){if(this.switch){console.log("\u9690\u85cfbanner");try{cc.find("vivoNativeBanner").destroy()}catch(t){}try{cc.find("oppoNativeBanner").destroy()}catch(t){}o.default.hideBannerAd("default")}},t.showChaPing=function(t){if(this.switch){try{console.log("cocos-ChaPing.....")}catch(t){console.log("ChaPing:",t)}if(a.default.channel!=o.channelType.oppo_mini)if(console.log("\u5c55\u54c1\u63d2\u5c4f\u5e7f\u544a"),n.default.channel!=o.channelType.vivo_mini)n.default.channel!=o.channelType.huawei?n.default.channel==o.channelType.xiaomi&&c>0||(c=15,o.default.showInterstitialAd("default")):s<0&&(s=10,d("Ad/huaweiNativeInsert"));else{if(cc.find("vivoNativeInsert"))return;d("Ad/vivoNativeInsert")}}},t.watchAD=function(t,e){cc.director.pause(),cc.audioEngine.pauseAll(),o.default.showRewardedVideoAd("default",function(t,i){t?console.log("\u64ad\u653e\u6210\u529f"):(console.log("\u64ad\u653e\u5931\u8d25"+i),cc.director.resume(),cc.audioEngine.resumeAll(),e&&e())},function(i){cc.director.resume(),cc.audioEngine.resumeAll(),i?(console.log("\u6b63\u5e38\u5173\u95ed"),t&&t()):(console.log("\u63d0\u524d\u5173\u95ed"),e&&e())})},t.showBlockAd=function(t){void 0===t&&(t="default"),o.default.showBlockAd(t)},t.closeBlockAd=function(t){void 0===t&&(t="default"),o.default.hideBlockAd(t)},t.showGrid=function(t){void 0===t&&(t="default"),console.log("show grid"),o.default.showGridAd(t)},t.hideGrid=function(t){void 0===t&&(t="default"),console.log("hide grid"),o.default.hideGridAd(t)},t.getIsShowShareBtn=function(){return-1!==[o.channelType.wx,o.channelType.qq_mini,o.channelType.byte,o.channelType.baidu].indexOf(n.default.channel)},t.getIsShowBoxBtn=function(){var t=[o.channelType.qq_mini,o.channelType.byte,o.channelType.oppo_mini];return n.default.channel==o.channelType.android?o.default.isShowMoreGame():-1!==t.indexOf(n.default.channel)},t.showMoreGame=function(t){if(void 0===t&&(t="default"),n.default.channel!=o.channelType.android)try{o.default.showAppBox(t)}catch(t){window.qg.showToast({title:"\u6682\u65e0\u4e92\u63a8\u8d44\u6e90"})}else o.default.showMoreGame()},t.getIsShowDesktop=function(t){return n.default.channel!=o.channelType.vivo_mini&&(n.default.channel!=o.channelType.oppo_mini&&n.default.channel!=o.channelType.vivo_mini||qg.hasShortcutInstalled({success:function(e){t(!e)}}),t(!1))},t.saveDesktop=function(){qg.installShortcut({success:function(){},fail:function(){},complete:function(){}})},t.getIsShowPrivacyPolicy=function(){return n.default.channel===o.channelType.android&&((cc.sys.platform==cc.sys.VIVO_GAME||cc.sys.platform==cc.sys.OPPO_GAME||cc.sys.isBrowser)&&!o.default.isShowPrivacyPolicy()||o.default.isShowPrivacyPolicy())},t.showPrivacyPolicy=function(){o.default.showPrivacyPolicy()},t.startRecord=function(){if(n.default.channel===o.channelType.byte){t._RecordTime=0,t.RecordTime=0,setInterval(function(){t._RecordTime++},1e3);try{o.default.startRecord()}catch(e){console.log(e,"\u5f55\u5c4f\u9519\u8bef")}}},t.stopRecord=function(){if(n.default.channel===o.channelType.byte){t.RecordTime=t._RecordTime,console.log("RecordTime:"+t.RecordTime);try{o.default.stopRecord()}catch(e){console.log(e,"\u5f55\u5c4f\u9519\u8bef")}}},t.share=function(){return console.log("share"),new Promise(function(t){o.default.share(function(e){console.log("share isSuccess"),t(e)})})},t.emitEventRecord=function(t,e){try{o.default.onEventAnalytics(t,e)}catch(t){console.log("\u6253\u70b9\u5931\u8d25",t)}},t.getIsShowFeedback=function(){return n.default.channel===o.channelType.android&&o.default.isShowFeedback()},t.showFeedback=function(){o.default.showFeedback()},t.getIsShowISBN=function(){return n.default.channel==o.channelType.huawei||n.default.channel==o.channelType.android&&o.default.isShowISBN()},t.getIsHuaWei=function(){return!1},t.switch=!0,t.isWin=!1,t.watching=!1,t._RecordTime=0,t.RecordTime=0,t}();i.default=h,cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],ADPause:[function(t,e,i){"use strict";cc._RF.push(e,"1eecame5ZRLYpozrEwQ3Llc","ADPause");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("UIPrefab"),s=t("TipPrefab"),c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootNode=null,e.title=null,e.callBack=null,e}var i;return o(e,t),i=e,e.prototype.onShow=function(t,e){this.node.opacity=0,this.rootNode.scale=0,cc.tween(this.node).to(.3,{opacity:255}).start(),cc.tween(this.rootNode).to(.3,{scale:1}).start();var i=0==t;this.rootNode.getChildByName("one").active=i,this.rootNode.getChildByName("two").active=!i,this.title.string=i?"\u7231\u5fc3":"\u78c1\u94c1",this.callBack=e},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).start(),cc.tween(this.rootNode).to(.3,{scale:0}).call(function(){t.node.destroy()}).start()},e.prototype.onClickClose=function(){i.hide(),this.callBack&&this.callBack(!1)},e.prototype.onClickWatch=function(){var t=this;a.default.watchAD(function(){t.callBack&&t.callBack(!0),i.hide()},function(){s.default.show("\u7f51\u7edc\u9519\u8bef")})},e.uiName="Panel/ADPause",n([d(cc.Node)],e.prototype,"rootNode",void 0),n([d(cc.Label)],e.prototype,"title",void 0),i=n([l],e)}(r.default);i.default=h,cc._RF.pop()},{ADMgr:"ADMgr",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab"}],AD:[function(t,e,i){"use strict";cc._RF.push(e,"415357v7qtDmrFSxRmWt3c7","AD");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GamePage"),r=t("ADPause"),s=t("GameConfig"),c=t("GameData"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sps=[],e.icon=null,e._type=0,e.fixed=!1,e._touchFlag=0,e._panle=!1,e}var i;return o(e,t),i=e,Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,this.icon.spriteFrame=this.sps[t])},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.icon.getComponent(cc.RigidBody);t.onBeginContact=this.onBeginContact.bind(this),t.onEndContact=this.onEndContact.bind(this),this.fixed?this.type=i.type=1:(this.type=i.type,i.type?i.type=0:i.type=1)},e.prototype.init=function(t){this.type=t},e.prototype.onBeginContact=function(){var t=this;this._touchFlag++,1!=this._touchFlag||this._panle||(this._panle=!0,s.default.Click=!1,r.default.show(this._type,function(e){t._panle=!1,s.default.Click=!0,e&&(0==t._type?c.default.operateHeart(3):a.default.ins.magnet(),t.node.destroy())}))},e.prototype.onEndContact=function(){this._touchFlag--},e.type=1,n([h({visible:!1,type:cc.SpriteFrame})],e.prototype,"sps",void 0),n([h(cc.Sprite)],e.prototype,"icon",void 0),n([h],e.prototype,"_type",void 0),n([h({type:cc.Enum({Heart:0,Manget:1})})],e.prototype,"type",null),n([h(cc.Integer)],e.prototype,"fixed",void 0),i=n([d],e)}(cc.Component);i.default=u,cc._RF.pop()},{ADPause:"ADPause",GameConfig:"GameConfig",GameData:"GameData",GamePage:"GamePage"}],AirFan:[function(t,e,i){"use strict";cc._RF.push(e,"66195cfhLRMf4ENpvY5/xKY","AirFan");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("Player"),s=t("ColorAssembler2D"),c=t("GameConfig"),l=t("EventDefine"),d=t("MoveTag"),h=t("Trigger"),u=cc._decorator,p=u.ccclass,f=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colorSpf=[],e.guanShu=null,e.colorA=null,e._color=d.MoveTag.Yellow,e._height=900,e._force=null,e._bodys=[],e._trigger=!0,e}return o(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color!=t&&(this._color=t,cc.find("colorSkin",this.node).getComponent(cc.Sprite).spriteFrame=this.colorSpf[this._color])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t;var e=this.getComponent(cc.PhysicsBoxCollider);e.size.height=t,e.offset.y=t/2+10,this.colorA.node.height=t-70},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=cc.misc.degreesToRadians(this.node.angle);this._force=c.default.AirFanForce.rotate(t)},e.prototype.update=function(){if(0!=this._trigger&&0!=this._bodys.length)for(var t=0,e=this._bodys;t<e.length;t++)e[t].applyForceToCenter(this._force,!0)},e.prototype.onBeginContact=function(t,e,i){if(-1==this._bodys.indexOf(i.body)&&(this._bodys.push(i.body),this._trigger&&0==this.node.angle)){var o=i.getComponent(r.default);if(!o)return;o.isOnAir=!0}},e.prototype.onEndContact=function(t,e,i){var o=this._bodys.indexOf(i.body);if(-1!=o){this._bodys.splice(o,1);var n=i.getComponent(r.default);if(!n)return;n.isOnAir=!1}},e.prototype.onEnable=function(){this._color==d.MoveTag.Yellow?(this._trigger=!0,this.getComponent(cc.Animation).play(),this.colorA.onDrawAfter(1),this.guanShu.opacity=255):(this.guanShu.opacity=0,this.colorA.onDrawAfter(0),this._trigger=!1,a.EventMgr.on(l.EvnetDefine.LeverFan+this._color,this.onLeverFanEvent,this))},e.prototype.onDisable=function(){a.EventMgr.off(l.EvnetDefine.LeverFan+this._color,this.onLeverFanEvent,this)},e.prototype.onLeverFanEvent=function(t){var e=this;if(cc.Tween.stopAllByTarget(this.guanShu),t){if(cc.tween(this.guanShu).to(.5,{opacity:255},{onUpdate:function(t,i){e.colorA._updateColors(i)}}).start(),this.getComponent(cc.Animation).play(),0==this.node.angle)for(var i=0,o=this._bodys;i<o.length;i++)(s=o[i].getComponent(r.default))&&(s.isOnAir=!0)}else{cc.tween(this.guanShu).to(.5,{opacity:0},{onUpdate:function(t,i){e.colorA._updateColors(1-i)}}).start(),this.getComponent(cc.Animation).stop();for(var n=0,a=this._bodys;n<a.length;n++){var s;(s=a[n].getComponent(r.default))&&(s.isOnAir=!1)}}this._trigger=t},e.prototype.init=function(t){this.node.angle=t.angle,this.color=t.type},n([f({type:cc.SpriteFrame,visible:!1})],e.prototype,"colorSpf",void 0),n([f({type:cc.Node,visible:!1})],e.prototype,"guanShu",void 0),n([f({type:s.default,visible:!1})],e.prototype,"colorA",void 0),n([f],e.prototype,"_color",void 0),n([f({type:cc.Enum(d.MoveTag)})],e.prototype,"color",null),n([f],e.prototype,"_height",void 0),n([f],e.prototype,"height",null),n([p],e)}(h.default);i.default=y,cc._RF.pop()},{ColorAssembler2D:"ColorAssembler2D",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",MoveTag:"MoveTag",Player:"Player",Trigger:"Trigger"}],ArrowTrap:[function(t,e,i){"use strict";cc._RF.push(e,"31372ubiQ5JcpVVr9+n41VD","ArrowTrap");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("ColTag"),c=t("Trigger"),l=cc._decorator,d=l.ccclass;l.property;var h=cc.v2(0,800),u=cc.v2(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rigids=null,e._finishNum=0,e._startPoss=[],e}return o(e,t),e.prototype.onLoad=function(){this._rigids=this.getComponentsInChildren(cc.RigidBody);for(var t=0,e=0,i=this._rigids;e<i.length;e++){var o=i[e];o.onBeginContact=this.onBeginContact.bind(this,t),t++,this._startPoss.push(o.node.getPosition()),o.type=cc.RigidBodyType.Static}},e.prototype.start=function(){this.startShoot()},e.prototype.startShoot=function(){for(var t=this,e=3,i=function(i){var n=o._rigids[i];o.scheduleOnce(function(){n.type=cc.RigidBodyType.Dynamic,n.linearVelocity=h.rotate(cc.misc.degreesToRadians(t.node.angle))},e),e+=.1},o=this,n=0,a=[1,0,2];n<a.length;n++)i(a[n])},e.prototype.onBeginContact=function(t,e,i,o){var n=this;if(o.node.group==s.NodeGroup.Player){e.disabled=!0;var c=o.getComponent(a.default);r.Die.suffix="",c.state=r.PlayerState.Die}var l=this._rigids[t],d=l.node,h=d.getChildByName("trail");h.active=!1;var p=d.getChildByName("baozha"),f=p.getComponent(sp.Skeleton);f.setAnimation(0,"animation",!1),p.active=!0,i.enabled=!1;var y=d.getChildByName("body");y.active=!1,f.setCompleteListener(function(){y.active=!0,p.active=!1,i.enabled=!0,d.opacity=255,l.type=cc.RigidBodyType.Static,d.angle=0,l.linearVelocity=u,l.angularVelocity=0;var e=n._startPoss[t];d.setPosition(e.x,16),h.active=!0,cc.tween(d).to(.15,{position:e},{easing:cc.easing.sineOut}).call(n.onReadyAnimFinish.bind(n)).start()})},e.prototype.onReadyAnimFinish=function(){this._finishNum++,this._finishNum>=3&&this.startShoot()},e.prototype.onEndContact=function(){throw new Error("Method not implemented.")},e.prototype.onPreSolve=function(){throw new Error("Method not implemented.")},e.prototype.onPostSolve=function(){throw new Error("Method not implemented.")},e.prototype.init=function(t){this.node.angle=t.angle},n([d],e)}(c.default);i.default=p,cc._RF.pop()},{ColTag:"ColTag",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],AudioDefine:[function(t,e,i){"use strict";cc._RF.push(e,"15514LSfDFOOY6Pt5wTID39","AudioDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.AudioDefine=void 0,i.AudioDefine={"\u80cc\u666f\u97f3\u4e501":"jungletheme","\u80cc\u666f\u97f3\u4e502":"game5","\u83b7\u5f97\u5956\u52b1":"win4","\u6253\u5f00\u9762\u677f":"popupopen","\u5173\u95ed\u9762\u677f":"popupclose","\u6536\u96c6\u91d1\u5e01":"collectcoin","\u6536\u96c6\u94a5\u5319":"collectitem2","\u5f00\u59cb\u8f6c\u76d8":"spin_active","\u5faa\u73af\u8f6c\u76d8":"spin_music","Spin\u8f6c45\u5ea6":"wheel_01","\u8df3\u6c34":"jumponwater","\u590d\u6d3b":"revive","\u70b9\u51fb":"pop1","\u8df3\u8dc3":"jump","\u843d\u5730":"land","\u5207\u6362\u989c\u8272":"collectitem1","\u63a8\u52a8\u77f3\u5934":"pushrock","\u5f39\u7c27":"spring",leveroff:"leveroff",leveron:"leveron",movingplatform:"movingplatform",movingplatformstop:"movingplatformstop","\u6b7b\u4ea1":"die","\u4f20\u9001":"teleportappear2"},cc._RF.pop()},{}],AudioManager:[function(t,e,i){"use strict";cc._RF.push(e,"bca849Ag5dIKrUydeYoN+uH","AudioManager");var o=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass;n.property;var r=function(){function t(){this._musicSwitch=null,this._audioSwitch=null,this._audioMap={},this._playing={}}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new e,this._instance)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"musicSwitch",{get:function(){return null==this._musicSwitch&&(this._musicSwitch=cc.sys.localStorage.getItem("MusicSwitch"),null==this._musicSwitch&&(this._musicSwitch=!0)),this._musicSwitch},set:function(t){this.musicSwitch!=t&&(this._musicSwitch=t,t?cc.audioEngine.setMusicVolume(1):cc.audioEngine.setMusicVolume(0),cc.sys.localStorage.setItem("MusicSwitch",this._musicSwitch))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"audioSwitch",{get:function(){return null==this._audioSwitch&&(this._audioSwitch=cc.sys.localStorage.getItem("AudioSwitch"),null==this._audioSwitch&&(this._audioSwitch=!0)),this._audioSwitch},set:function(t){this.audioSwitch!=t&&(this._audioSwitch=t,cc.sys.localStorage.setItem("AudioSwitch",this._audioSwitch))},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var e=this;cc.resources.loadDir("Audio",function(i,o){for(var n=0,a=o;n<a.length;n++){var r=a[n];e._audioMap[r.name]=r}t&&t()})},t.prototype.playAudio=function(t,e,i,o){var n=this;if(void 0===e&&(e=!1),void 0===i&&(i=1),void 0===o&&(o=null),this.audioSwitch&&!this._playing[t]){var a;this._playing[t]=!0,setTimeout(function(){n._playing[t]=!1});var r=this._audioMap[t];if(r)return a=cc.audioEngine.play(r,e,i),o&&cc.audioEngine.setFinishCallback(a,o),a}},t.prototype.playBGMusic=function(t){cc.audioEngine.stopMusic();var e=this._audioMap[t];e&&cc.audioEngine.playMusic(e,!0)},t.prototype.getAudio=function(t){return this._audioMap[t]},e=o([a],t)}();i.default=r,cc._RF.pop()},{}],AudioSwitch:[function(t,e,i){"use strict";cc._RF.push(e,"bb221UpVrhG3prZEvV3D032","AudioSwitch");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._open=null,e._close=null,e}return o(e,t),e.prototype.onLoad=function(){this._open=this.node.getChildByName("Open"),this._close=this.node.getChildByName("Close")},e.prototype.onEnable=function(){this.changeSwitch()},e.prototype.onClickSwitch=function(){a.default.instance.audioSwitch=!a.default.instance.audioSwitch,this.changeSwitch()},e.prototype.changeSwitch=function(){var t=a.default.instance.audioSwitch;this._open.active=t,this._close.active=!t},n([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{AudioManager:"AudioManager"}],BapBenh:[function(t,e,i){"use strict";cc._RF.push(e,"5ac85/J+9JBp6TNDbtzv6oq","BapBenh");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("GameConfig"),c=t("ColTag"),l=cc._decorator,d=l.ccclass;l.property;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rigid=null,e._graphics=null,e}return o(e,t),e.prototype.onLoad=function(){this._rigid=this.getComponentInChildren(cc.RigidBody),this._rigid.onEndContact=this.onEndContact.bind(this),this._rigid.onBeginContact=this.onBeginContact.bind(this),this._rigid.onPreSolve=this.onPreSolve.bind(this);var t=new cc.Node;this.node.addChild(t),this._graphics=t.addComponent(cc.Graphics),this._graphics.lineWidth=10},e.prototype.onBeginContact=function(t,e,i){if(i.node.group==c.NodeGroup.Player)if(i instanceof cc.PhysicsBoxCollider)t.disabled=!0;else{var o=t.getWorldManifold(),n=o.normal.mul(100),l=o.points;if(s.default.Debug){this._graphics.clear();for(var d=cc.v2(),h=0,u=l;h<u.length;h++){var p=u[h];this.node.convertToNodeSpaceAR(p,d),this._graphics.moveTo(d.x,d.y),this._graphics.lineTo(d.x+n.x,d.y+n.y)}this._graphics.stroke()}var f=cc.misc.radiansToDegrees(o.normal.signAngle(cc.v2(0,1)));if(Math.abs(f)<45){var y=i.getComponent(a.default);if(y.state==r.PlayerState.Jump)return void(t.disabled=!0);y.isOnBapBenh++,y.isJumping=!1,t.test=!0}else t.disabled=!0}},e.prototype.onEndContact=function(t,e,i){if(t.test){t.test=!1;var o=i.getComponent(a.default);o.isOnBapBenh--,o.isOnBapBenh<0&&(o.isOnBapBenh=0)}},e.prototype.onPreSolve=function(t,e,i){i.node.group,c.NodeGroup.Player},n([d],e)}(cc.Component);i.default=h,cc._RF.pop()},{ColTag:"ColTag",GameConfig:"GameConfig",Player:"Player",PlayerState:"PlayerState"}],BreakablePlatform:[function(t,e,i){"use strict";cc._RF.push(e,"cd443Xyy2tE4qFT6P8uNmBS","BreakablePlatform");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Trigger"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rigid=null,e._state="idle",e._ske=null,e._normalNode=null,e}return o(e,t),e.prototype.onLoad=function(){this._normalNode=this.node.getChildByName("normal"),this._ske=this.getComponentInChildren(sp.Skeleton),this._rigid=this.getComponentInChildren(cc.RigidBody),this._rigid.onBeginContact=this.onBeginContact.bind(this),this._ske.setCompleteListener(this.onSkeAnimFinish.bind(this)),this._ske.node.active=!1},e.prototype.onBeginContact=function(t,e,i){3!=i.tag&&2!=i.tag&&"idle"==this._state&&(this._state="touch",this._ske.node.active=!0,this._ske.setAnimation(0,"animation1",!1),this._normalNode.active=!1)},e.prototype.onSkeAnimFinish=function(t){switch(t.animation.name){case"animation1":this._state="down",this._rigid.active=!1,this._ske.setAnimation(0,"animation2",!0);break;case"animation2":this._state="idle",this._rigid.active=!0,this._ske.setAnimation(0,"animation3",!1)}},n([s],e)}(a.default);i.default=c,cc._RF.pop()},{Trigger:"Trigger"}],Bridge:[function(t,e,i){"use strict";cc._RF.push(e,"6af151KQFJLtLVlYFMSasmG","Bridge");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("MathTool"),r=t("Player"),s=t("PlayerState"),c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.middle=null,e}return o(e,t),e.prototype.onLoad=function(){this.middle.onPreSolve=this.onPreSolve.bind(this),this.onTweenFinish()},e.prototype.onTweenFinish=function(){cc.tween(this.middle.node).to(.5,{angle:a.MathTool.random(-5,5),x:a.MathTool.random(-15,15)}).to(.5,{angle:0,x:7.686}).call(this.onTweenFinish.bind(this)).start()},e.prototype.onPreSolve=function(t,e,i){var o=i.getComponent(r.default);if(o.state==s.PlayerState.Run){t.setFriction(0);var n=e.body.linearVelocity;(o.right&&n.x>0||!o.right&&n.x<0)&&(i.body.linearVelocity=i.body.linearVelocity.addSelf(e.body.linearVelocity))}else o.state==s.PlayerState.Idle&&t.setFriction(100)},n([d(cc.RigidBody)],e.prototype,"middle",void 0),n([l],e)}(cc.Component);i.default=h,cc._RF.pop()},{MathTool:"MathTool",Player:"Player",PlayerState:"PlayerState"}],CameraMove:[function(t,e,i){"use strict";cc._RF.push(e,"3f7c7JL2sZOs6ZKsT7FNexA","CameraMove");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GamePage"),r=t("Ground"),s=cc._decorator,c=s.ccclass;s.property;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.followTarget=null,e._follow=!0,e._tempV2=cc.v2(),e.cameras=null,e.rect=new cc.Rect,e.viewRect=new cc.Rect,e._targetRect=null,e._viewNode=null,e._tempTarget=null,e._viewTargetPos=null,e}return o(e,t),e.prototype.onLoad=function(){this.cameras=this.getComponents(cc.Camera)},e.prototype.start=function(){for(var t,e=cc.winSize,i=cc.find("Grounds",this.node.parent).getComponentsInChildren(r.default),o=i[0].rect,n=1,s=i.length;n<s;n++)(t=i[n].rect).width>o.width&&(o=t);this.rect.set(o),this.viewRect.set(o);var c=e.width/this.rect.width,l=e.height/this.rect.height;c>=1&&l>=1?(this._minRatio=1,this._nowRatio=1):c>=1&&l<1?(this._minRatio=c,this._nowRatio=c):c<1&&l>=1?(this._minRatio=l,this._nowRatio=l):c<1&&l<1&&(this._nowRatio=1,this._minRatio=c<l?l:c),this.rect.width<e.width?this.rect.width=0:this.rect.width-=e.width/this._nowRatio,this.rect.height<e.height?this.rect.height=0:this.rect.height-=e.height/this._nowRatio;for(var d=0,h=this.cameras;d<h.length;d++)h[d].zoomRatio=this._nowRatio;this.rect.x+=e.width/2/this._nowRatio,this.rect.y+=e.height/2/this._nowRatio,e.width/=this._minRatio,e.height/=this._minRatio,this.viewRect.x+=e.width/2,this.viewRect.y+=e.height/2,this.viewRect.width<e.width?this.viewRect.width=0:this.viewRect.width-=e.width,this.viewRect.height<e.height?this.viewRect.height=0:this.viewRect.height-=e.height;var u=a.default.ins.ctrPlayer.node;this._tempV2.x=0,this._tempV2.y=150,u.convertToWorldSpaceAR(this._tempV2,this._tempV2),this.node.parent.convertToNodeSpaceAR(this._tempV2,this._tempV2),this._tempV2.x>this.rect.xMax?this._tempV2.x=this.rect.xMax:this._tempV2.x<this.rect.xMin&&(this._tempV2.x=this.rect.xMin),this.node.setPosition(this._tempV2),this._viewNode=new cc.Node,this._viewNode.setPosition(this.viewRect.center),this._viewNode.setParent(this.node.parent),this._targetRect=this.rect},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.setTarget=function(t){this.followTarget=t},e.prototype.update=function(t){this._follow&&this.followTarget&&(this._tempV2.x=0,this._tempV2.y=150,this.followTarget.convertToWorldSpaceAR(this._tempV2,this._tempV2),this.node.parent.convertToNodeSpaceAR(this._tempV2,this._tempV2),this._tempV2.x>this._targetRect.xMax?this._tempV2.x=this._targetRect.xMax:this._tempV2.x<this._targetRect.xMin&&(this._tempV2.x=this._targetRect.xMin),this._tempV2.y>this._targetRect.yMax?this._tempV2.y=this._targetRect.yMax:this._tempV2.y<this._targetRect.yMin&&(this._tempV2.y=this._targetRect.yMin),this.node.getPosition().lerp(this._tempV2,5*t,this._tempV2),this.node.setPosition(this._tempV2),this._viewTargetPos&&this._viewNode.setPosition(this._viewNode.position.lerp(this._viewTargetPos,5*t)))},e.prototype.onZoomView=function(t){var e=this.viewRect.center;this._viewTargetPos.y=e.y-this.viewRect.height/2*t.y,this._viewTargetPos.x=e.x-this.viewRect.width/2*t.x},e.prototype.onZoomStart=function(){this._tempTarget=this.followTarget,this.followTarget=this._viewNode;for(var t=0,e=this.cameras;t<e.length;t++){var i=e[t];cc.tween(i).to(.5,{zoomRatio:this._minRatio},{easing:cc.easing.circOut}).start()}this._targetRect=this.viewRect,this._viewTargetPos=cc.v2()},e.prototype.onZoomEnd=function(){this.followTarget=this._tempTarget,this._viewNode.setPosition(this.rect.center);for(var t=0,e=this.cameras;t<e.length;t++){var i=e[t];cc.tween(i).to(.5,{zoomRatio:this._nowRatio}).start()}this._targetRect=this.rect,delete this._viewTargetPos},n([c],e)}(cc.Component);i.default=l,cc._RF.pop()},{GamePage:"GamePage",Ground:"Ground"}],ChangeIcon:[function(t,e,i){"use strict";cc._RF.push(e,"9befaYrH6pC7KbXkqypYlr9","ChangeIcon");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sps=[],e.sprite=null,e}return o(e,t),e.prototype.onEnable=function(){var t=this,e=0,i=this.sps.length;this.schedule(function(){++e==i&&(e=0),t.sprite.spriteFrame=t.sps[e]},2)},e.prototype.onDisable=function(){this.unscheduleAllCallbacks()},n([s(cc.SpriteFrame)],e.prototype,"sps",void 0),n([s(cc.Sprite)],e.prototype,"sprite",void 0),n([r],e)}(cc.Component);i.default=c,cc._RF.pop()},{}],CoinComp:[function(t,e,i){"use strict";cc._RF.push(e,"c82b3HUa15AQIr6LbU4Gc24","CoinComp");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("GameData"),s=t("EventDefine"),c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLabel=null,e.animNode=null,e._anim=null,e}var i;return o(e,t),i=e,Object.defineProperty(e,"worldPos",{get:function(){return this._worldPos.clone()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;this.numLabel.string=r.default.Coin+"",this._anim=this.getComponent(cc.Animation),this.animNode.opacity=0,this.scheduleOnce(function(){i._worldPos||(t.node.getComponent(cc.Widget).updateAlignment(),i._worldPos=t.node.convertToWorldSpaceAR(cc.v2()))},0)},e.prototype.onEnable=function(){a.EventMgr.on(s.EvnetDefine.CoinGet,this.onCoinGet,this),a.EventMgr.on(s.EvnetDefine.CoinUse,this.onCoinUse,this)},e.prototype.onDisable=function(){a.EventMgr.off(s.EvnetDefine.CoinGet,this.onCoinGet,this),a.EventMgr.off(s.EvnetDefine.CoinUse,this.onCoinUse,this)},e.prototype.onCoinGet=function(t){var e=this.animNode.children,i=e[0].getComponent(cc.Label);i.string="+"+t,i._forceUpdateRenderData();var o=e[0].width+e[1].width;e[0].x=-o/2,e[1].x=-o/2+e[0].width+e[1].width/2,this._anim.play()},e.prototype.onCoinUse=function(t){var e=this.animNode.children,i=e[0].getComponent(cc.Label);i.string=""+t,i._forceUpdateRenderData();var o=e[0].width+e[1].width;e[0].x=-o/2,e[1].x=-o/2+e[0].width+e[1].width/2,this._anim.play()},e.prototype.onAnimFinsh=function(){this.numLabel.string=r.default.Coin+""},e._worldPos=null,n([d(cc.Label)],e.prototype,"numLabel",void 0),n([d(cc.Node)],e.prototype,"animNode",void 0),i=n([l],e)}(cc.Component);i.default=h,cc._RF.pop()},{EventDefine:"EventDefine",EventMgr:"EventMgr",GameData:"GameData"}],CoinLabel:[function(t,e,i){"use strict";cc._RF.push(e,"1ac3aNQUF1EiYVIg5kQeQYQ","CoinLabel");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GameData"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CoinLabel",e.coin=null,e}return o(e,t),e.prototype.onEnable=function(){var t=this;this.coin.getComponent(cc.Label).string="+"+a.default.RewardNum,cc.tween(this.coin).to(1,{y:80}).to(.3,{y:100,scale:1.1,opacity:0}).call(function(){t.node.destroy()}).start()},n([c(cc.Node)],e.prototype,"coin",void 0),n([s],e)}(cc.Component);i.default=l,cc._RF.pop()},{GameData:"GameData"}],Coin_fly_to_wallet:[function(t,e,i){"use strict";cc._RF.push(e,"44110Vph71H/Yt2qYoNgg4i","Coin_fly_to_wallet"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("GameConfig"),n=t("MathTool"),a=function(){function t(){var t=this;this.coinPrefab=null,this.coinPool=null,cc.resources.load("Prefab/CoinFly",function(e,i){e||(t.coinPrefab=i,t.coinPool=new cc.NodePool,t.initCoinPool())})}return Object.defineProperty(t,"ins",{get:function(){return this._ins?this._ins:(this._ins=new t,this._ins)},enumerable:!1,configurable:!0}),t.prototype.initCoinPool=function(t){void 0===t&&(t=20);for(var e=0;e<t;e++){var i=cc.instantiate(this.coinPrefab);this.coinPool.put(i)}},t.prototype.playHeartFlyAnim=function(t,e,i){var a=this;o.default.rootNode.convertToNodeSpaceAR(e,e),o.default.rootNode.convertToNodeSpaceAR(i,i);var r=this.coinPool.size(),s=r>t?0:t-r;this.initCoinPool(s);for(var c=i.sub(e),l=c.len(),d=c.normalize(),h=cc.v2(1,-c.x/c.y).normalizeSelf(),u=function(t){var i=p.coinPool.get();i.setParent(o.default.rootNode);var r=cc.v2(e.x+n.MathTool.random(-5,5),e.y+n.MathTool.random(-5,5));i.setPosition(r),i.children[0].active=!1,i.children[1].active=!0,cc.Tween.stopAllByTarget(i),i.scale=.6,i.opacity=0;var s=n.MathTool.random()>.5?-1:1,u=d.mul(l/5).addSelf(h.mul(s*l/5)),f=d.mul(l/5*4).addSelf(h.mul(-s*-l/10)),y=l/600;y>1&&(y=1),cc.tween(i).delay(.1*t).call(function(){i.opacity=255}).bezierBy(y,u,f,c).to(.2,{scale:1.2,opacity:0}).call(function(){a.coinPool.put(i)}).start()},p=this,f=0;f<t;f++)u(f)},t.prototype.playCoinFlyAnim=function(t,e,i,n){var a=this;if(void 0===n&&(n=100),0!=t){t>10&&(t=Math.floor(t/1e3))<5&&(t=5);var r=this.coinPool.size(),s=r>t?0:t-r;this.initCoinPool(s),o.default.rootNode.convertToNodeSpaceAR(e,e),o.default.rootNode.convertToNodeSpaceAR(i,i);var c=this.getCirclePoints(n,e,t).map(function(t){var n=a.coinPool.get();return n.setPosition(e),n.scale=.6,n.opacity=255,n.children[0].active=!0,n.children[1].active=!1,o.default.rootNode.addChild(n),{node:n,stPos:e,mdPos:t,edPos:i,dis:t.sub(i).mag()}});(c=c.sort(function(t,e){return t.dis-e.dis>0?1:t.dis-e.dis<0?-1:0})).forEach(function(t,e){cc.tween(t.node).to(.3,{position:t.mdPos}).delay(.01*e).to(.5,{position:t.edPos}).to(.2,{scale:1.2,opacity:0}).call(function(){a.coinPool.put(t.node)}).start()})}},t.prototype.getCirclePoints=function(t,e,i,o){void 0===o&&(o=60);for(var n=[],a=Math.PI/180*Math.round(360/i),r=0;r<i;r++){var s=e.x+t*Math.sin(a*r),c=e.y+t*Math.cos(a*r);n.unshift(cc.v3(s+Math.random()*o,c+Math.random()*o,0))}return n},t._ins=null,t}();i.default=a,cc._RF.pop()},{GameConfig:"GameConfig",MathTool:"MathTool"}],Coin:[function(t,e,i){"use strict";cc._RF.push(e,"12aedA5T0ZIO4M92XmwkSo8","Coin");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=t("AudioDefine"),s=t("GameConfig"),c=t("GameData"),l=t("ColTag"),d=t("Trigger"),h=cc._decorator,u=h.ccclass,p=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinTip=null,e.numLabel=null,e._anim=null,e._targetNode=null,e._v2=new cc.Vec2,e._animing=!1,e}return o(e,t),e.prototype.onLoad=function(){this._anim=this.getComponent(cc.Animation),this._anim.play("CoinIdel"),this.coinTip.active=!1},e.prototype.update=function(t){this._targetNode&&(this.node.position.lerp(this._targetNode.position,6*t,this._v2),this._v2.y+=5,this.node.setPosition(this._v2))},e.prototype.onBeginContact=function(t,e,i){if(!this._animing){if(i.node.group==l.NodeGroup.Player){this._animing=!0;var o=this.coinTip;o.active=!0,o.setParent(s.default.rootNode);var n=cc.v2();this.node.convertToWorldSpaceAR(n,n),s.default.rootNode.convertToNodeSpaceAR(n,n),o.setPosition(n),this.numLabel.string="+"+c.default.RewardNum,c.default.TotalCoin+=c.default.RewardNum,cc.tween(this.numLabel.node).to(1,{y:80}).to(.3,{y:100,scale:1.1,opacity:0}).call(function(){o.destroy()}).start(),this.node.destroy(),a.default.instance.playAudio(r.AudioDefine.\u6536\u96c6\u91d1\u5e01,!1)}this._targetNode=i.node.parent}},n([p(cc.Node)],e.prototype,"coinTip",void 0),n([p(cc.Label)],e.prototype,"numLabel",void 0),n([u],e)}(d.default);i.default=f,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",ColTag:"ColTag",GameConfig:"GameConfig",GameData:"GameData",Trigger:"Trigger"}],ColTag:[function(t,e,i){"use strict";var o;cc._RF.push(e,"5e7f8mWFUNBwZUoX6/HayMl","ColTag"),Object.defineProperty(i,"__esModule",{value:!0}),i.NodeGroup=i.ColTag=void 0,(o=i.ColTag||(i.ColTag={}))[o.Default=0]="Default",o[o.Collide=1]="Collide",o[o.Player=2]="Player",o[o.Spike=3]="Spike",o[o.BapBenh=4]="BapBenh",o[o.Water=5]="Water",o[o.RoundMirror=9]="RoundMirror",function(t){t.Ground="Ground",t.Player="Player",t.Rock="Rock",t.SpikeTrap="SpikeTrap",t.Platform="Platform",t.BapBenh="BapBenh",t.SpikeRock="SpikeRock",t.Enemy="Enemy",t.Water="Water",t.Magnet="magnet"}(i.NodeGroup||(i.NodeGroup={})),cc._RF.pop()},{}],ColorAssembler2D:[function(t,e,i){"use strict";cc._RF.push(e,"fe69a0UUK5LcqMW1Lay4mMQ","ColorAssembler2D");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=a.executeInEditMode,l=a.requireComponent,d=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._colors=[],e._cloneColors=[],e}return o(e,t),Object.defineProperty(e.prototype,"colors",{get:function(){return this._colors},set:function(t){this._colors=t,this._updateColors()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){for(var t=0,e=this._colors;t<e.length;t++){var i=e[t];this._cloneColors.push(i.clone())}},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onDrawAfter=function(t){var e=this;this.scheduleOnce(function(){e._updateColors(t)})},e.prototype._updateColors=function(t){void 0===t&&(t=1),console.log("ssssssssssssssssssssssssssssssssssssssss");var e=this.getComponent(cc.RenderComponent);if(e){var i=e._assembler;if(i instanceof cc.Assembler2D){var o=i._renderData.uintVDatas[0];if(o)for(var n=this.node.color,a=i.floatsPerVert,r=0,s=i.colorOffset,c=o.length;s<c;s+=a){var l=this.colors[r]||n;l.setA(this._cloneColors[r].a*t),o[s]=l._val,r++}}}},n([s],e.prototype,"_colors",void 0),n([s({type:[cc.Color]})],e.prototype,"colors",null),n([r,c,l(cc.RenderComponent),d("i18n:MAIN_MENU.component.renderers/ColorAssembler2D-lamyoung.com")],e)}(cc.Component);i.default=h,cc._RF.pop()},{}],CongratulationAD:[function(t,e,i){"use strict";cc._RF.push(e,"815d0Xdna5Et7ilIxgp5XYX","CongratulationAD");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("UIPrefab"),s=t("GameData"),c=t("TipPrefab"),l=t("Skin"),d=cc._decorator,h=d.ccclass,u=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skels=[],e._targetName=null,e._callBack=null,e}var i;return o(e,t),i=e,e.prototype.onShow=function(t,e){console.log("name1:",t),s.default.addPassLVNOADSkin(t),console.log("name2:",t),this._targetName=Number(t),console.log("name3:",t),t=l.skinToSkel[t],this.skels.forEach(function(e,i){e.setSkin(t+"_"+(i+1))}),console.log("name4:",t),this._callBack=e},e.prototype.onHide=function(){var t=this;this.node.opacity=255,cc.tween(this.node).to(.3,{opacity:0}).call(function(){t.node.destroy()}).start()},e.prototype.onClickSure=function(){var t=this;a.default.watchAD(function(){s.default.addADNum(t._targetName),s.default.skin=t._targetName,s.default.saveSkin(t._targetName),s.default.subPassLVNOADSkin(t._targetName),t._callBack&&t._callBack(),i.hide()},function(){c.default.show("\u7f51\u7edc\u5f02\u5e38")})},e.prototype.onClickSkip=function(){i.hide()},e.uiName="Panel/CongratulationAD",n([u(sp.Skeleton)],e.prototype,"skels",void 0),i=n([h],e)}(r.default);i.default=p,cc._RF.pop()},{ADMgr:"ADMgr",GameData:"GameData",Skin:"Skin",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab"}],Congratulation:[function(t,e,i){"use strict";cc._RF.push(e,"82b7cYyI9lJmoGnZ2+khV6V","Congratulation");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("UIPrefab"),r=t("GameData"),s=t("Skin"),c=t("ADMgr"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skels=[],e}var i;return o(e,t),i=e,e.prototype.onShow=function(t,e){r.default.skin=t,r.default.saveSkin(t),t=s.skinToSkel[t],this.skels.forEach(function(e,i){e.setSkin(t+"_"+(i+1))}),this.callBack=e,cc.sys.platform==cc.sys.WECHAT_GAME&&c.default.hideBanner()},e.prototype.onHide=function(){this.callBack&&this.callBack(),this.node.destroy()},e.prototype.onClickSure=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&c.default.showBanner(),i.hide()},e.uiName="Panel/Congratulation",n([h(sp.Skeleton)],e.prototype,"skels",void 0),i=n([d],e)}(a.default);i.default=u,cc._RF.pop()},{ADMgr:"ADMgr",GameData:"GameData",Skin:"Skin",UIPrefab:"UIPrefab"}],DailyGift:[function(t,e,i){"use strict";cc._RF.push(e,"1c1c3jcikBNI66xpci3hPSi","DailyGift");var o,n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.RewardType=void 0;var r,s=t("ADMgr"),c=t("AudioManager"),l=t("Coin_fly_to_wallet"),d=t("UIPrefab"),h=t("AudioDefine"),u=t("GameData"),p=t("CoinComp"),f=t("HeartComp"),y=t("Congratulation"),g=cc._decorator,v=g.ccclass,_=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.daysNode=null,e._days=null,e._second=!1,e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){this._days=this.daysNode.children,s.default.showChaPing("2")},e.prototype.onShow=function(){this.node.opacity=0,cc.tween(this.node).to(.3,{opacity:255}).start()},e.prototype.onEnable=function(){var t,e=u.default.CanGetGift(),i=u.default.GiftGetTimes;i>=7?(i%=7,this._days[1].getChildByName("Two").active=!0,this._days[1].getChildByName("One").active=!1,this._days[6].getChildByName("Two").active=!0,this._days[6].getChildByName("One").active=!1,this._days[6].getChildByName("Daily Day_Special").active=!1,this._second=!0):(this._days[1].getChildByName("Two").active=!1,this._days[1].getChildByName("One").active=!0,this._days[6].getChildByName("Two").active=!1,this._days[6].getChildByName("One").active=!0);var o=this._days[6].children[0];cc.tween(o).to(10,{angle:360}).call(function(){o.angle=0}).union().repeatForever().start();for(var n=0;n<6;n++)t=this._days[n],i>n?(t.children[0].active=!1,t.children[1].active=!0,t.getChildByName("ClaimBtn").active=!1,t.getChildByName("Daily Day_Tick").active=!0):i==n&&e?(t.children[0].active=!1,t.children[1].active=!0,t.getChildByName("ClaimBtn").active=!0,t.getChildByName("Daily Day_Tick").active=!1,t.getComponent(cc.Animation).play()):(t.children[0].active=!0,t.children[1].active=!1,t.getChildByName("ClaimBtn").active=!1,t.getChildByName("Daily Day_Tick").active=!1);t=this._days[6],6==i?(t.getComponent(cc.Animation).play(),t.getComponent(cc.Button).interactable=!0):t.getComponent(cc.Button).interactable=!1},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).call(function(){t.node.destroy()}).start()},e.prototype.onClickClose=function(){i.hide()},e.prototype.onGetGift=function(t,e){var i=Number(e),n=this._days[i],a=C[i];if(i<6)if(n.getChildByName("Daily Day_Tick").active=!0,n.getChildByName("ClaimBtn").active=!1,n.getComponent(cc.Animation).pause(),n.scale=1,u.default.addGiftGetTime(),1!=i||this._second)for(var r=0,s=a;r<s.length;r++){var d=s[r],g=t.getLocation();d.type==o.Coin?(u.default.operateCoin(d.num),l.default.ins.playCoinFlyAnim(d.num,g,p.default.worldPos)):d.type==o.Heart&&(u.default.operateHeart(d.num),l.default.ins.playHeartFlyAnim(d.num,g,f.default.worldPos))}else y.default.show(21),u.default.skin=21,u.default.saveSkin(21);else{this._second||y.default.show(3);for(var v=0,_=a;v<_.length;v++)d=_[v],g=t.getLocation(),d.type==o.Coin?(u.default.operateCoin(d.num),l.default.ins.playCoinFlyAnim(d.num,g,p.default.worldPos)):d.type==o.Heart&&(u.default.operateHeart(d.num),l.default.ins.playHeartFlyAnim(d.num,g,f.default.worldPos));n.getComponent(cc.Button).interactable=!1,n.getComponent(cc.Animation).pause(),n.scale=1,u.default.addGiftGetTime()}c.default.instance.playAudio(h.AudioDefine.\u83b7\u5f97\u5956\u52b1)},e.uiName="Panel/DailyGift",a([_(cc.Node)],e.prototype,"daysNode",void 0),i=a([v],e)}(d.default);i.default=m,(r=o=i.RewardType||(i.RewardType={}))[r.Coin=0]="Coin",r[r.Heart=1]="Heart",r[r.Skin=2]="Skin";var C=[[{type:o.Coin,num:2e3}],[{type:o.Heart,num:7}],[{type:o.Heart,num:3}],[{type:o.Coin,num:6e3}],[{type:o.Heart,num:5}],[{type:o.Coin,num:7e3}],[{type:o.Skin,num:1},{type:o.Coin,num:1e4},{type:o.Heart,num:10}]];cc._RF.pop()},{ADMgr:"ADMgr",AudioDefine:"AudioDefine",AudioManager:"AudioManager",CoinComp:"CoinComp",Coin_fly_to_wallet:"Coin_fly_to_wallet",Congratulation:"Congratulation",GameData:"GameData",HeartComp:"HeartComp",UIPrefab:"UIPrefab"}],DailyItem:[function(t,e,i){"use strict";cc._RF.push(e,"b7906OF4ehIm7EWL84kNwlI","DailyItem");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.desLabel=null,e.dayLabel=null,e.sp=null,e}return o(e,t),e.prototype.init=function(t,e){this.dayLabel.string="\u7b2c"+e+"\u5929"},n([s(cc.Label)],e.prototype,"desLabel",void 0),n([s(cc.Label)],e.prototype,"dayLabel",void 0),n([s(cc.Sprite)],e.prototype,"sp",void 0),n([r],e)}(cc.Component);i.default=c,cc._RF.pop()},{}],Door:[function(t,e,i){"use strict";cc._RF.push(e,"2055ahwp4pIwpK3K0XnjK6P","Door");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("Player"),s=t("GameData"),c=t("GameDefine"),l=t("EventDefine"),d=t("Trigger"),h=["Object_Door1","Object_Door4","Object_Door2","Object_Door5","Object_DoorT1_1","Object_DoorT1_3","Object_DoorT1_2","Object_DoorT1_4","Object_DoorT2_1","Object_DoorT2_13","Object_DoorT2_2","Object_DoorT2_4","Object_DoorT3_1","Object_DoorT3_2","Object_DoorT3_3","Object_DoorT3_4"],u=cc._decorator,p=u.ccclass,f=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inDoor=null,e._type=c.PlayerType.A,e.clips=[],e.atlas=null,e._opening=!1,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,t==c.PlayerType.B?this.node.name="Door_B":this.node.name="Door_A")},enumerable:!1,configurable:!0}),e.prototype.init=function(t,e){this.type=t.type,this.level=e},Object.defineProperty(e.prototype,"level",{set:function(t){if(null!=this.atlas){var e=this.node.children,i=Math.floor((t-1)/10)%4;e[0].getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame(h[4*i+2*this._type]),e[2].children[0].getComponent(cc.Sprite).spriteFrame=this.atlas.getSpriteFrame(h[4*i+2*this._type+1])}},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.level=s.default.Level},e.prototype.onBeginContact=function(t,e,i){var o=i.getComponent(r.default);o.type==this._type&&o.getKey&&(o.inDoor=!0,this.opening=!0)},e.prototype.onEndContact=function(t,e,i){var o=i.getComponent(r.default);o.type==this._type&&o.getKey&&(o.inDoor=!1,this.opening=!1)},Object.defineProperty(e.prototype,"opening",{set:function(t){var e=this;if(this._opening!=t){this._opening=t,cc.Tween.stopAllByTarget(this.inDoor),this.unscheduleAllCallbacks();var i=void 0;t?(a.EventMgr.emit(l.EvnetDefine.Indoor),i=(180-this.inDoor.y)/300,cc.tween(this.inDoor).to(i,{y:180},{easing:cc.easing.sineInOut}).start(),cc.audioEngine.playEffect(this.clips[0],!1)):(a.EventMgr.emit(l.EvnetDefine.OutDoor),i=this.inDoor.y/300,cc.tween(this.inDoor).to(i,{y:0},{easing:cc.easing.sineInOut}).start(),this.scheduleOnce(function(){cc.audioEngine.playEffect(e.clips[1],!1)},.9*i))}},enumerable:!1,configurable:!0}),n([f({type:cc.Node,visible:!1})],e.prototype,"inDoor",void 0),n([f],e.prototype,"_type",void 0),n([f({type:cc.AudioClip,visible:!1})],e.prototype,"clips",void 0),n([f(cc.SpriteAtlas)],e.prototype,"atlas",void 0),n([f({type:cc.Enum(c.PlayerType),visible:!0})],e.prototype,"type",null),n([p],e)}(d.default);i.default=y,cc._RF.pop()},{EventDefine:"EventDefine",EventMgr:"EventMgr",GameData:"GameData",GameDefine:"GameDefine",Player:"Player",Trigger:"Trigger"}],Dragon:[function(t,e,i){"use strict";cc._RF.push(e,"d9e5eUAcIlGp7FCDcsG390o","Dragon");var o,n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var r,s=t("Player"),c=t("PlayerState"),l=t("ColTag"),d=t("Trigger"),h=cc._decorator,u=h.ccclass,p=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.head=null,e.fireMask=null,e.fireBody=null,e.fireAlways=!1,e._flip=!1,e._fire=null,e}return n(e,t),Object.defineProperty(e.prototype,"filp",{get:function(){return this._flip},set:function(t){this._flip!=t&&(this._flip=t,this.node.scaleX=t?-1:1)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.head.setCompleteListener(this.onSkeAnimFinish.bind(this)),this._fire=this.fireMask.getComponentInChildren(sp.Skeleton),this._fire.enabled=!1,this.fireBody.onBeginContact=this.onBeginContact.bind(this)},e.prototype.onSkeAnimFinish=function(t){var e=this;if(!this.fireAlways)switch(t.animation.name){case o.idle:this.scheduleOnce(function(){e.head.setAnimation(0,o.fire,!1)},2);break;case o.fire:var i=this.fireBody.node;i.active=!0,i.x=-135,cc.tween(i).to(.2,{x:50}).start(),this.head.setAnimation(0,o.fire2,!0),this._fire.enabled=!0,this._fire.setAnimation(0,"animation",!1),this.scheduleOnce(function(){i.active=!1,e._fire.enabled=!1,e.head.setAnimation(0,o.fire_close,!1)},2);break;case o.fire2:break;case o.fire_close:this.head.setAnimation(0,o.idle,!1)}},e.prototype.start=function(){this.fireAlways?(this.head.setAnimation(0,o.fire2,!0),this._fire.setAnimation(0,"animation",!0),this._fire.enabled=!0,this.fireBody.node.x=this._flip?250:50,this.fireBody.getComponent(cc.PhysicsCollider).apply()):(this.fireBody.node.active=!1,this.head.setAnimation(0,o.idle,!1))},e.prototype.init=function(t){this.node.angle=t.angle,this.filp=!t.right},e.prototype.onBeginContact=function(t,e,i){var o=this;if(i.node.group==l.NodeGroup.Player)i.getComponent(s.default).state=c.PlayerState.Die;else{var n=t.getWorldManifold().points[0];if(null==n)return;this.fireMask.node.convertToNodeSpaceAR(n,n),this.fireMask.node.width=n.x,cc.Tween.stopAllByTarget(this.fireBody.node),this.scheduleOnce(function(){o.fireBody.node.x=o.filp?250-n.x:n.x-200})}},e.prototype.onEndContact=function(t,e,i){i.node.group!=l.NodeGroup.Player&&(this.fireBody.node.x=this.filp?250:50)},a([p(sp.Skeleton)],e.prototype,"head",void 0),a([p(cc.Mask)],e.prototype,"fireMask",void 0),a([p(cc.RigidBody)],e.prototype,"fireBody",void 0),a([p(cc.Boolean)],e.prototype,"fireAlways",void 0),a([p],e.prototype,"_flip",void 0),a([p(cc.Boolean)],e.prototype,"filp",null),a([u],e)}(d.default);i.default=f,(r=o||(o={})).idle="idle",r.fire="fire",r.fire2="fire2",r.fire_close="fire_close",cc._RF.pop()},{ColTag:"ColTag",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],EventDefine:[function(t,e,i){"use strict";cc._RF.push(e,"36ca0AU9/NPzakK8ktLH9Lz","EventDefine"),Object.defineProperty(i,"__esModule",{value:!0}),i.EvnetDefine=void 0,i.EvnetDefine={MoveBtnDown:"MoveBtnDown",MoveBtnUp:"MoveBtnUp",LeverFan:"LeverFan",SimulateKey:"SimulateKey",Indoor:"InDoor",OutDoor:"OutDoor",CoinGet:"CoinGet",CoinUse:"CoinUse",HeartGet:"HeartGet",HeartUse:"HeartUse",UIOpen:"UIOpen",UIClose:"UIClose"},cc._RF.pop()},{}],EventMgr:[function(t,e,i){"use strict";cc._RF.push(e,"f9d47DyaeRIK5v5heZJxg5d","EventMgr"),Object.defineProperty(i,"__esModule",{value:!0}),i.EventMgr=void 0;var o=function(){function t(){}return t.on=function(t,e,i){this.events.has(t)||this.events.set(t,[]),this.events.get(t).push({callback:e,target:i})},t.once=function(t,e,i){this.onceEvents.has(t)||this.onceEvents.set(t,[]),this.onceEvents.get(t).push({callback:e,target:i})},t.off=function(t,e,i){if(this.events.has(t))for(var o=this.events.get(t),n=0;n<o.length;n++)if(o[n].target===i&&(o[n].callback===e||o[n].callback.toString()===e.toString())){o.splice(n,1);break}if(this.onceEvents.has(t))for(o=this.onceEvents.get(t),n=0;n<o.length;n++)if(o[n].target===i&&(o[n].callback===e||o[n].callback.toString()===e.toString())){o.splice(n,1);break}},t.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this.events.has(t))for(var o=this.events.get(t),n=0;n<o.length;n++)o[n].callback.apply(o[n].target,e);if(this.onceEvents.has(t)){for(o=this.onceEvents.get(t),n=0;n<o.length;n++)o[n].callback.apply(o[n].target,e);o.length=0}},t.remove=function(t){this.events.has(t)&&this.events.delete(t),this.onceEvents.has(t)&&this.onceEvents.delete(t)},t.removeAll=function(t){null==t&&(this.events.clear(),this.onceEvents.clear())},t.events=new Map,t.onceEvents=new Map,t}();i.EventMgr=o,cc._RF.pop()},{}],FallDown:[function(t,e,i){"use strict";cc._RF.push(e,"e29c7ga9SpCGbpH5zs9Dk6G","FallDown");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("InsPrefab"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="FallDown",e}return o(e,t),e.prototype.onShow=function(t,e){this.node.setSiblingIndex(e),this.node.parent.convertToNodeSpaceAR(t,t),this.node.setPosition(t)},e.prototype.onFinish=function(){this.node.destroy()},n([s],e)}(a.default);i.default=c,cc._RF.pop()},{InsPrefab:"InsPrefab"}],FlowerKiller:[function(t,e,i){"use strict";cc._RF.push(e,"77da3wJl7VBuomXcIejSKQQ","FlowerKiller");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("MathTool"),r=t("Player"),s=t("PlayerState"),c=t("ColTag"),l=t("Trigger"),d=cc._decorator,h=d.ccclass;d.property;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ske=null,e._rigid=null,e._animName="",e._player=null,e.onPreSolve=null,e.onPostSolve=null,e}return o(e,t),e.prototype.onLoad=function(){this._ske=this.getComponentInChildren(sp.Skeleton),this._ske.setMix("sleep","idle",.2),this._ske.setMix("idle","sleep",.2),this._ske.setMix("sleep","attack",.2),this._ske.setMix("attack","sleep",.2),this._ske.setMix("idle","attack",.2),this._ske.setCompleteListener(this.onSkeAnimFinish.bind(this))},e.prototype.start=function(){this._ske.setAnimation(0,"idle",!0),this.scheduleOnce(this.playIdle,a.MathTool.random(0,1))},e.prototype.onSkeAnimFinish=function(t){"attack"==t.animation.name&&this.playSleep()},e.prototype.playIdle=function(){var t=this;"idle"!=this._animName&&(this._animName="idle",this._ske.setAnimation(0,"idle",!0),this.scheduleOnce(function(){t.playSleep()},2))},e.prototype.playSleep=function(){var t=this;"sleep"!=this._animName&&(this._animName="sleep",this._ske.setAnimation(0,"sleep",!0),this.scheduleOnce(function(){t.playIdle()},2))},e.prototype.playAttack=function(){"attack"!=this._animName&&(this._animName="attack",this._ske.setAnimation(0,"attack",!1),this.unscheduleAllCallbacks())},e.prototype.onBeginContact=function(t,e,i){this._player=i.getComponent(r.default)},e.prototype.onEndContact=function(t,e,i){i.node.group==c.NodeGroup.Player&&(this._player=null)},e.prototype.update=function(){if(this._player&&"idle"==this._animName){this._ske.node.scaleX=this.node.x-this._player.node.x>0?.4147364:-.4147364,this.playAttack();var t=this._player;t.canCtr=!1,this.scheduleOnce(function(){t.canCtr=!0,s.Die.suffix="2",t.state=s.PlayerState.Die},.5),this._player=null}},n([h],e)}(l.default);i.default=u,cc._RF.pop()},{ColTag:"ColTag",MathTool:"MathTool",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],GameConfig:[function(t,e,i){"use strict";cc._RF.push(e,"69147PAV6NB1pbgqF3T8qVL","GameConfig"),Object.defineProperty(i,"__esModule",{value:!0}),i.initGameConfig=void 0;var o=function(){function t(){}return t.PlayerMaxXSpeed=400,t.PlayerAc=2e3,t.PlayerDragAc=2e3,t.PlayerJumpTimes=1,t.PlayerJumpS=1400,t.PlatformS=500,t.AirFanForce=cc.v2(0,3e4),t.RailCartSpeed=150,t.phyMgr=null,t.Debug=!1,t.startBuyCoin=2e4,t.CoinStep=2e4,t.ADCoin=3e3,t.rootNode=null,t.FreeSpinTime=9e5,t.DailyFreshHour=6,t.Click=!0,t.MaxLevel=140,t.walls=null,t}();i.default=o,i.initGameConfig=function(){o.phyMgr=cc.director.getPhysicsManager(),o.phyMgr.enabled=!0,o.phyMgr.gravity=cc.v2(0,-960),o.Debug&&(o.phyMgr.debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit)},cc._RF.pop()},{}],GameData:[function(t,e,i){"use strict";cc._RF.push(e,"1bb23XF5I1FoZkwuOFr3W16","GameData"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("csvManager"),n=t("EventMgr"),a=t("GameConfig"),r=t("EventDefine"),s=function(){function t(){}return Object.defineProperty(t,"Level",{get:function(){return this._Level},set:function(t){this._Level!=t&&(this._Level=t,this.setPassLevel(t))},enumerable:!1,configurable:!0}),t.qureySkinState=function(t){if(this._GotSkins)return-1!=this._GotSkins.indexOf(t);console.log("data1");var e=cc.sys.localStorage.getItem("Skins");if(!e||""==e||null==e||null==e)return this._GotSkins=[0],!1;try{return this._GotSkins=JSON.parse(cc.sys.localStorage.getItem("Skins")),null!=this._GotSkins&&null!=this._GotSkins||(this._GotSkins=[0]),-1!=this._GotSkins.indexOf(t)}catch(t){return console.error("json err....",t),!1}},t.saveSkin=function(t){-1==this._GotSkins.indexOf(t)&&(this._GotSkins.push(t),cc.sys.localStorage.setItem("Skins",JSON.stringify(this._GotSkins)))},Object.defineProperty(t,"GotSkins",{get:function(){if(this._GotSkins)return this._GotSkins;var t=cc.sys.localStorage.getItem("Skins");if(!t||""==t||null==t||null==t)return this._GotSkins=[0],this._GotSkins.slice();try{return this._GotSkins=JSON.parse(cc.sys.localStorage.getItem("Skins")),null!=this._GotSkins&&null!=this._GotSkins||(this._GotSkins=[0]),this._GotSkins.slice()}catch(t){return console.error("json err....",t),this._GotSkins=[0],this._GotSkins.slice()}console.log("data222")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"skin",{get:function(){return this._skin?this._skin:(this._skin=Number(cc.sys.localStorage.getItem("nowSkin")),this._skin)},set:function(t){this._skin!=t&&(this._skin=t,cc.sys.localStorage.setItem("nowSkin",this._skin),this.markTime())},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Coin",{get:function(){return null!=this._Coin?this._Coin:(this._Coin=Number(cc.sys.localStorage.getItem("Coin")),this._Coin)},enumerable:!1,configurable:!0}),t.operateCoin=function(t){var e=this.Coin+t;return!(e<0)&&(this._Coin=e,cc.sys.localStorage.setItem("Coin",this._Coin),n.EventMgr.emit(t>0?r.EvnetDefine.CoinGet:r.EvnetDefine.CoinUse,t,e),this.markTime(),e)},Object.defineProperty(t,"Heart",{get:function(){return null!=this._Heart?this._Heart:(this._Heart=Number(cc.sys.localStorage.getItem("Heart")),this._Heart)},enumerable:!1,configurable:!0}),t.operateHeart=function(t){var e=this.Heart+t;return!(e<0)&&(this._Heart=e,cc.sys.localStorage.setItem("Heart",this._Heart),n.EventMgr.emit(t>0?r.EvnetDefine.HeartGet:r.EvnetDefine.HeartUse,t,e),this.markTime(),e)},Object.defineProperty(t,"PassLevel",{get:function(){return null!=this._PassLevel?this._PassLevel:(this._PassLevel=Number(cc.sys.localStorage.getItem("PassLevel")),this._PassLevel||(this._PassLevel=1),this._PassLevel)},enumerable:!1,configurable:!0}),t.setPassLevel=function(t){this._PassLevel<t&&(this._PassLevel=t,cc.sys.localStorage.setItem("PassLevel",t))},t.qureySkinADNum=function(t){if(!this._ADSkin){console.log("data3");var e=cc.sys.localStorage.getItem("ADSkin");if(e&&""!=e&&null!=e&&null!=e)try{this._ADSkin=JSON.parse(cc.sys.localStorage.getItem("ADSkin"))}catch(t){console.error("json err....",t),this._ADSkin=cc.sys.localStorage.getItem("ADSkin")}else this._ADSkin={}}var i=this._ADSkin[t];return i||(i=0),i},t.addADNum=function(t){var e=this.qureySkinADNum(t);return this._ADSkin[t]=e+1,cc.sys.localStorage.setItem("ADSkin",JSON.stringify(this._ADSkin)),this.markTime(),this._ADSkin[t]},Object.defineProperty(t,"GiftGetTimes",{get:function(){return this._GiftGetTimes?this._GiftGetTimes:(this._GiftGetTimes=Number(cc.sys.localStorage.getItem("GiftGetTimes")),this._GiftGetTimes)},enumerable:!1,configurable:!0}),t.addGiftGetTime=function(){var t=this.GiftGetTimes;this._GiftGetTimes=t+1,this.markTime(),this._LastGetTime=this._LastTime,cc.sys.localStorage.setItem("LastGetTime",this._LastGetTime),cc.sys.localStorage.setItem("GiftGetTimes",this._GiftGetTimes)},Object.defineProperty(t,"LastGetTime",{get:function(){return this._LastGetTime?this._LastGetTime:(this._LastGetTime=Number(cc.sys.localStorage.getItem("LastGetTime")),this._LastGetTime)},enumerable:!1,configurable:!0}),t.CanGetGift=function(){var t=new Date(this.LastGetTime),e=new Date;return e>t&&e.getDate()>t.getDate()&&e.getHours()>=a.default.DailyFreshHour},Object.defineProperty(t,"LastTime",{get:function(){return this._LastTime?this._LastTime:(this._LastTime=Number(cc.sys.localStorage.getItem("LastTime")),this._LastTime||(this._LastTime=this.nowTime),this._LastTime)},enumerable:!1,configurable:!0}),t.markTime=function(){this._LastTime=this.nowTime,cc.sys.localStorage.setItem("LastTime",this._LastTime)},Object.defineProperty(t,"FreeSpinTime",{get:function(){return this._freeSpinTime?this._freeSpinTime:(this._freeSpinTime=Number(cc.sys.localStorage.getItem("FreeGiftTime")),this._freeSpinTime)},enumerable:!1,configurable:!0}),t.markFreeSpinTime=function(){return this.markTime(),this._freeSpinTime=this._LastTime,cc.sys.localStorage.setItem("FreeGiftTime",this._freeSpinTime),this._freeSpinTime},Object.defineProperty(t,"PassLvAndNoADSkin",{get:function(){if(this._PassLvAndNoADSkin)return this._PassLvAndNoADSkin;var t=cc.sys.localStorage.getItem("Skins");if(t&&""!=t&&null!=t&&null!=t)try{this._PassLvAndNoADSkin=JSON.parse(cc.sys.localStorage.getItem("PassLvAndNoADSkin"))}catch(t){console.error("jaon err....1",t),this._PassLvAndNoADSkin=[],console.error("jaon err....2",t)}else this._PassLvAndNoADSkin=[];return this._PassLvAndNoADSkin},enumerable:!1,configurable:!0}),t.qureyPassLVNOADSkin=function(t){return-1!=this.PassLvAndNoADSkin.indexOf(t)},t.addPassLVNOADSkin=function(t){console.log("addPassLVNOADSkin1:",t);var e=this.PassLvAndNoADSkin;if(console.log("addPassLVNOADSkin2:",t),-1==e.indexOf(t))try{e.push(t),console.log("Ssssssssssssss;",JSON.stringify(e)),cc.sys.localStorage.setItem("PassLvAndNoADSkin",JSON.stringify(e)),this.markTime()}catch(t){console.error("addPassLVNOADSkin1111",t),this.markTime()}console.log("addPassLVNOADSkin3:",t)},t.subPassLVNOADSkin=function(t){var e=this.PassLvAndNoADSkin,i=e.indexOf(t);-1!=i&&(this.saveSkin(t),e.splice(i,1),cc.sys.localStorage.setItem("PassLvAndNoADSkin",JSON.stringify(e)),this.markTime())},t.initCsvMgr=function(t){this.csvInit||(this.csvInit=!0,this._csv.addTable(t.name,t.text))},t.qureyLevelUrl=function(t){var e=this._csv.queryByID("Level",String(t));return null==e?"Level"+t:"e"==(e=e.targetLevel)[0]?"e-Level"+e.slice(1):"Level"+e},Object.defineProperty(t,"Guided",{get:function(){return Boolean(cc.sys.localStorage.getItem("isGuide"))},enumerable:!1,configurable:!0}),t.markGuide=function(){cc.sys.localStorage.setItem("isGuide",!0)},t.TotalCoin=0,t._Level=9,t.RewardNum=100,t._GotSkins=null,t._skin=null,t._Coin=null,t._Heart=null,t._PassLevel=null,t._ADSkin=null,t._GiftGetTimes=null,t._LastGetTime=null,t._LastTime=null,t._freeSpinTime=0,t._PassLvAndNoADSkin=null,t.csvInit=!1,t._csv=new o.CSVManager,t}();i.default=s,cc.director.on(cc.Director.EVENT_BEFORE_UPDATE,function(){s.nowTime=(new Date).getTime()}),cc._RF.pop()},{EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",csvManager:"csvManager"}],GameDefine:[function(t,e,i){"use strict";cc._RF.push(e,"aca842yiVpKMqg3oXFk0d4T","GameDefine");var o,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.Range=i.PlayerType=void 0,(o=i.PlayerType||(i.PlayerType={}))[o.A=0]="A",o[o.B=1]="B",o[o.C=2]="C";var a=cc._decorator,r=a.ccclass,s=a.property,c=function(){function t(){this.min=-10,this.max=10}return n([s({type:cc.Integer})],t.prototype,"min",void 0),n([s({type:cc.Integer})],t.prototype,"max",void 0),n([r("Range")],t)}();i.Range=c,cc._RF.pop()},{}],GamePage:[function(t,e,i){"use strict";cc._RF.push(e,"ea79fSHIWROh5B3dU4RLXn2","GamePage");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("AudioManager"),s=t("EventMgr"),c=t("ymsdkConfig"),l=t("AudioDefine"),d=t("CameraMove"),h=t("GameConfig"),u=t("GameData"),p=t("GameDefine"),f=t("EventDefine"),y=t("Ground"),g=t("Trigger"),v=t("TouchComp"),_=t("Player"),m=t("Start"),C=t("ymsdk"),w=cc._decorator,b=w.ccclass,P=w.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._Level=1,e._delay=!1,e._playerA=null,e._playerB=null,e.ctrPlayer=null,e.cameraMove=null,e.safePoints=[],e._touchComp=null,e._inDoorTag=0,e.SceneCreatedFinish=null,e}var i;return o(e,t),i=e,Object.defineProperty(e.prototype,"Level",{get:function(){return this._Level},set:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fresh",{get:function(){return!1},set:function(){this.onUpdateData()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){i.ins=this,u.default.Level<u.default.PassLevel?u.default.RewardNum=1:u.default.RewardNum=100,h.default.rootNode=this.node,r.default.instance.playBGMusic(l.AudioDefine.\u80cc\u666f\u97f3\u4e502);var t=cc.find("BG",this.node);if(t&&(t.removeComponent(cc.Animation),t=t.children[2],cc.tween(t).to(4,{opacity:50}).to(4,{opacity:255}).union().repeatForever().start()),h.default.walls){var e=cc.find("BG",this.node).children[0].getComponent(cc.Sprite),o=Math.floor((u.default.Level-1)/10)%4;e.spriteFrame=h.default.walls[[2,6,4,7][o]-1],o=Math.floor((u.default.Level-1)/10)%4;var n=h.default.walls[2],s=cc.find("Grounds",this.node).getComponentsInChildren(y.default);console.log(n.name);for(var c=0,d=s;c<d.length;c++)d[c].bgNode.getComponent(cc.Sprite).spriteFrame=n}if(a.default.getIsHuaWei())try{cc.find("AD",this.node).active=!1}catch(t){}},e.prototype.onEnable=function(){m.default.FromWin||(c.default.channel==C.channelType.byte?(a.default.hideBanner(),a.default.startRecord()):a.default.showBanner()),u.default.TotalCoin=0,h.default.Click=!0,s.EventMgr.on(f.EvnetDefine.Indoor,this.onInDoor,this),s.EventMgr.on(f.EvnetDefine.OutDoor,this.onOutDoor,this)},e.prototype.onDisable=function(){c.default.channel==C.channelType.byte&&a.default.stopRecord(),s.EventMgr.off(f.EvnetDefine.Indoor,this.onInDoor,this),s.EventMgr.off(f.EvnetDefine.OutDoor,this.onOutDoor,this)},e.prototype.start=function(){var t=this;this._playerA=cc.find("Players/Player_A",this.node).getComponent(_.default),this._playerB=cc.find("Players/Player_B",this.node).getComponent(_.default),this.cameraMove=cc.find("Main Camera",this.node).getComponent(d.default),this.changeCtr(p.PlayerType.A);var e=cc.find("SafePoints",this.node);if(this.safePoints.length=0,e)for(var i=0,o=e.children;i<o.length;i++){var n=o[i].getPosition();this.safePoints.push(n)}v.default.show(function(e){t._touchComp=e})},e.prototype.changeCtr=function(t){t==p.PlayerType.A?(this.ctrPlayer=this._playerA,this._playerA.canCtr=!0,this._playerB.canCtr=!1,this.cameraMove.setTarget(this._playerA.node)):(this.ctrPlayer=this._playerB,this._playerA.canCtr=!1,this._playerB.canCtr=!0,this.cameraMove.setTarget(this._playerB.node))},e.prototype.revive=function(){this._playerA.revive(),this._playerB.revive()},e.prototype.magnet=function(){this._playerA.magnet=!0,this._playerB.magnet=!0},e.prototype.showGetKey=function(t,e){this.cameraMove.cameras[0].getWorldToScreenPoint(e,e),this._touchComp.showGetKey(t,e)},e.prototype.onInDoor=function(){this._inDoorTag++,2==this._inDoorTag&&(this._playerA.canCtr=!1,this._playerB.canCtr=!1,this.scheduleOnce(function(){m.default.FromWin=!0,cc.director.loadScene("Main")},2))},e.prototype.onOutDoor=function(){this._inDoorTag--},e.prototype.onPreLoadFinish=function(){var t=this,e=Editor.assetdb.remote.urlToUuid("db://assets/res/Config/Level01.json");cc.assetManager.loadAny(e,function(e,o){if(!e){var n=o.json["Level "+t.Level];console.log(n);var a=cc.v2(),r=new cc.Node;r.name="Grounds",r.setParent(t.node);for(var s=null,c=i._editPrefab.Ground,l=0,d=n.Grounds;l<d.length;l++){for(var h=d[l],u=[],p=0,f=h.points;p<f.length;p++){var g=f[p];a=cc.v2(Math.round(100*g.x),Math.round(100*g.y));var v=u.length;a.equals(u[v-1])||(u[v-2]&&(u[v-2].y==u[v-1].y&&u[v-1].y==a.y||u[v-2].x==u[v-1].x&&u[v-1].x==a.x)?(u.pop(),u.push(a)):u.push(a))}(s=cc.instantiate(c)).setPosition(100*h.x,100*h.y),s.setParent(r),s.getComponent(y.default).init(u,t._Level,i._editPrefab)}var _=Object.keys(n),m=_.indexOf("Grounds");_.splice(m,1);for(var C=0,w=_;C<w.length;C++){var b=w[C];t.createFormPre(b.slice(0,b.length-1),n[b])}c=i._editPrefab["Main Camera"],t.node.addChild(cc.instantiate(c)),t.node.name="Level"+t._Level;var P=cc.find("BG",t.node).children[0].getComponent(cc.Sprite);m=Math.floor((t._Level-1)/10)%4,P.spriteFrame=i._editPrefab[["Wall2","Wall6","Wall4","Wall7"][m]],t.freshIndex(),t.SceneCreatedFinish&&t.SceneCreatedFinish()}})},e.prototype.onInitFinish=function(){var t=this;if(Object.keys(i._editPrefab).length>10)this.onPreLoadFinish();else{var e=[],o=2;Editor.assetdb.queryAssets("db://assets/res/Prefab/**/*","prefab",function(t,i){for(var o=0,a=i;o<a.length;o++){var r=a[o];e.push(r.uuid)}n()}),Editor.assetdb.queryAssets("db://assets/res/Wall/**/*","sprite-frame",function(t,i){for(var o=0,a=i;o<a.length;o++){var r=a[o];e.push(r.uuid)}n()});var n=function(){--o>0||cc.assetManager.loadAny(e,function(e,o){for(var n=0,a=o;n<a.length;n++){var r=a[n];i._editPrefab[r.name]=r}t.onPreLoadFinish()})}}},e.prototype.onUpdateData=function(){var t=this,e=Editor.assetdb.remote.urlToUuid("db://assets/res/Config/Level01.json");cc.assetManager.loadAny(e,function(e,o){var n;if(!e)for(var a=o.json["Level "+t.Level],r=["Doors"],s=r.length,c=function(){0==--s&&(t.freshIndex(),t.SceneCreatedFinish&&t.SceneCreatedFinish())},l=function(e){null===(n=cc.find(e,t.node))||void 0===n||n.destroy();var o=e.slice(0,e.length-1);if(i._editPrefab[o])t.createFormPre(o,a[e]),c();else{var r="db://assets/res/Prefab/"+o+".prefab",s=Editor.assetdb.remote.urlToUuid(r);cc.assetManager.loadAny(s,function(n,r){i._editPrefab[o]=r,t.createFormPre(o,a[e]),c()})}},d=0,h=r;d<h.length;d++)l(h[d])})},e.prototype.freshIndex=function(){for(var t,e=0,i=["Doors","Rocks","Teleports","Waters","MovePlatforms","Keys","Players","RailCarts","Waters","Grounds","Coins","Signs","LeverFans"];e<i.length;e++){var o=i[e];null===(t=cc.find(o,this.node))||void 0===t||t.setSiblingIndex(100)}},e.prototype.createFormPre=function(t,e){var o;if(e&&0!=e.length){var n,a=new cc.Node;a.name=t+"s",a.setParent(this.node);for(var r=cc.v2(),s=i._editPrefab[t],c=0,l=e;c<l.length;c++){var d=l[c];r.set(d).mulSelf(100),(n=cc.instantiate(s)).setPosition(r),n.setParent(a),null===(o=n.getComponent(g.default))||void 0===o||o.init(d,this._Level)}}},e.ins=null,e._editPrefab={},n([P(cc.Integer)],e.prototype,"_Level",void 0),n([P(cc.Integer)],e.prototype,"Level",null),n([P],e.prototype,"fresh",null),i=n([b],e)}(cc.Component);i.default=S,cc._RF.pop()},{ADMgr:"ADMgr",AudioDefine:"AudioDefine",AudioManager:"AudioManager",CameraMove:"CameraMove",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",GameData:"GameData",GameDefine:"GameDefine",Ground:"Ground",Player:"Player",Start:"Start",TouchComp:"TouchComp",Trigger:"Trigger",ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],Godz:[function(t,e,i){"use strict";cc._RF.push(e,"2f713+SaoxNt5so+fOq6XrC","Godz");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("GameDefine"),c=t("ColTag"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.godz=null,e.fire=null,e.fireColNode=null,e.moveXRange=null,e._right=!1,e._rigid=null,e._animName=null,e.onPreSolve=null,e.onEndContact=null,e.onPostSolve=null,e}return o(e,t),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right!=t&&(this._right=t,this.node.scaleX=t?-1:1)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._rigid=this.getComponent(cc.RigidBody),this.godz.setCompleteListener(this.onGodzAnimFinish.bind(this)),this.godz.setMix("walk","idle",.2),this.godz.setMix("idle","walk",.2),this.fireColNode.getComponent(cc.RigidBody).onBeginContact=this.onBeginContact02.bind(this),this.fireColNode.active=!1},e.prototype.start=function(){this.playIdle()},e.prototype.update=function(t){var e=this._rigid.linearVelocity;switch(e.x=0,e.y>0&&(e.y=0),this._rigid.linearVelocity=e,this.godz.animation){case"walk":var i=void 0;this.right?(i=this.node.x+100*t)>this.moveXRange.max&&(i=this.moveXRange.max,this.playPreAttack()):(i=this.node.x-100*t)<this.moveXRange.min&&(i=this.moveXRange.min,this.playPreAttack()),this.node.x=i}},e.prototype.onGodzAnimFinish=function(t){switch(t.animation.name){case"idle":this.playWalk();break;case"pre_attack":this.playAttack();break;case"end_attack":case"bite":this.playWalk()}},e.prototype.playIdle=function(){"idle"!=this._animName&&(this._animName="idle",this.fire.node.active=!1,this.godz.setAnimation(0,"idle",!1))},e.prototype.playPreAttack=function(){this.godz.setAnimation(0,"pre_attack",!1)},e.prototype.playAttack=function(){var t=this;this.fireColNode.active=!0,this.fireColNode.setPosition(0,0),this.fireColNode.getComponent(cc.PhysicsCollider).apply(),this.fire.node.active=!0,this.fire.setAnimation(0,"animation",!1),this.godz.setAnimation(0,"attack",!0),this._animName="attack",this.scheduleOnce(function(){t.fireColNode.active=!1,t.playEndAttack()},2)},e.prototype.playEndAttack=function(){"end_attack"!=this._animName&&(this._animName="end_attack",this.fire.node.active=!1,this.godz.setAnimation(0,"end_attack",!1))},e.prototype.playDie=function(){var t=this;"die"!=this._animName&&(this._animName="die",this.unscheduleAllCallbacks(),this.fire.node.active=!1,this.godz.setAnimation(0,"die",!1),this.scheduleOnce(function(){t._rigid.type=cc.RigidBodyType.Static,t._rigid.getComponent(cc.PhysicsBoxCollider).enabled=!1},.5))},e.prototype.playBite=function(t){"bite"!=this._animName&&(this._animName="bite",this.fire.node.active=!1,this.godz.setAnimation(0,"bite",!1),t.node.x>this.node.x?this.right=!0:this.right=!1,this.scheduleOnce(function(){t.state=r.PlayerState.Die},.5))},e.prototype.playWalk=function(){"walk"!=this._animName&&(this._animName="walk",this.right=!this._right,this.fire.node.active=!1,this.godz.setAnimation(0,"walk",!0))},e.prototype.onBeginContact=function(t,e,i){switch(i.node.group){case c.NodeGroup.Water:case c.NodeGroup.SpikeTrap:this.playDie();break;case c.NodeGroup.Player:var o=i.getComponent(a.default);if(o.state==r.PlayerState.Die)return;this.playBite(o)}},e.prototype.onBeginContact02=function(t,e,i){"attack"==this._animName&&i.node.group==c.NodeGroup.Player&&(i.getComponent(a.default).state=r.PlayerState.Die)},n([h(sp.Skeleton)],e.prototype,"godz",void 0),n([h(sp.Skeleton)],e.prototype,"fire",void 0),n([h(cc.Node)],e.prototype,"fireColNode",void 0),n([h({type:s.Range})],e.prototype,"moveXRange",void 0),n([h],e.prototype,"_right",void 0),n([h(cc.Boolean)],e.prototype,"right",null),n([d],e)}(cc.Component);i.default=u,cc._RF.pop()},{ColTag:"ColTag",GameDefine:"GameDefine",Player:"Player",PlayerState:"PlayerState"}],GraphicsSpriteMesh:[function(t,e,i){"use strict";cc._RF.push(e,"e2935kh79xBYIOjqSHxDECx","GraphicsSpriteMesh");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=a.requireComponent,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.texture=null,e.graphics=null,e._sprite=null,e._spriteWidth=0,e._spriteHeight=0,e._vertices={x:[],y:[],nu:[],nv:[],triangles:[]},e}return o(e,t),e.prototype.onLoad=function(){this.graphics=this.node.getComponent(cc.Graphics),this._sprite=this.node.getComponentInChildren(cc.Sprite),this._sprite.type=cc.Sprite.Type.MESH,this._sprite.node.anchorY=1,this._sprite.node.anchorX=0,this._sprite.node.scaleY=-1,this._sprite.spriteFrame=new cc.SpriteFrame,this._sprite.spriteFrame.setTexture(this.texture),this._sprite.spriteFrame.vertices=this._vertices;var t=this._sprite.spriteFrame.getOriginalSize();this._spriteWidth=t.width,this._spriteHeight=t.height},e.prototype.stroke=function(){if(cc.game.renderType===cc.game.RENDER_TYPE_WEBGL){var t=this._vertices;t.x.length=t.y.length=t.nu.length=t.nv.length=t.triangles.length=0;for(var e=this.graphics._impl,i=0,o=0;o<e._paths.length;o++){var n=e._paths[o].points;if(!(n.length<2))for(var a=1;a<n.length;a++){var r=cc.v2(n[a].x,n[a].y),s=cc.v2(n[a-1].x,n[a-1].y),c=r.sub(s),l=(0==c.y?cc.v2(0,1):cc.v2(1,-c.x/c.y).normalize()).mulSelf(this._spriteWidth/2),d=r.add(l),h=r.sub(l),u=s.add(l),p=s.sub(l),f=c.len(),y=t.x.length;t.x.push(d.x,h.x,u.x,p.x),t.y.push(d.y,h.y,u.y,p.y),t.nu.push(1,0,1,0),t.nv.push((f+i)/this._spriteHeight,(f+i)/this._spriteHeight,i/this._spriteHeight,i/this._spriteHeight),i+=f,t.triangles.push(y+0),t.triangles.push(y+1),t.triangles.push(y+2),t.triangles.push(y+1),t.triangles.push(y+2),t.triangles.push(y+3)}}this._sprite.setVertsDirty()}else this.graphics.stroke()},e.prototype.clear=function(){if(this.graphics.clear(!0),cc.game.renderType===cc.game.RENDER_TYPE_WEBGL){var t=this._vertices;t.x.length=t.y.length=t.nu.length=t.nv.length=t.triangles.length=0,this._sprite.setVertsDirty()}},n([s(cc.Texture2D)],e.prototype,"texture",void 0),n([r,c(cc.Graphics)],e)}(cc.Component);i.default=l,cc._RF.pop()},{}],Ground:[function(t,e,i){"use strict";cc._RF.push(e,"d87ffmvBWZKZYEiVHGFp6L3","Ground");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("MaskPlus"),r=t("ColTag"),s=cc._decorator,c=s.ccclass,l=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.bgNode=null,e}return o(e,t),Object.defineProperty(e.prototype,"fresh",{get:function(){return!1},set:function(){this.mask.polygon=this.getComponent(cc.PhysicsChainCollider).points},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.getComponent(cc.PhysicsChainCollider);this.mask.polygon=t.points;var e,i=new cc.Node;i.setParent(this.node);var o=i.addComponent(cc.Graphics),n=t.points;o.lineCap=cc.Graphics.LineCap.ROUND,o.lineJoin=cc.Graphics.LineJoin.ROUND,o.lineWidth=6,o.moveTo(n[0].x,n[0].y);for(var a=1,r=n.length;a<r;a++)e=n[a],o.lineTo(e.x,e.y);o.stroke()},e.prototype.init=function(t,e,i){this.node.removeComponent(cc.PhysicsPolygonCollider);var o=this.getComponent(cc.PhysicsChainCollider);null==o&&(o=this.addComponent(cc.PhysicsChainCollider)),o.points=t,o.tag=r.ColTag.Collide,this.mask.polygon=t;for(var n=cc.v2(),a=cc.v2(),s=0,c=t;s<c.length;s++){var l=c[s];l.x>n.y?n.y=l.x:l.x<n.x&&(n.x=l.x),l.y>a.y?a.y=l.y:l.y<a.x&&(a.x=l.y)}var d=n.y-n.x,u=a.y-a.x;this.bgNode.width=d,this.bgNode.height=u,this.bgNode.setPosition(n.x+(n.y-n.x)/2,a.x+(a.y-a.x)/2),Math.floor((e-1)/10);var p=i[h[0]];console.log(p),this.bgNode.getComponent(cc.Sprite).spriteFrame=p},Object.defineProperty(e.prototype,"rect",{get:function(){for(var t=this.getComponent(cc.PhysicsChainCollider).points,e=cc.v2(),i=cc.v2(),o=0,n=t;o<n.length;o++){var a=n[o];a.x>e.y?e.y=a.x:a.x<e.x&&(e.x=a.x),a.y>i.y?i.y=a.y:a.y<i.x&&(i.x=a.y)}var r=e.y-e.x,s=i.y-i.x;return this.bgNode.width=r,this.bgNode.height=s,this.bgNode.getComponent(cc.Sprite).type=cc.Sprite.Type.TILED,e.y=i.x,e.addSelf(this.node.position),new cc.Rect(e.x,e.y,r,s)},enumerable:!1,configurable:!0}),n([l(a.default)],e.prototype,"mask",void 0),n([l(cc.Node)],e.prototype,"bgNode",void 0),n([l(cc.Integer)],e.prototype,"fresh",null),n([c],e)}(cc.Component);i.default=d;var h=["Wall1","Wall5","Wall3","Wall8"];cc._RF.pop()},{ColTag:"ColTag",MaskPlus:"MaskPlus"}],HeartComp:[function(t,e,i){"use strict";cc._RF.push(e,"622f5egZUlJjIs7VFKElL0n","HeartComp");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("GameData"),s=t("EventDefine"),c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLabel=null,e.animNode=null,e._anim=null,e}var i;return o(e,t),i=e,Object.defineProperty(e,"worldPos",{get:function(){return this._worldPos.clone()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;this._anim=this.getComponent(cc.Animation),this.numLabel.string=r.default.Heart+"",this.animNode.opacity=0,this.scheduleOnce(function(){i._worldPos||(t.node.getComponent(cc.Widget).updateAlignment(),i._worldPos=t.node.convertToWorldSpaceAR(cc.v2()))},0)},e.prototype.onEnable=function(){a.EventMgr.on(s.EvnetDefine.HeartGet,this.onHeartGet,this),a.EventMgr.on(s.EvnetDefine.HeartUse,this.onHeartUse,this)},e.prototype.onDisable=function(){a.EventMgr.off(s.EvnetDefine.HeartGet,this.onHeartGet,this),a.EventMgr.off(s.EvnetDefine.HeartUse,this.onHeartUse,this)},e.prototype.onAnimFinsh=function(){this.numLabel.string=r.default.Heart+""},e.prototype.onHeartGet=function(t){this.animNode.children[0].getComponent(cc.Label).string="+"+t,this._anim.play()},e.prototype.onHeartUse=function(t){this.animNode.children[0].getComponent(cc.Label).string=""+t,this._anim.play()},e._worldPos=null,n([d(cc.Label)],e.prototype,"numLabel",void 0),n([d(cc.Node)],e.prototype,"animNode",void 0),i=n([l],e)}(cc.Component);i.default=h,cc._RF.pop()},{EventDefine:"EventDefine",EventMgr:"EventMgr",GameData:"GameData"}],Helgehod:[function(t,e,i){"use strict";cc._RF.push(e,"8c7dcWrYoxMJrHNBdXSBkCM","Helgehod");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("Trigger"),c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ske=null,e._right=!0,e.speed=50,e._rigid=null,e._vec=null,e._walk=!1,e.onEndContact=null,e.onPreSolve=null,e.onPostSolve=null,e}return o(e,t),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right!=t&&(this._right=t,this.ske.node.scaleX=t?.4147364:-.4147364)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._rigid=this.getComponent(cc.RigidBody),this._vec=this._rigid.linearVelocity,this.playWalk()},e.prototype.onBeginContact=function(t,e,i){var o=i.getComponent(a.default);if(o&&o.state!=r.PlayerState.Die)r.Die.suffix="2",o.state=r.PlayerState.Die,this.onTouchWall();else{var n=t.getWorldManifold().normal.signAngle(cc.v2(0,-1)),s=cc.misc.radiansToDegrees(n);if(0==s)return;90==Math.abs(s)&&this.onTouchWall()}},e.prototype.onTouchWall=function(){var t=this;this._walk&&(this.playIdel(),this.scheduleOnce(function(){t.right=!t.right,t.playWalk()},1))},e.prototype.playWalk=function(){this._walk=!0,this._vec.x=this.right?this.speed:-this.speed,this._rigid.linearVelocity=this._vec,this.ske.setAnimation(0,"walk",!0)},e.prototype.playIdel=function(){this._walk=!1,this._vec.x=0,this._rigid.linearVelocity=this._vec,this.ske.setAnimation(0,"idle",!0)},n([d(sp.Skeleton)],e.prototype,"ske",void 0),n([d(cc.Boolean)],e.prototype,"_right",void 0),n([d(cc.Boolean)],e.prototype,"right",null),n([d(cc.Integer)],e.prototype,"speed",void 0),n([l],e)}(s.default);i.default=h,cc._RF.pop()},{Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],IceReceiver:[function(t,e,i){"use strict";cc._RF.push(e,"3a871q1LT1JhrX9U7f0JJjW","IceReceiver");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Receiver"),r=t("Water"),s=cc._decorator,c=s.ccclass;s.property;var l=s.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._water=null,e._showing=!1,e}return o(e,t),e.prototype.onLoad=function(){this._water=this.getComponent(r.default)},e.prototype.onShow=function(){this._showing||(this._showing=!0,this._water.changeToIce())},e.prototype.onHide=function(){},n([c,l(r.default)],e)}(a.default);i.default=d,cc._RF.pop()},{Receiver:"Receiver",Water:"Water"}],InsPrefab:[function(t,e,i){"use strict";cc._RF.push(e,"c639f11NZRLCba6k0YN6m8s","InsPrefab");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GameConfig"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e}return o(e,t),e.show=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._ins||(this._ins=new this),cc.resources.load("Prefab/"+this._ins.name,function(i,o){var n;if(!i){var r=cc.instantiate(o);r.setParent(a.default.rootNode);var s=r.getComponent(t);null===(n=r.getComponent(cc.Widget))||void 0===n||n.updateAlignment(),s.onShow.apply(s,e)}})},e.hide=function(){},n([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{GameConfig:"GameConfig"}],Key:[function(t,e,i){"use strict";cc._RF.push(e,"89946Ep8fROJIUK1PjkYydM","Key");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=t("GamePage"),s=t("Player"),c=t("AudioDefine"),l=t("GameDefine"),d=t("Trigger"),h=cc._decorator,u=h.ccclass,p=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=l.PlayerType.A,e.spf=[],e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,t==l.PlayerType.B?(cc.find("Key",this.node).getComponent(cc.Sprite).spriteFrame=this.spf[1],this.node.name="Key_B"):(cc.find("Key",this.node).getComponent(cc.Sprite).spriteFrame=this.spf[0],this.node.name="Key_A"))},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.type=t.type},e.prototype.onBeginContact=function(t,e,i){var o=i.getComponent(s.default);if(o.type==this._type){o.getKey=!0;var n=cc.v2();e.body.getWorldPosition(n),r.default.ins.showGetKey(this._type,n),this.node.destroy(),a.default.instance.playAudio(c.AudioDefine.\u6536\u96c6\u94a5\u5319)}},n([p],e.prototype,"_type",void 0),n([p({type:cc.SpriteFrame,visible:!1})],e.prototype,"spf",void 0),n([p({type:cc.Enum(l.PlayerType),visible:!0})],e.prototype,"type",null),n([u],e)}(d.default);i.default=f,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",GameDefine:"GameDefine",GamePage:"GamePage",Player:"Player",Trigger:"Trigger"}],Laser:[function(t,e,i){"use strict";cc._RF.push(e,"18bb6F9B2FAyoiaD3GJAwZp","Laser");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("GameConfig"),c=t("GameDefine"),l=t("ColTag"),d=t("Trigger"),h=cc._decorator,u=h.ccclass,p=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinSps=[],e.skinSfs=[],e.skinSkes=[],e._type=c.PlayerType.A,e.lineMax=300,e.lineNode=null,e._startPos=null,e._endPos=null,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!=t){this._type=t;for(var e=0;e<3;e++)this.skinSps[e].spriteFrame=this.skinSfs[3*this._type+e];for(var i=["lan","hong","lv"][t],o=0,n=this.skinSkes;o<n.length;o++){var a=n[o];a.defaultSkin=i,a.setSkin(i)}}},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.node.angle=t.angle,this.type=t.type},e.prototype.onLoad=function(){this.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static;var t=this.addComponent(cc.PhysicsBoxCollider);t.size.width=this.node.width,t.size.height=this.node.height,t.apply()},e.prototype.start=function(){this._startPos=cc.v2(0,5),this._endPos=cc.v2(0,this.lineMax),this.node.convertToWorldSpaceAR(this._startPos,this._startPos),this.node.convertToWorldSpaceAR(this._endPos,this._endPos)},e.prototype.lateUpdate=function(){this.shootRay(this._startPos,this._endPos)},e.prototype.shootRay=function(t,e){var i=s.default.phyMgr.rayCast(t,e,cc.RayCastType.All);(i=i.filter(function(t){var e=t.collider.node.group;return e!=l.NodeGroup.Enemy&&e!=l.NodeGroup.Magnet})).sort(function(t,e){return t.fraction-e.fraction});var o=i[0];if(null==o)console.log("bug\u4e86");else{var n=o.point.clone();this.node.convertToNodeSpaceAR(n,n),this.lineNode.width=n.y-43,this.skinSkes[1].node.x=this.lineNode.width;var c=o.collider.getComponent(a.default);c&&c.type!=this._type&&(c.state=r.PlayerState.Die)}},n([p({type:cc.Sprite,visible:!1})],e.prototype,"skinSps",void 0),n([p({type:cc.SpriteFrame,visible:!1})],e.prototype,"skinSfs",void 0),n([p({type:sp.Skeleton,visible:!1})],e.prototype,"skinSkes",void 0),n([p],e.prototype,"_type",void 0),n([p({type:cc.Enum(c.PlayerType),visible:!0})],e.prototype,"type",null),n([p({type:cc.Integer,step:1})],e.prototype,"lineMax",void 0),n([p(cc.Node)],e.prototype,"lineNode",void 0),n([u],e)}(d.default);i.default=f,cc._RF.pop()},{ColTag:"ColTag",GameConfig:"GameConfig",GameDefine:"GameDefine",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],LevelItem:[function(t,e,i){"use strict";cc._RF.push(e,"ad76ddsqZZH/pKKaw/qaXG4","LevelItem");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colors=["#716872","#ffffff","#fffc3e"],e.bgs=[],e.strLabel=null,e._data=null,e.callBack=null,e}return o(e,t),e.prototype.init=function(t){if(cc.Tween.stopAllByTarget(this.node),t){this.node.scale=1,this.node.active=!0,this.strLabel.string=t.level+"",this.strLabel.node.color=cc.color().fromHEX(this.colors[t.state]);for(var e=0;e<3;e++)this.bgs[e].active=e==t.state;this._data=t,2==t.state&&cc.tween(this.node).to(.5,{scale:1.1}).to(.5,{scale:1}).union().repeatForever().start()}else this.node.active=!1},e.prototype.onClickItem=function(){0==this._data.state||this.callBack&&this.callBack(this._data.level)},n([s(cc.Node)],e.prototype,"bgs",void 0),n([s(cc.Label)],e.prototype,"strLabel",void 0),n([r],e)}(cc.Component);i.default=c,cc._RF.pop()},{}],LeverFan:[function(t,e,i){"use strict";cc._RF.push(e,"5d3df0k4PhITqicm4TGO9mf","LeverFan");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("Player"),s=t("EventDefine"),c=t("MoveTag"),l=t("Trigger"),d=cc._decorator,h=d.ccclass,u=d.property,p={1:cc.color().fromHEX("#1dd5f6"),2:cc.color().fromHEX("#e400ff"),3:cc.color().fromHEX("#84cd00"),4:cc.color().fromHEX("#ff8300")},f=cc.color().fromHEX("#C1C1C1"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spfs=[],e.ctrNode=null,e.fanColorNode=null,e.tiggerLabel=null,e._type=c.MoveTag.Cyan,e._trigger=!1,e.triggerDir=null,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){t!=c.MoveTag.Yellow&&this._type!=t&&(this._type=t,this.ctrNode.getComponent(cc.Sprite).spriteFrame=this.spfs[this._type],this.fanColorNode.color=p[this._type])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trigger",{get:function(){return this._trigger},set:function(t){this._trigger!=t&&(this._trigger=t,t?(this.tiggerLabel.node.color=p[this._type],this.tiggerLabel.string="ON",a.EventMgr.emit(s.EvnetDefine.LeverFan+this._type,!0),cc.Tween.stopAllByTarget(this.ctrNode),this.triggerDir?cc.tween(this.ctrNode).to(.3,{angle:-42}).start():cc.tween(this.ctrNode).to(.3,{angle:42}).start(),cc.tween(this.fanColorNode).to(5,{angle:360}).to(0,{angle:0}).union().repeatForever().start()):(this.tiggerLabel.node.color=f,this.tiggerLabel.string="OFF",a.EventMgr.emit(s.EvnetDefine.LeverFan+this._type,!1),cc.Tween.stopAllByTarget(this.ctrNode),cc.Tween.stopAllByTarget(this.fanColorNode),this.triggerDir?cc.tween(this.ctrNode).to(.3,{angle:42}).start():cc.tween(this.ctrNode).to(.3,{angle:-42}).start()))},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.type=t.type},e.prototype.onBeginContact=function(t,e,i){var o=i.getComponent(r.default);null==this.triggerDir&&(this.triggerDir=o.right),this.trigger=o.right==this.triggerDir},e.prototype.onEndContact=function(t,e,i){var o=i.getComponent(r.default);this.trigger=o.right==this.triggerDir},e.prototype.start=function(){this._trigger&&a.EventMgr.emit(s.EvnetDefine.LeverFan+this._type,!0)},n([u({type:cc.SpriteFrame,visible:!1})],e.prototype,"spfs",void 0),n([u(cc.Node)],e.prototype,"ctrNode",void 0),n([u(cc.Node)],e.prototype,"fanColorNode",void 0),n([u(cc.Label)],e.prototype,"tiggerLabel",void 0),n([u],e.prototype,"_type",void 0),n([u({type:cc.Enum(c.MoveTag)})],e.prototype,"type",null),n([u(cc.Boolean)],e.prototype,"_trigger",void 0),n([u(cc.Boolean)],e.prototype,"trigger",null),n([h],e)}(l.default);i.default=y,cc._RF.pop()},{EventDefine:"EventDefine",EventMgr:"EventMgr",MoveTag:"MoveTag",Player:"Player",Trigger:"Trigger"}],Lever:[function(t,e,i){"use strict";cc._RF.push(e,"4c0bfgnqaRC7qj8v0mcHVJS","Lever");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("Player"),s=t("EventDefine"),c=t("MoveTag"),l=t("Trigger"),d=cc._decorator,h=d.ccclass,u=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spfs=[],e.colorBtn=null,e._type=c.MoveTag.Yellow,e._right=!1,e.triggerDir=null,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,this.colorBtn.getComponent(cc.Sprite).spriteFrame=this.spfs[this._type])},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.type=t.type},Object.defineProperty(e.prototype,"right",{set:function(t){this._right!=t&&(this._right=t,t?(a.EventMgr.emit(s.EvnetDefine.MoveBtnDown+this._type),cc.Tween.stopAllByTarget(this.colorBtn),this.triggerDir?cc.tween(this.colorBtn).to(.3,{angle:-42}).start():cc.tween(this.colorBtn).to(.3,{angle:42}).start()):(a.EventMgr.emit(s.EvnetDefine.MoveBtnUp+this._type),cc.Tween.stopAllByTarget(this.colorBtn),this.triggerDir?cc.tween(this.colorBtn).to(.3,{angle:42}).start():cc.tween(this.colorBtn).to(.3,{angle:-42}).start()))},enumerable:!1,configurable:!0}),e.prototype.onBeginContact=function(t,e,i){var o=i.getComponent(r.default);null==this.triggerDir&&(this.triggerDir=o.right),this.right=o.right==this.triggerDir},e.prototype.onEndContact=function(t,e,i){var o=i.getComponent(r.default);this.right=o.right==this.triggerDir},n([u({type:cc.SpriteFrame,visible:!1})],e.prototype,"spfs",void 0),n([u(cc.Node)],e.prototype,"colorBtn",void 0),n([u],e.prototype,"_type",void 0),n([u({type:cc.Enum(c.MoveTag)})],e.prototype,"type",null),n([h],e)}(l.default);i.default=p,cc._RF.pop()},{EventDefine:"EventDefine",EventMgr:"EventMgr",MoveTag:"MoveTag",Player:"Player",Trigger:"Trigger"}],LightCrystalReceiver:[function(t,e,i){"use strict";cc._RF.push(e,"ba1edgGxpZGdY9IBjYdyQs+","LightCrystalReceiver");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("EventDefine"),s=t("MoveTag"),c=t("Receiver"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskNode=null,e.spfs=[],e._showing=!1,e._type=s.MoveTag.Cyan,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!=t){this._type=t;var e=this.getComponentsInChildren(cc.Sprite);e[1].spriteFrame=this.spfs[2*this._type],e[2].spriteFrame=this.spfs[2*this._type+1]}},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.maskNode.opacity=0},e.prototype.onShow=function(){if(!this._showing){this._showing=!0;var t=(255-this.maskNode.opacity)/400;cc.Tween.stopAllByTarget(this.maskNode),cc.tween(this.maskNode).to(t,{opacity:255}).start(),a.EventMgr.emit(r.EvnetDefine.MoveBtnDown+this._type)}},e.prototype.onHide=function(){if(this._showing){this._showing=!1;var t=this.maskNode.opacity/400;cc.Tween.stopAllByTarget(this.maskNode),cc.tween(this.maskNode).to(t,{opacity:0}).start(),a.EventMgr.emit(r.EvnetDefine.MoveBtnUp+this._type)}},e.prototype.init=function(e){t.prototype.init.call(this,e),this.type=e.type},n([h(cc.Node)],e.prototype,"maskNode",void 0),n([h(cc.SpriteFrame)],e.prototype,"spfs",void 0),n([h],e.prototype,"_type",void 0),n([h({type:cc.Enum(s.MoveTag)})],e.prototype,"type",null),n([d],e)}(c.default);i.default=u,cc._RF.pop()},{EventDefine:"EventDefine",EventMgr:"EventMgr",MoveTag:"MoveTag",Receiver:"Receiver"}],LightCrystal:[function(t,e,i){"use strict";cc._RF.push(e,"691605/vHpFspbXFqi/8EJS","LightCrystal");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GameConfig"),r=t("Receiver"),s=t("GraphicsSpriteMesh"),c=t("Trigger"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineMax=1200,e.graphics=null,e.endNode=null,e._target=null,e}return o(e,t),e.prototype.onLoad=function(){this._startPos=cc.v2(0,100),this.node.convertToWorldSpaceAR(this._startPos,this._startPos),this._endPos=cc.v2(0,this.lineMax),this.node.convertToWorldSpaceAR(this._endPos,this._endPos)},e.prototype.lateUpdate=function(){this.startRay()},e.prototype.startRay=function(){this.graphics.graphics.clear(),this.graphics.graphics.moveTo(0,0),this.shootRay(this._startPos,this._endPos),this.graphics.graphics.stroke(),this.graphics.stroke()},e.prototype.shootRay=function(t,e){var i=a.default.phyMgr.rayCast(t,e,cc.RayCastType.All);if(0!=i.length){(i=i.filter(function(t){return 0!=t.collider.tag&&"MirrorBox"!=t.collider.node.name})).sort(function(t,e){return t.fraction-e.fraction});var o=i[0];if(o){var n=o.point.clone();this.graphics.node.convertToNodeSpaceAR(n,n),this.graphics.graphics.lineTo(n.x,n.y);var s=o.collider.getComponent(r.default);if(s){if(s.Receivertype==r.ReceiverType.Mirror&&0==s.flag){s.flag=!0;var c=o.normal,l=t.sub(e).normalizeSelf(),d=c.signAngle(l);c.rotateSelf(-d),n=o.point,this.shootRay(n,n.add(c.mulSelf(this.lineMax)))}else if(s.Receivertype==r.ReceiverType.Default){this._target=s,this._target.onShow();var h=o.point;this.node.convertToNodeSpaceAR(h,h),this.endNode.setPosition(h)}}else h=o.point,this.node.convertToNodeSpaceAR(h,h),this.endNode.setPosition(h),this._target&&this._target.onHide(),this._target=null}else h=e.clone(),this.node.convertToNodeSpaceAR(h,h),this.endNode.setPosition(h),n=e,this.graphics.node.convertToNodeSpaceAR(n,n),this.graphics.graphics.lineTo(n.x,n.y),this._target&&this._target.onHide(),this._target=null}else h=e.clone(),this.node.convertToNodeSpaceAR(h,h),this.endNode.setPosition(h),n=e,this.graphics.node.convertToNodeSpaceAR(n,n),this.graphics.graphics.lineTo(n.x,n.y),this._target&&this._target.onHide(),this._target=null},e.prototype.init=function(t){this.node.angle=t.angle},n([h({type:cc.Integer,step:1})],e.prototype,"lineMax",void 0),n([h(s.default)],e.prototype,"graphics",void 0),n([h(cc.Node)],e.prototype,"endNode",void 0),n([d],e)}(c.default);i.default=u,cc._RF.pop()},{GameConfig:"GameConfig",GraphicsSpriteMesh:"GraphicsSpriteMesh",Receiver:"Receiver",Trigger:"Trigger"}],Load:[function(t,e,i){"use strict";cc._RF.push(e,"557f9khQPBCW4YjNq/JYyFO","Load");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("AudioManager"),s=t("GameConfig"),c=t("GameData"),l=t("DailyGift"),d=t("Start"),h=t("ymsdk"),u=cc._decorator,p=u.ccclass,f=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barSp=null,e.label=null,e._ratio=0,e}return o(e,t),e.prototype.onLoad=function(){null!=window.GgameReady&&(window.GgameReady(),window.GgameReady=null);var t=this;console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.barSp.fillRange=0,cc.tween(this.barSp).to(2.5,{fillRange:1},{onUpdate:function(e,i){t.label.string=Math.round(100*i)+"%"}}).call(function(){console.log("bbbbbbbbbbbbbbbbbbbbbbbbbbbbb"),t.onLoadFinish()}).start(),console.log("cccccccccccccccccccccccccccccccccccccccc"),s.initGameConfig(),console.log("dddddddddddddddddddddddddddddddddddddddd"),a.default.init(),console.log("eeeeeeeeeeeeeeeeeeeeeeeeeeee"),console.log(h.default)},e.prototype.onLoadProgress=function(t,e){var i=t/e;i>this._ratio&&(this._ratio=i,this.barSp.fillRange=this._ratio,this.label.string=Math.round(100*this._ratio)+"%")},e.prototype.onLoadFinish=function(){r.default.instance.init(function(){d.default.FromWin=!1,cc.director.loadScene("Main",function(){1==window.showSkin&&c.default.CanGetGift()&&l.default.show()})})},e.prototype.showRightAgeWarn=function(){try{console.log("cocos-showRightAgeWarn")}catch(t){console.log("showRightAgeWarn:",t)}},n([f(cc.Sprite)],e.prototype,"barSp",void 0),n([f(cc.Label)],e.prototype,"label",void 0),n([p],e)}(cc.Component);i.default=y,cc._RF.pop()},{ADMgr:"ADMgr",AudioManager:"AudioManager",DailyGift:"DailyGift",GameConfig:"GameConfig",GameData:"GameData",Start:"Start",ymsdk:"ymsdk"}],Main:[function(t,e,i){"use strict";cc._RF.push(e,"cfea7JLETRDVoXP31uQmhi3","Main");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("AudioManager"),s=t("Coin_fly_to_wallet"),c=t("EventMgr"),l=t("UIPrefab"),d=t("AudioDefine"),h=t("GameConfig"),u=t("GameData"),p=t("EventDefine"),f=t("CoinComp"),y=t("HeartComp"),g=t("DailyGift"),v=t("Select"),_=t("Skin"),m=t("SpecialSkin"),C=t("Spin"),w=t("Set"),b=t("Win"),P=t("Start"),S=cc._decorator,T=S.ccclass,A=S.property,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftArrow=null,e.rightArrow=null,e.bg1=null,e.skels=[],e.levelLabel=null,e.dailyTip=null,e.spinTip=null,e.csv=null,e._nowSkin=-1,e._skinIndex=-1,e}return o(e,t),e.prototype.onLoad=function(){s.default.ins,this.bg1.width*=cc.winSize.width/1280,r.default.instance.playBGMusic(d.AudioDefine.\u80cc\u666f\u97f3\u4e501),u.default.initCsvMgr(this.csv),P.default.FromWin||a.default.showBanner(),a.default.getIsHuaWei()&&(cc.find("IconCoin/Home Icon_Video1",this.node).active=!1,cc.find("IconHeart/Home Icon_Video1",this.node).active=!1,cc.find("IconSkin",this.node).active=!1,cc.find("coinWindow/Pause Board/Pause Button_GreenL1/Icon_AD",this.node).active=!1,cc.find("heartWindow/Pause Board/Pause Button_GreenL1/Icon_AD",this.node).active=!1,cc.find("coinWindow/Pause Board/one/New Label",this.node).active=!1,cc.find("heartWindow/Pause Board/one/New Label",this.node).active=!1)},e.prototype.onEnable=function(){1!=window.showSkin&&(this.node.getChildByName("SkinBtn").active=!1,this.node.getChildByName("DailyGiftBtn").active=!1,this.node.getChildByName("SpinBtn").active=!1,this.node.getChildByName("IconSkin").active=!1);var t=u.default.PassLevel;this.levelLabel.string=(t>h.default.MaxLevel?h.default.MaxLevel:t)+"/"+h.default.MaxLevel,this.initSkin(),c.EventMgr.on(p.EvnetDefine.UIClose,this.onUIClose,this)},e.prototype.onDisable=function(){c.EventMgr.off(p.EvnetDefine.UIClose,this.onUIClose,this)},e.prototype.onShow=function(){this.node.opacity=255},e.prototype.onHide=function(){this.node.opacity=0},e.prototype.onUIClose=function(t){switch(t){case b.default.uiName:var e=u.default.PassLevel;this.levelLabel.string=(e>h.default.MaxLevel?h.default.MaxLevel:e)+"/"+h.default.MaxLevel;case _.default.uiName:case m.default.uiName:case g.default.uiName:this.initSkin()}},e.prototype.update=function(){u.default.CanGetGift()?this.dailyTip.active=!0:this.dailyTip.active=!1,u.default.FreeSpinTime+h.default.FreeSpinTime<u.default.nowTime?this.spinTip.active=!0:this.spinTip.active=!1},e.prototype.handleCoinBtn=function(){cc.find("coinWindow",this.node).active=!0},e.prototype.handleHeartBtn=function(){cc.find("heartWindow",this.node).active=!0},e.prototype.handleCloseCoin=function(){cc.find("coinWindow",this.node).active=!1},e.prototype.handleClosseHeart=function(){cc.find("heartWindow",this.node).active=!1},e.prototype.initSkin=function(){this._skins=u.default.GotSkins,1==this._skins.length?(this.leftArrow.active=!1,this.rightArrow.active=!1):(this.leftArrow.active=!0,this.rightArrow.active=!0,this._skinIndex=this._skins.indexOf(u.default.skin)),this.onChangeSkin()},e.prototype.onClickSkin=function(){a.default.showBanner(),a.default.showChaPing("2"),_.default.show()},e.prototype.onClickLevel=function(){v.default.show()},e.prototype.onClickSpin=function(){C.default.show()},e.prototype.onClickDaily=function(){g.default.show()},e.prototype.onClickStartGame=function(){var t=u.default.PassLevel;t>h.default.MaxLevel&&(t=h.default.MaxLevel);var e=new cc.Node;e.addComponent(cc.BlockInputEvents),e.width=this.node.width,e.height=this.node.height,this.node.addChild(e),cc.director.loadScene(u.default.qureyLevelUrl(t)),u.default.Level=t,cc.sys.platform==cc.sys.VIVO_GAME||cc.sys.platform==cc.sys.OPPO_GAME||cc.sys.platform==cc.sys.WECHAT_GAME?a.default.showBanner():a.default.hideBanner()},e.prototype.onClickLeft=function(){this._skinIndex--,this._skinIndex<0&&(this._skinIndex=this._skins.length-1),u.default.skin=this._skins[this._skinIndex],this.onChangeSkin()},e.prototype.onClickRight=function(){this._skinIndex++,this._skinIndex>=this._skins.length&&(this._skinIndex=0),u.default.skin=this._skins[this._skinIndex],this.onChangeSkin()},e.prototype.onChangeSkin=function(){if(u.default.skin!=this._nowSkin){this._nowSkin=u.default.skin;var t=_.skinToSkel[u.default.skin];this.skels.forEach(function(e,i){e.setSkin(t+"_"+(i+1))})}},e.prototype.onClickGetHeart=function(t){this.handleClosseHeart();var e=t.target;a.default.watchAD(function(){u.default.operateHeart(3),s.default.ins.playHeartFlyAnim(3,e.convertToWorldSpaceAR(cc.v2()),y.default.worldPos)},function(){})},e.prototype.onClichGetCoin=function(t){this.handleCloseCoin(),a.default.watchAD(function(){u.default.operateCoin(h.default.ADCoin),s.default.ins.playCoinFlyAnim(h.default.ADCoin,t.getLocation(),f.default.worldPos,50)},function(){})},e.prototype.onClickSpecial=function(){m.default.show()},e.prototype.onClickSet=function(){a.default.showBanner(),a.default.showChaPing("2"),w.default.show()},e.uiName="Panel/Main",n([A(cc.Node)],e.prototype,"leftArrow",void 0),n([A(cc.Node)],e.prototype,"rightArrow",void 0),n([A(cc.Node)],e.prototype,"bg1",void 0),n([A(sp.Skeleton)],e.prototype,"skels",void 0),n([A(cc.Label)],e.prototype,"levelLabel",void 0),n([A(cc.Node)],e.prototype,"dailyTip",void 0),n([A(cc.Node)],e.prototype,"spinTip",void 0),n([A(cc.TextAsset)],e.prototype,"csv",void 0),n([T],e)}(l.default);i.default=k,cc._RF.pop()},{ADMgr:"ADMgr",AudioDefine:"AudioDefine",AudioManager:"AudioManager",CoinComp:"CoinComp",Coin_fly_to_wallet:"Coin_fly_to_wallet",DailyGift:"DailyGift",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",GameData:"GameData",HeartComp:"HeartComp",Select:"Select",Set:"Set",Skin:"Skin",SpecialSkin:"SpecialSkin",Spin:"Spin",Start:"Start",UIPrefab:"UIPrefab",Win:"Win"}],MaskPlus:[function(t,e,i){"use strict";var o;cc._RF.push(e,"c064eT92ptAnr1D7CXLXjVX","MaskPlus");var n,a=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.MaskPlusType=void 0,(n=o=i.MaskPlusType||(i.MaskPlusType={}))[n.RECT=0]="RECT",n[n.ELLIPSE=1]="ELLIPSE",n[n.IMAGE_STENCIL=2]="IMAGE_STENCIL",n[n.Polygon=3]="Polygon";var s=new cc.Vec2,c=new cc.Mat4,l=[];function d(t,e,i){l.length=0;for(var o=2*Math.PI/i,n=0;n<i;++n)l.push(cc.v2(e.x*Math.cos(o*n)+t.x,e.y*Math.sin(o*n)+t.y));return l}var h=function(){},u=cc._decorator,p=u.ccclass,f=u.property,y=u.executeInEditMode,g=u.menu,v=u.help,_=u.inspector,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=0,e._polygon=[],e.ellipse=new h,e}return a(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t&&this._resetAssembler(),this._type=t,this._type===o.Polygon&&0===this._polygon.length){var e=this.getNodeRect(),i=e[0],n=e[1],a=e[2],r=e[3];this._polygon.push(cc.v2(i,n),cc.v2(i+a,n),cc.v2(i+a,n+r),cc.v2(i,n+r))}this._type!==o.IMAGE_STENCIL&&(this.spriteFrame=null,this.alphaThreshold=0,this._updateGraphics()),this._activateMaterial()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon",{get:function(){return this._polygon},set:function(t){this._polygon=t,this._updateGraphics()},enumerable:!1,configurable:!0}),e.prototype.setEllipse=function(t,e,i){this.ellipse.center=t,this.ellipse.r=e,this.ellipse.segments=i||this.segements},e.prototype._updateGraphics=function(){this.node;var t=this._graphics;t.clear(!1);var e=this.getNodeRect(),i=e[0],n=e[1],a=e[2],r=e[3];if(this._type===o.RECT)t.rect(i,n,a,r);else if(this._type===o.ELLIPSE){for(var s=d(this.ellipse.center||cc.v2(i+a/2,n+r/2),this.ellipse.r||{x:a/2,y:r/2},this.ellipse.segments||this._segments),c=0;c<s.length;++c){var l=s[c];0===c?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y)}t.close()}else if(this._type===o.Polygon){for(0===this._polygon.length&&this._polygon.push(cc.v2(0,0)),t.moveTo(this._polygon[0].x,this._polygon[0].y),c=1;c<this._polygon.length;c++)t.lineTo(this._polygon[c].x,this._polygon[c].y);t.lineTo(this._polygon[0].x,this._polygon[0].y)}cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?t.stroke():t.fill()},e.prototype._hitTest=function(t){var e=this.node,i=e.getContentSize(),n=i.width,a=i.height,r=s;if(e._updateWorldMatrix(),!cc.Mat4.invert(c,e._worldMatrix))return!1;cc.Vec2.transformMat4(r,t,c),r.x+=e._anchorPoint.x*n,r.y+=e._anchorPoint.y*a;var l=!1;if(this.type===o.RECT||this.type===o.IMAGE_STENCIL)l=r.x>=0&&r.y>=0&&r.x<=n&&r.y<=a;else if(this.type===o.ELLIPSE){var d=n/2,h=a/2,u=r.x-.5*n,p=r.y-.5*a;l=u*u/(d*d)+p*p/(h*h)<1}else this.type===o.Polygon&&(l=C(r,this.polygon));return this.inverted&&(l=!l),l},e.prototype.getNodeRect=function(){var t=this.node._contentSize.width,e=this.node._contentSize.height;return[-t*this.node._anchorPoint.x,-e*this.node._anchorPoint.y,t,e]},e.Type=o,r([f({type:cc.Enum(o),override:!0})],e.prototype,"_type",void 0),r([f({type:cc.Enum(o),override:!0})],e.prototype,"type",null),r([f({type:[cc.Vec2],serializable:!0})],e.prototype,"_polygon",void 0),r([f({type:[cc.Vec2],serializable:!0})],e.prototype,"polygon",null),r([p,g("i18n:MAIN_MENU.component.renderers/MaskPlus"),y,v("i18n:COMPONENT.help_url.mask"),_("packages://maskplus/inspector.js")],e)}(cc.Mask);function C(t,e){var i,o,n,a,r=0,s=e.length;for(n=e[0],i=1;i<=s;i++)a=e[i%s],t.x>Math.min(n.x,a.x)&&t.x<=Math.max(n.x,a.x)&&t.y<=Math.max(n.y,a.y)&&n.x!=a.x&&(o=(t.x-n.x)*(a.y-n.y)/(a.x-n.x)+n.y,(n.y==a.y||t.y<=o)&&r++),n=a;return r%2!=0}i.default=m,cc.MaskPlus=m,cc._RF.pop()},{}],MathTool:[function(t,e,i){"use strict";cc._RF.push(e,"c3faeuCBp5F34w5hgZCzxbC","MathTool"),Object.defineProperty(i,"__esModule",{value:!0}),i.MathTool=void 0,i.MathTool={random:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),t+(e-t)*Math.random()},randomInt:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),Math.floor(t+(e-t)*Math.random())},msToMin:function(t){var e=Math.floor(t/60),i=Math.floor(t-60*e);return e<10&&(e="0"+e),i<10&&(i="0"+i),e+" : "+i}},cc._RF.pop()},{}],MirrorBox:[function(t,e,i){"use strict";cc._RF.push(e,"7b7f1rDzSBG+b5NlVJEiwGf","MirrorBox");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass;a.property;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._child=null,e}return o(e,t),e.prototype.onLoad=function(){this._child=this.node.children[0]},e.prototype.update=function(){this._child.setPosition(0,0)},n([r],e)}(cc.Component);i.default=s,cc._RF.pop()},{}],MirrorControlBar:[function(t,e,i){"use strict";cc._RF.push(e,"e42553iZQ1Ek6TOlauqkNpC","MirrorControlBar");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("ColTag"),c=cc._decorator,l=c.ccclass,d=c.property;c.requireComponent;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.rigidBody=null,e._moveWidth=0,e._oldPos=cc.v2(),e._nowPos=cc.v2(),e}return o(e,t),e.prototype.onLoad=function(){this.rigidBody.onPreSolve=this.onPreSolve.bind(this)},e.prototype.onEnable=function(){var t=this.rigidBody.node.parent;this._moveWidth=t.width},e.prototype.lateUpdate=function(){var t=this.rigidBody.node.x;t<0?this.rigidBody.node.x=t=0:t>this._moveWidth&&(this.rigidBody.node.x=t=this._moveWidth);var e=t/this._moveWidth*180+180;this.targetNode.angle=e},e.prototype.onPreSolve=function(t,e,i){if(i.node.group==s.NodeGroup.Player){var o=i.getComponent(a.default);if(o.state==r.PlayerState.Push)e.body.getWorldPosition(this._nowPos),(n=e.body.linearVelocity).x=50*(o.right?1:-1),e.body.linearVelocity=n;else if(o.state==r.PlayerState.Run){var n;e.body.getWorldPosition(this._nowPos),(n=e.body.linearVelocity).x=30*(o.right?1:-1),e.body.linearVelocity=n}}},n([d(cc.Node)],e.prototype,"targetNode",void 0),n([d(cc.RigidBody)],e.prototype,"rigidBody",void 0),n([l],e)}(cc.Component);i.default=h,cc._RF.pop()},{ColTag:"ColTag",Player:"Player",PlayerState:"PlayerState"}],MoveBtn:[function(t,e,i){"use strict";cc._RF.push(e,"0e491TI3NJDhZzNimXqDjxp","MoveBtn");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("EventMgr"),r=t("ColTag"),s=t("EventDefine"),c=t("MoveTag"),l=t("Trigger"),d=cc._decorator,h=d.ccclass,u=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spfs=[],e.colorBtn=null,e._type=c.MoveTag.Yellow,e._upY=0,e._tag=0,e._down=!1,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,this.colorBtn.getComponent(cc.Sprite).spriteFrame=this.spfs[this._type])},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._upY=this.colorBtn.y},e.prototype.init=function(t){this.type=t.type},e.prototype.onEnable=function(){a.EventMgr.on(s.EvnetDefine.MoveBtnDown+this._type,this.onDown,this),a.EventMgr.on(s.EvnetDefine.MoveBtnUp+this._type,this.onUp,this)},e.prototype.onDisable=function(){a.EventMgr.off(s.EvnetDefine.MoveBtnDown+this._type,this.onDown,this),a.EventMgr.off(s.EvnetDefine.MoveBtnUp+this._type,this.onUp,this)},e.prototype.onDown=function(){this._tag++,1==this._tag&&(cc.Tween.stopAllByTarget(this.colorBtn),cc.tween(this.colorBtn).to(.3,{y:this._upY-30}).start())},e.prototype.onUp=function(){this._tag--,0==this._tag&&(cc.Tween.stopAllByTarget(this.colorBtn),cc.tween(this.colorBtn).to(.3,{y:this._upY}).start())},Object.defineProperty(e.prototype,"down",{set:function(t){this._down!=t&&(this._down=t),t?a.EventMgr.emit(s.EvnetDefine.MoveBtnDown+this._type):a.EventMgr.emit(s.EvnetDefine.MoveBtnUp+this._type)},enumerable:!1,configurable:!0}),e.prototype.onBeginContact=function(t,e,i){switch(i.node.group){case r.NodeGroup.Player:case r.NodeGroup.Rock:this.down=!0}},e.prototype.onEndContact=function(t,e,i){switch(i.node.group){case r.NodeGroup.Player:case r.NodeGroup.Rock:this.down=!1}},n([u({type:cc.SpriteFrame,visible:!0})],e.prototype,"spfs",void 0),n([u(cc.Node)],e.prototype,"colorBtn",void 0),n([u],e.prototype,"_type",void 0),n([u({type:cc.Enum(c.MoveTag)})],e.prototype,"type",null),n([h],e)}(l.default);i.default=p,cc._RF.pop()},{ColTag:"ColTag",EventDefine:"EventDefine",EventMgr:"EventMgr",MoveTag:"MoveTag",Trigger:"Trigger"}],MovePlatform:[function(t,e,i){"use strict";cc._RF.push(e,"51e83oUnXpFd6GxwktPNnff","MovePlatform");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=t("EventMgr"),s=t("Player"),c=t("PlayerState"),l=t("AudioDefine"),d=t("GameConfig"),h=t("EventDefine"),u=t("MoveTag"),p=t("Trigger"),f=cc._decorator,y=f.ccclass,g=f.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._auto=!1,e.lineNode=null,e.platform=null,e.spfs=[],e._type=u.MoveTag.Yellow,e._endPos=cc.v2(),e._rigid=null,e._evnetTag=0,e._moving=!1,e._colls=[],e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,this.platform.getComponent(cc.Sprite).spriteFrame=this.spfs[t],t==u.MoveTag.Gray&&(this._auto=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endPos",{get:function(){return this._endPos},set:function(t){if(!this._endPos.equals(t)){this._endPos.set(t);var e=this.lineNode.children,i=this._endPos.len(),o=this._endPos.signAngle(cc.v2(1,0));o=cc.misc.radiansToDegrees(o),e[0].width=i-10,e[0].angle=-o,e[2].setPosition(this._endPos)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"XToY",{get:function(){return!1},set:function(){var t=cc.v2(this._endPos.y,this._endPos.x);this.endPos=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._rigid=this.getComponentInChildren(cc.RigidBody),this._rigid.onBeginContact=this.onBeginContact.bind(this),this._rigid.onEndContact=this.onEndContact.bind(this),this._rigid.onPreSolve=this.onPreSolve.bind(this)},e.prototype.onEnable=function(){if(this._auto){var t=this._endPos.mag()/d.default.PlatformS;cc.tween(this.platform).to(t,{position:this._endPos}).delay(.2).to(t,{x:0,y:0}).delay(.2).union().repeatForever().start()}else r.EventMgr.on(h.EvnetDefine.MoveBtnDown+this._type,this.onDown,this),r.EventMgr.on(h.EvnetDefine.MoveBtnUp+this._type,this.onUp,this)},e.prototype.onDisable=function(){r.EventMgr.off(h.EvnetDefine.MoveBtnDown+this._type,this.onDown,this),r.EventMgr.off(h.EvnetDefine.MoveBtnUp+this._type,this.onUp,this)},e.prototype.onDown=function(){var t=this;if(!this._evnetTag){a.default.instance.playAudio(l.AudioDefine.movingplatform),cc.Tween.stopAllByTarget(this.platform);var e=this._endPos.mag(),i=Math.abs(e-this.platform.y);this._moving=!0,cc.tween(this.platform).to(i/d.default.PlatformS,{position:this._endPos}).call(function(){t._moving=!1}).start()}this._evnetTag++},e.prototype.onUp=function(){var t=this;if(this._evnetTag--,0==this._evnetTag){cc.Tween.stopAllByTarget(this.platform);var e=this.platform.getPosition().mag();this._moving=!0,cc.tween(this.platform).to(e/d.default.PlatformS,{x:0,y:0}).call(function(){t._moving=!1}).start(),a.default.instance.playAudio(l.AudioDefine.movingplatformstop)}},e.prototype.onBeginContact=function(t,e,i){0==e.tag&&-1==this._colls.indexOf(i)&&this._colls.push(i)},e.prototype.onEndContact=function(t,e,i){if(0==e.tag){var o=this._colls.indexOf(i);-1!=o&&this._colls.splice(o,1)}},e.prototype.onPreSolve=function(t,e,i){if(0!=this._moving){var o=i.getComponent(s.default);if(o)if(-1!=this._colls.indexOf(i))if(o.state==c.PlayerState.Run){t.setFriction(0);var n=e.body.linearVelocity;(o.right&&n.x>0||!o.right&&n.x<0)&&(i.body.linearVelocity=i.body.linearVelocity.addSelf(e.body.linearVelocity))}else o.state==c.PlayerState.Idle&&t.setFriction(100);else{var a=i.body.linearVelocity;a.x+=o.right?50:-50,i.body.linearVelocity=a}}else t.resetFriction()},e.prototype.init=function(t){this.type=t.type,this.platform.angle=t.angle,this.endPos=t.endPos},n([g],e.prototype,"_auto",void 0),n([g(cc.Node)],e.prototype,"lineNode",void 0),n([g(cc.Node)],e.prototype,"platform",void 0),n([g({type:cc.SpriteFrame,visible:!1})],e.prototype,"spfs",void 0),n([g],e.prototype,"_type",void 0),n([g({type:cc.Enum(u.MoveTag)})],e.prototype,"type",null),n([g],e.prototype,"_endPos",void 0),n([g(cc.Vec2)],e.prototype,"endPos",null),n([g(cc.Boolean)],e.prototype,"XToY",null),n([y],e)}(p.default);i.default=v,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",MoveTag:"MoveTag",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],MoveTag:[function(t,e,i){"use strict";var o;cc._RF.push(e,"2500365h3xMc6i+z1wK+rF6","MoveTag"),Object.defineProperty(i,"__esModule",{value:!0}),i.MoveTag=void 0,(o=i.MoveTag||(i.MoveTag={}))[o.Yellow=0]="Yellow",o[o.Cyan=1]="Cyan",o[o.Purple=2]="Purple",o[o.Green=3]="Green",o[o.Orange=4]="Orange",o[o.Gray=5]="Gray",cc._RF.pop()},{}],MusicSwitch:[function(t,e,i){"use strict";cc._RF.push(e,"2de9bJhLZxCaqqUGM/EnKxr","MusicSwitch");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._open=null,e._close=null,e}return o(e,t),e.prototype.onLoad=function(){this._open=this.node.getChildByName("Open"),this._close=this.node.getChildByName("Close")},e.prototype.onEnable=function(){this.changeSwitch()},e.prototype.onClickSwitch=function(){a.default.instance.musicSwitch=!a.default.instance.musicSwitch,this.changeSwitch()},e.prototype.changeSwitch=function(){var t=a.default.instance.musicSwitch;this._open.active=t,this._close.active=!t},n([s],e)}(cc.Component);i.default=c,cc._RF.pop()},{AudioManager:"AudioManager"}],Pause:[function(t,e,i){"use strict";cc._RF.push(e,"00800CNuMZJ0J8TdOfZtxJA","Pause");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("UIPrefab"),s=t("GameData"),c=t("TipPrefab"),l=t("Start"),d=cc._decorator,h=d.ccclass,u=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootNode=null,e}var i;return o(e,t),i=e,e.prototype.onShow=function(){this.node.opacity=0,this.rootNode.scale=0,cc.tween(this.node).to(.3,{opacity:255}).start(),cc.tween(this.rootNode).to(.3,{scale:1}).start(),a.default.showChaPing("2"),a.default.getIsHuaWei()&&(cc.find("Pause Board/Pause Button_YellowL1",this.node).active=!1)},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).start(),cc.tween(this.rootNode).to(.3,{scale:0}).call(function(){t.node.destroy()}).start()},e.prototype.onClickMain=function(){cc.director.loadScene("Main")},e.prototype.onClickClose=function(){i.hide()},e.prototype.onClickReplay=function(){var t=new cc.Node;t.addComponent(cc.BlockInputEvents),t.width=this.node.width,t.height=this.node.height,this.node.addChild(t),cc.director.loadScene(s.default.qureyLevelUrl(s.default.Level))},e.prototype.onClickWatch=function(){a.default.watchAD(function(){l.default.FromWin=!0,cc.director.loadScene("Main")},function(){c.default.show("\u7f51\u7edc\u9519\u8bef")})},e.uiName="Panel/Pause",n([u(cc.Node)],e.prototype,"rootNode",void 0),i=n([h],e)}(r.default);i.default=p,cc._RF.pop()},{ADMgr:"ADMgr",GameData:"GameData",Start:"Start",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab"}],PhysicInterface:[function(t,e,i){"use strict";cc._RF.push(e,"80ed9ZNFitNpLAfmDLkGvHt","PhysicInterface"),Object.defineProperty(i,"__esModule",{value:!0}),cc._RF.pop()},{}],PlayerState:[function(t,e,i){"use strict";cc._RF.push(e,"9c9d1CXDUFNVbi3OPnnuOvA","PlayerState");var o,n=__extends;Object.defineProperty(i,"__esModule",{value:!0}),i.Die=i.PushWall=i.Push=i.Wave=i.Down=i.Jump=i.Idel=i.Run=i.BaseState=i.PlayerState=void 0;var a,r=t("AudioManager"),s=t("AudioDefine"),c=t("GameData"),l=t("Revive"),d=t("FallDown");(a=o=i.PlayerState||(i.PlayerState={})).Idle="idle1",a.Run="run",a.Jump="jump",a.Down="falldown",a.Wave="wavehand",a.Push="push",a.PushWall="push_wall",a.Die="die";var h=function(){function t(t,e){this._skl=null,this._mixTime=.2,this._name=null,this._player=t,this._skl=t.skl,this._name=e,this.init()}return t.prototype.init=function(){},t.prototype.Enter=function(){},t.prototype.Update=function(){},t.prototype.Exit=function(){},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();i.BaseState=h;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mixTime=.1,e}return n(e,t),e.prototype.Enter=function(){var t=this._skl.animation,e=this._name+(this._player.magnet?"(magnet)":"");this._skl.setMix(t,e,this._mixTime),this._skl.setAnimation(0,e,!0),this._oldY=this._player.node.y},e.prototype.Update=function(){var t=this._player.node.y;this._player.isOnGround||this._player.isOnSlope||this._player.isOnBapBenh||!(this._oldY-t>5)?(this._player.isDownLeftOrRight?this._player.isOnAir?this._player.state=o.Jump:this._player.isTouchRock&&this._player.isOnGround?this._player.state=o.Push:this._player.isOnWall&&this._player.isOnGround&&(this._player.state=o.PushWall):this._player.inDoor?this._player.state=o.Wave:this._player.state=o.Idle,this._oldY=t):this._player.state=o.Down},e.prototype.Exit=function(){},e}(h);i.Run=u;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Enter=function(){var t=this._skl.animation,e=this._name+(this._player.magnet?"(magnet)":"");this._skl.setMix(t,e,this._mixTime),this._skl.setAnimation(0,e,!0),this._oldY=this._player.node.y},e.prototype.Update=function(){var t=this._player.node.y;this._player.isOnAir?this._player.state=o.Jump:this._player.isDownLeftOrRight?this._player.isTouchRock&&this._player.isOnGround?this._player.state=o.Push:this._player.state=o.Run:!this._player.isOnGround&&!this._player.isOnSlope&&!this._player.isOnBapBenh&&this._oldY-t>5&&(this._player.state=o.Down),this._oldY=t},e.prototype.Exit=function(){},e}(h);i.Idel=p;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Enter=function(){var t=this._name+(this._player.magnet?"(magnet)":""),e=this._skl.animation;this._skl.setMix(e,t,this._mixTime),this._skl.setAnimation(0,t,!1),this._skl.setCompleteListener(null),r.default.instance.playAudio(s.AudioDefine.\u8df3\u8dc3),this._player.isJumping=!0,this._oldY=this._player.node.y},e.prototype.Update=function(){var t=this._player.node.y;(t-this._oldY<=0||this._player.isOnSlope)&&(this._player.state=o.Down),this._oldY=t},e.prototype.Exit=function(){},e}(h);i.Jump=f;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.downing=!1,e._preY=-1,e}return n(e,t),e.prototype.init=function(){},e.prototype.Enter=function(){var t=this._name+(this._player.magnet?"(magnet)":""),e=this._skl.animation;this._skl.setMix(e,t,.1),this._skl.setAnimation(0,t,!1),this.downing=!0},e.prototype.Update=function(){this.downing?(this._player.isOnGround||this._player.isOnBapBenh||this._player.isOnSlope)&&(this._player.isDownLeftOrRight?this._player.isOnWall?this._player.state=o.PushWall:this._player.state=o.Run:(this._skl.setAnimation(0,"falldown2"+(this._player.magnet?"(magnet)":""),!1),this._skl.setCompleteListener(this.onDownFinish.bind(this)),this.downing=!1),d.default.show(this._player.node.convertToWorldSpaceAR(cc.v2()),this._player.node.parent.getSiblingIndex()),this._player.canCtr&&r.default.instance.playAudio(s.AudioDefine.\u843d\u5730,!1,.3)):this._player.isDownLeftOrRight&&(this._player.state=o.Run),this._preY=this._player._speedV2.y},e.prototype.onDownFinish=function(){this._player.inDoor?this._player.state=o.Wave:this._player.isDownLeftOrRight?this._player.state=o.Run:this._player.state=o.Idle},e.prototype.Exit=function(){this._skl.setCompleteListener(null)},e}(h);i.Down=y;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mixTime=.1,e}return n(e,t),e.prototype.Enter=function(){var t=this._skl.animation;this._skl.setMix(t,this._name,this._mixTime),this._skl.setAnimation(0,this._name,!0)},e.prototype.Update=function(){this._player.isDownLeftOrRight&&(this._player.state=o.Run)},e.prototype.Exit=function(){},e}(h);i.Wave=g;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._right=!1,e._mixTime=.1,e}return n(e,t),e.prototype.Enter=function(){this._right=this._player.right;var t=this._name+(this._player.magnet?"(manet)":""),e=this._skl.animation;this._skl.setMix(e,t,this._mixTime),this._skl.setAnimation(0,t,!0)},e.prototype.Update=function(){this._player.isTouchRock?this._right==this._player.right&&this._player.isDownLeftOrRight||(this._player.state=o.Idle):this._player.isDownLeftOrRight?this._player.state=o.Run:this._player.state=o.Idle},e.prototype.Exit=function(){},e}(h);i.Push=v;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._right=!1,e}return n(e,t),e.prototype.Enter=function(){var t=this._name+(this._player.magnet?"(magnet)":""),e=this._skl.animation;this._skl.setMix(e,t,this._mixTime),this._skl.setAnimation(0,t,!0),this._right=this._player.right},e.prototype.Update=function(){this._right==this._player.right&&this._player.isDownLeftOrRight||(this._player.state=o.Idle)},e.prototype.Exit=function(){},e}(h);i.PushWall=_;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Enter=function(){this._player._rigidBody.linearVelocity=cc.v2();var t=this._skl.animation,i=this._name+e.suffix;this._skl.setMix(t,i,this._mixTime),this._skl.setAnimation(0,i,!1),this._skl.setCompleteListener(this.onDieFinish.bind(this)),c.default.operateHeart(-1),r.default.instance.playAudio(s.AudioDefine.\u6b7b\u4ea1)},e.prototype.Update=function(){},e.prototype.Exit=function(){this._skl.setCompleteListener(null)},e.prototype.onDieFinish=function(t){-1!=t.animation.name.indexOf(o.Die)&&(c.default.Heart<=0?l.default.show():this._player.revive())},e.suffix="",e}(h);i.Die=m,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",FallDown:"FallDown",GameData:"GameData",Revive:"Revive"}],Player:[function(t,e,i){"use strict";cc._RF.push(e,"84c8bZmEjZABKQdfOfH4enF","Player");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.PlayerTag=void 0;var a,r=t("AudioManager"),s=t("EventMgr"),c=t("AudioDefine"),l=t("GameConfig"),d=t("GameData"),h=t("GameDefine"),u=t("ColTag"),p=t("EventDefine"),f=t("Trigger"),y=t("GamePage"),g=t("Skin"),v=t("PlayerState"),_=cc._decorator,m=_.ccclass,C=_.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skl=null,e.arrowSp=null,e.spf=[],e.showSke=null,e.reviveNode=null,e._type=h.PlayerType.A,e.maxSpeed=450,e._magnet=!0,e._right=!1,e._rigidBody=null,e._speedV2=cc.v2(),e._stateArray={},e._state=null,e._revivePoint=cc.v2(),e._canCtr=!0,e._graphic=null,e.collider=null,e._moveFlags=0,e.magnetBody=null,e.getKey=!1,e._jumpTime=0,e._nowPos=cc.v2(),e._bodyPos=cc.v2(),e._tempV2=cc.v2(),e.normalPre=cc.v2(),e._groundTag=0,e.frame=!1,e.isOnAir=!1,e.isOnBapBenh=0,e.isOnSlope=!1,e.inOverMaxSlop=!1,e.isOnGround=!1,e.isOnWall=!1,e.isJumping=!1,e.isTouchRock=!1,e.inDoor=!1,e.isDownLeftOrRight=!1,e._reviveFlag=!1,e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=t,t==h.PlayerType.B?(this.skl.defaultSkin=d.default.skin+"_2",this.skl.setSkin(d.default.skin+"_2"),this.arrowSp.spriteFrame=this.spf[1],this.node.name="Player_B"):(this.skl.defaultSkin=d.default.skin+"_1",this.skl.setSkin(d.default.skin+"_1"),this.arrowSp.spriteFrame=this.spf[0],this.node.name="Player_A")),this.showSke.defaultSkin=this._type==h.PlayerType.A?"lan":"hong",this.showSke.setSkin(this._type==h.PlayerType.A?"lan":"hong")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"magnet",{get:function(){return this._magnet},set:function(t){this._magnet!=t&&(this._magnet=t,this.magnetBody.node.active=t,this._state.Enter())},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.type=t.type},Object.defineProperty(e.prototype,"canCtr",{get:function(){return this._canCtr},set:function(t){t!=this._canCtr&&(this._canCtr=t,this.arrowSp.node.active=t,t?this.showSke.setAnimation(0,"animation",!1):(this._moveFlags=0,this.isDownLeftOrRight=!1))},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._rigidBody=this.getComponent(cc.RigidBody),this._stateArray[v.PlayerState.Jump]=new v.Jump(this,v.PlayerState.Jump),this._stateArray[v.PlayerState.Run]=new v.Run(this,v.PlayerState.Run),this._stateArray[v.PlayerState.Idle]=new v.Idel(this,v.PlayerState.Idle),this._stateArray[v.PlayerState.Wave]=new v.Wave(this,v.PlayerState.Wave),this._stateArray[v.PlayerState.Push]=new v.Push(this,v.PlayerState.Push),this._stateArray[v.PlayerState.Down]=new v.Down(this,v.PlayerState.Down),this._stateArray[v.PlayerState.PushWall]=new v.PushWall(this,v.PlayerState.PushWall),this._stateArray[v.PlayerState.Die]=new v.Die(this,v.PlayerState.Die),this._state=this._stateArray[v.PlayerState.Idle],this._state.Enter(),this.magnetBody=this.getComponentInChildren(cc.RigidBody),this.magnetBody.getComponent(cc.PhysicsCircleCollider).radius=400,this.magnet=!1,this._rigidBody=this.getComponent(cc.RigidBody),this._rigidBody.linearVelocity=this._speedV2,this.collider=this.getComponent(cc.PhysicsCircleCollider),this.skl.setSkin(g.skinToSkel[d.default.skin]+"_"+(this._type+1));var t=new cc.Node;this.node.addChild(t),this._graphic=t.addComponent(cc.Graphics),this._graphic.lineWidth=5,this._graphic.strokeColor=cc.color(0,255,0),this.reviveNode.active=!1},e.prototype.onEnable=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),s.EventMgr.on(p.EvnetDefine.SimulateKey,this.onSimulateKey,this)},e.prototype.onDisable=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),s.EventMgr.off(p.EvnetDefine.SimulateKey,this.onSimulateKey,this)},e.prototype.onSimulateKey=function(t,e){e?this.onKeyDown({keyCode:t}):this.onKeyUp({keyCode:t})},e.prototype.onKeyDown=function(t){if(this._canCtr){switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:this._moveFlags|=1;break;case cc.macro.KEY.d:case cc.macro.KEY.right:this._moveFlags|=2;break;case cc.macro.KEY.up:case cc.macro.KEY.w:this._upPressed=!0}0!=this._moveFlags&&(this.isDownLeftOrRight=!0)}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.left:this._moveFlags&=-2;break;case cc.macro.KEY.d:case cc.macro.KEY.right:this._moveFlags&=-3;break;case cc.macro.KEY.up:case cc.macro.KEY.w:this._upPressed=!1}0==this._moveFlags&&(this.isDownLeftOrRight=!1)},e.prototype.start=function(){this.node.getPosition(this._revivePoint)},e.prototype.update=function(t){if(this.node.getPosition(this._nowPos),this.magnetBody.node.setPosition(0,0),this.state!=v.PlayerState.Die){if(this._speedV2=this._rigidBody.linearVelocity,1===this._moveFlags)this.right=!1,this._speedV2.x-=l.default.PlayerAc*t,this._speedV2.x<-this.maxSpeed&&(this._speedV2.x=-this.maxSpeed);else if(2===this._moveFlags)this.right=!0,this._speedV2.x+=l.default.PlayerAc*t,this._speedV2.x>this.maxSpeed&&(this._speedV2.x=this.maxSpeed);else if(0!=this._speedV2.x){var e=l.default.PlayerDragAc*t;Math.abs(this._speedV2.x)<=e?this._speedV2.x=0:this._speedV2.x-=this._speedV2.x>0?e:-e}this._jumpTime+=t,this._upPressed&&!this.isJumping&&this._jumpTime>.5&&(this._speedV2.y=l.default.PlayerJumpS,this.state=v.PlayerState.Jump,this._jumpTime=0),!this.isOnGround||this.isOnSlope||this.isJumping?this.isOnGround&&this.isOnSlope&&!this.isJumping&&this.isDownLeftOrRight&&(this._speedV2.x=this.maxSpeed*this.normalPre.x,this._speedV2.y=this.maxSpeed*this.normalPre.y):(this.isDownLeftOrRight||(this._speedV2.x=0),this.inOverMaxSlop||(this._speedV2.y=0)),this._rigidBody.linearVelocity=this._speedV2}},e.prototype.lateUpdate=function(){this.check(),this._state.Update()},e.prototype.check=function(){this._graphic.clear(),this._rigidBody.getWorldPosition(this._bodyPos),this.checkGround(),this.checkWall(),this.slopeCheckHorizontal(),this.slopCheckVertical(),this.isOnBapBenh&&!this.isDownLeftOrRight||this.isOnGround&&this.isOnSlope&&!this.isDownLeftOrRight&&!this.isJumping&&!this.inOverMaxSlop?this.friction=.5:this.friction=0},e.prototype.checkGround=function(){},e.prototype.checkWall=function(){for(var t=cc.v2(this._right?25:-25,80).addSelf(this._bodyPos),e=cc.v2(this._right?35:-35,80).addSelf(this._bodyPos),i=!0,o=!0,n=0,a=l.default.phyMgr.rayCast(t,e,cc.RayCastType.All);n<a.length;n++){var r=a[n];if(r.collider.node.group==u.NodeGroup.Ground){var s=cc.misc.radiansToDegrees(r.normal.signAngle(cc.v2(1,0)));0==s?this.right?this.isOnWall=!1:this.isOnWall=!0:180==s&&(this.right?this.isOnWall=!0:this.isOnWall=!1),i=!1}else r.collider.node.group==u.NodeGroup.Rock&&(this.isTouchRock=!0,o=!1)}i&&(this.isOnWall=!1),o&&(this.isTouchRock=!1)},e.prototype.slopeCheckHorizontal=function(){this._tempV2.x=-25,this._tempV2.y=0,this._tempV2.addSelf(this._bodyPos);for(var t=l.default.phyMgr.rayCast(this._bodyPos,this._tempV2,cc.RayCastType.All),e=0,i=t;e<i.length;e++)if((a=i[e]).collider.tag==u.ColTag.Collide)return void(Math.abs(a.normal.x)>.9?(this.isOnSlope=!1,this.inOverMaxSlop=!0):(this.isOnSlope=!0,this.inOverMaxSlop=!1));this._tempV2.x=25,this._tempV2.y=0,this._tempV2.addSelf(this._bodyPos);for(var o=0,n=t=l.default.phyMgr.rayCast(this._bodyPos,this._tempV2,cc.RayCastType.All);o<n.length;o++){var a;if((a=n[o]).collider.tag==u.ColTag.Collide)return void(Math.abs(a.normal.x)>.9?(this.isOnSlope=!1,this.inOverMaxSlop=!0):(this.isOnSlope=!0,this.inOverMaxSlop=!1))}this.isOnSlope=!1,this.inOverMaxSlop=!1},e.prototype.slopCheckVertical=function(){this._tempV2.x=0,this._tempV2.y=-20,this._tempV2.addSelf(this._bodyPos);var t=l.default.phyMgr.rayCast(this._bodyPos,this._tempV2,cc.RayCastType.All)[0];if(t&&t.collider.tag!=u.ColTag.Player){var e=t.point,i=t.normal;this.normalPre.set(i.rotate((this.right?-1:1)*Math.PI/2).normalizeSelf()),l.default.Debug&&(this._graphic.node.convertToNodeSpaceAR(e,e),this._graphic.moveTo(e.x,e.y),this._graphic.lineTo(50*i.x+e.x,50*i.y+e.y),this._graphic.moveTo(e.x,e.y),this._graphic.lineTo(50*this.normalPre.x+e.x,50*this.normalPre.y+e.y),this._graphic.stroke())}},e.prototype.onPreSolve=function(){},e.prototype.onPostSolve=function(){},e.prototype.onBeginContact=function(t,e,i){if(this._reviveFlag&&5==e.tag){var o=t.getWorldManifold().points[0];if(null==o)return;var n=cc.instantiate(this.reviveNode);n.active=!0;var a=l.default.rootNode;a.convertToNodeSpaceAR(o,o),n.setParent(a),n.setPosition(o);var r=n.getComponent(sp.Skeleton);r.setAnimation(0,"animation",!1),r.setCompleteListener(function(){n.destroy()}),this._reviveFlag=!1}e.tag!=u.ColTag.Player||1!=i.tag||t.disabled||(this._groundTag++,this.isOnGround||(this.isOnGround=!0,this.isJumping=!1))},e.prototype.onEndContact=function(t,e,i){if(e.tag!=u.ColTag.Player||1!=i.tag||t.disabled)switch(i.node.group){case u.NodeGroup.BapBenh:}else this._groundTag--,0==this._groundTag&&(this.isOnGround=!1)},Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right!=t&&(this._right=t,this._speedV2.x=0,this.skl.node.scaleX=t?-.25:.25,this.isOnWall=!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state.name},set:function(t){this._state.name!=t&&(this._state.Exit(),this._state=this._stateArray[t],this._state.Enter())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"friction",{set:function(t){t!=this._friction&&(this._friction=t,this.collider.friction=t,this.collider.apply())},enumerable:!1,configurable:!0}),e.prototype.revive=function(){var t=this;if(this.state==v.PlayerState.Die){var e=y.default.ins.safePoints;if(0==e.length)this.node.setPosition(this._revivePoint);else{for(var i=this.node.getPosition(),o=e[0],n=o.sub(i).len(),a=0,s=e;a<s.length;a++){var l=s[a],d=l.sub(i).len();d<n&&(o=l,n=d)}i.set(o),i.y+=50,this.node.setPosition(i)}this.node.opacity=0,this.scheduleOnce(function(){t.node.opacity=255,t.state=v.PlayerState.Idle},.5),this._reviveFlag=!0,r.default.instance.playAudio(c.AudioDefine.\u590d\u6d3b)}},e.prototype.teleport=function(t){var e=this;this.state=v.PlayerState.Idle,this.scheduleOnce(function(){e.node.parent.convertToNodeSpaceAR(t,t),e.node.setPosition(t)})},n([C({type:sp.Skeleton,visible:!1})],e.prototype,"skl",void 0),n([C({type:cc.Sprite,visible:!0})],e.prototype,"arrowSp",void 0),n([C({type:cc.SpriteFrame,visible:!1})],e.prototype,"spf",void 0),n([C({type:sp.Skeleton,visible:!0})],e.prototype,"showSke",void 0),n([C(cc.Node)],e.prototype,"reviveNode",void 0),n([C],e.prototype,"_type",void 0),n([C({type:cc.Enum(h.PlayerType),visible:!0})],e.prototype,"type",null),n([m],e)}(f.default);i.default=w,(a=i.PlayerTag||(i.PlayerTag={}))[a.Move=5]="Move",a[a.Button=2]="Button",a[a.Top=3]="Top",cc.PhysicsAABBQueryCallback.prototype.ReportFixture=function(t){if(this._isPoint){if(t.TestPoint(this._point))return this._fixtures.push(t),!1}else this._fixtures.push(t);return!0},cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",ColTag:"ColTag",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",GameData:"GameData",GameDefine:"GameDefine",GamePage:"GamePage",PlayerState:"PlayerState",Skin:"Skin",Trigger:"Trigger"}],Portrait_yhxy:[function(t,e,i){"use strict";cc._RF.push(e,"eb45ehYj2NPG5l7J8SxT5T9","Portrait_yhxy");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=t("policy_qx"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Portrait_yszc_item=null,e.YF=null,e.ZJ=null,e.CQ=null,e.YZY=null,e.YM=null,e.MY=null,e}var i;return o(e,t),i=e,e.prototype.start=function(){var t=null;switch(console.log(i.GAME_CP),i.GAME_CP){case c.YmCp.YF:t=this.YF;break;case c.YmCp.ZJ:t=this.ZJ;break;case c.YmCp.CQ:t=this.CQ;break;case c.YmCp.YZY:t=this.YZY;break;case c.YmCp.YM:t=this.YM;break;case c.YmCp.MY:t=this.MY}this.Portrait_yszc_item.string=t},e.prototype.close=function(){this.node.active=!1},e.GAME_CP=null,e.sceneName="",n([s(cc.Label)],e.prototype,"Portrait_yszc_item",void 0),n([s(cc.TextAsset)],e.prototype,"YF",void 0),n([s(cc.TextAsset)],e.prototype,"ZJ",void 0),n([s(cc.TextAsset)],e.prototype,"CQ",void 0),n([s(cc.TextAsset)],e.prototype,"YZY",void 0),n([s(cc.TextAsset)],e.prototype,"YM",void 0),n([s(cc.TextAsset)],e.prototype,"MY",void 0),i=n([r],e)}(cc.Component);i.default=l,cc._RF.pop()},{policy_qx:"policy_qx"}],Portrait_yszc:[function(t,e,i){"use strict";cc._RF.push(e,"37aa7L1aN5OuZbAZ2q7W7l6","Portrait_yszc");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("policy_qx"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Portrait_yszc_item=null,e.YF=null,e.ZJ=null,e.CQ=null,e.YZY=null,e.YM=null,e.MY=null,e}var i;return o(e,t),i=e,e.prototype.start=function(){var t=null;switch(console.log(i.GAME_CP),i.GAME_CP){case a.YmCp.YF:t=this.YF;break;case a.YmCp.ZJ:t=this.ZJ;break;case a.YmCp.CQ:t=this.CQ;break;case a.YmCp.YZY:t=this.YZY;break;case a.YmCp.YM:t=this.YM;break;case a.YmCp.MY:t=this.MY}this.Portrait_yszc_item.string=t},e.prototype.close=function(){this.node.active=!1},e.GAME_CP=null,e.sceneName="",n([c(cc.Label)],e.prototype,"Portrait_yszc_item",void 0),n([c(cc.TextAsset)],e.prototype,"YF",void 0),n([c(cc.TextAsset)],e.prototype,"ZJ",void 0),n([c(cc.TextAsset)],e.prototype,"CQ",void 0),n([c(cc.TextAsset)],e.prototype,"YZY",void 0),n([c(cc.TextAsset)],e.prototype,"YM",void 0),n([c(cc.TextAsset)],e.prototype,"MY",void 0),i=n([s],e)}(cc.Component);i.default=l,cc._RF.pop()},{policy_qx:"policy_qx"}],PrivacyPolicy:[function(t,e,i){"use strict";cc._RF.push(e,"d854fVvr3RJwaorQ5zHq6il","PrivacyPolicy");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("policy_qx"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Portrait_yszc_item=null,e.YF=null,e.ZJ=null,e.CQ=null,e.YZY=null,e.YM=null,e.MY=null,e}var i;return o(e,t),i=e,e.prototype.start=function(){var t=null;switch(console.log(i.GAME_CP),i.GAME_CP){case a.YmCp.YF:t=this.YF;break;case a.YmCp.ZJ:t=this.ZJ;break;case a.YmCp.CQ:t=this.CQ;break;case a.YmCp.YZY:t=this.YZY;break;case a.YmCp.YM:t=this.YM;break;case a.YmCp.MY:t=this.MY}this.Portrait_yszc_item.string=t},e.prototype.close=function(){cc.director.loadScene(i.sceneName),i.sceneName=""},e.GAME_CP=null,e.sceneName="",n([c(cc.Label)],e.prototype,"Portrait_yszc_item",void 0),n([c(cc.TextAsset)],e.prototype,"YF",void 0),n([c(cc.TextAsset)],e.prototype,"ZJ",void 0),n([c(cc.TextAsset)],e.prototype,"CQ",void 0),n([c(cc.TextAsset)],e.prototype,"YZY",void 0),n([c(cc.TextAsset)],e.prototype,"YM",void 0),n([c(cc.TextAsset)],e.prototype,"MY",void 0),i=n([s],e)}(cc.Component);i.default=l,cc._RF.pop()},{policy_qx:"policy_qx"}],RailCart:[function(t,e,i){"use strict";cc._RF.push(e,"732d15Eb+xIYIPid/VQwGeE","RailCart");var o,n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.RailCartrange=void 0;var r,s=t("Player"),c=t("PlayerState"),l=t("GameConfig"),d=t("Trigger"),h=cc._decorator,u=h.ccclass,p=h.property;(r=o||(o={}))[r.Vertical=1]="Vertical",r[r.Horizontal=0]="Horizontal";var f=function(){function t(){this.min=-100,this.max=100}return t.prototype.init=function(t,e){t>e?(this.min=e,this.max=t):(this.min=t,this.max=e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.max-this.min},enumerable:!1,configurable:!0}),a([p(cc.Integer)],t.prototype,"min",void 0),a([p(cc.Integer)],t.prototype,"max",void 0),a([u("RailCartrange")],t)}();i.RailCartrange=f;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.carts=[],e._dir=o.Vertical,e._range=new f,e}return n(e,t),Object.defineProperty(e.prototype,"dir",{get:function(){return this._dir},set:function(t){if(t!=this._dir){this._dir=t,this.range=this._range;for(var e=0;e<2;e++)this.carts[e].active=t==e}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t;var e=cc.find("min",this.node),i=cc.find("max",this.node),n=cc.find("line",this.node);this._dir==o.Vertical?(e.x=0,e.y=t.min,i.x=0,i.y=t.max,n.angle=90,n.width=t.max-t.min+10,n.y=t.min+n.width/2,n.x=0):(e.y=0,e.x=t.min,i.y=0,i.x=t.max,n.angle=0,n.width=t.max-t.min+10,n.x=t.min+n.width/2,n.y=0)},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.dir=t.type;var e=new f;e.init(t.min,t.max),this.range=e},e.prototype.onEnable=function(){var t=cc.find("line",this.node);if(this._dir==o.Vertical){t.y=this._range.min+t.width/2,(i=this.carts[this._dir]).x=0,i.y=0;var e=this._range.width/l.default.RailCartSpeed;cc.tween(i).to(e/2,{y:this._range.min}).to(e,{y:this._range.max}).to(e/2,{y:0}).union().repeatForever().start()}else{var i;t.x=this._range.min+t.width/2,(i=this.carts[this._dir]).x=0,i.y=39,e=this._range.width/l.default.RailCartSpeed,cc.tween(i).to(e/2,{x:this._range.min}).to(e,{x:this._range.max}).to(e/2,{x:0}).union().repeatForever().start(),i.getComponent(cc.RigidBody).onPreSolve=this.onPreSlove.bind(this)}},e.prototype.onPreSlove=function(t,e,i){var o=i.getComponent(s.default);o&&(o.state==c.PlayerState.Idle?t.setFriction(1e3):t.setFriction(0))},a([p({type:cc.Node,visible:!1})],e.prototype,"carts",void 0),a([p({type:cc.Enum(o),visible:!0})],e.prototype,"dir",null),a([p],e.prototype,"_dir",void 0),a([p(f)],e.prototype,"range",null),a([p],e.prototype,"_range",void 0),a([u],e)}(d.default);i.default=y,cc._RF.pop()},{GameConfig:"GameConfig",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],Receiver:[function(t,e,i){"use strict";cc._RF.push(e,"deff6VHZ79Bk5iqa1+g4G9p","Receiver");var o,n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.ReceiverType=void 0;var r,s=t("Trigger");(r=o=i.ReceiverType||(i.ReceiverType={}))[r.Default=0]="Default",r[r.Mirror=1]="Mirror";var c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Receivertype=o.Default,e.flag=!1,e}return n(e,t),e.prototype.update=function(){this.flag=!1},e.prototype.onShow=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onHide=function(){},e.prototype.init=function(t){this.node.angle=t.angle},a([d({type:cc.Enum(o),visible:!0})],e.prototype,"Receivertype",void 0),a([l],e)}(s.default);i.default=h,cc._RF.pop()},{Trigger:"Trigger"}],Revive:[function(t,e,i){"use strict";cc._RF.push(e,"99fab20VodF1pT7SjJjBHlH","Revive");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("UIPrefab"),s=t("GameData"),c=t("TipPrefab"),l=t("GamePage"),d=cc._decorator,h=d.ccclass,u=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.replayBtn=null,e.countDown=null,e.breakNode=null,e.bgSp=null,e.rootNode=null,e.timeLabel=null,e.progress=null,e.nowTime=0,e.totalTime=3,e._finish=!1,e}var i;return o(e,t),i=e,e.prototype.onShow=function(){this.node.opacity=0,this.rootNode.scale=0,cc.tween(this.node).to(.3,{opacity:255}).start(),cc.tween(this.rootNode).to(.3,{scale:1}).start()},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).start(),cc.tween(this.rootNode).to(.3,{scale:0}).call(function(){t.node.destroy()}).start()},e.prototype.onLoad=function(){this.rootNode.scale=0,this.replayBtn.interactable=!1;var t=this.countDown.children;this.timeLabel=t[2].getComponent(cc.Label),this.progress=t[1].getComponent(cc.Sprite)},e.prototype.onClickClose=function(){cc.director.loadScene("Main",function(){i.hide()})},e.prototype.onClickWatch=function(){a.default.watchAD(function(){l.default.ins.revive(),s.default.operateHeart(3),i.hide()},function(){c.default.show("\u7f51\u7edc\u9519\u8bef")})},e.prototype.onClickReplay=function(){var t=new cc.Node;t.addComponent(cc.BlockInputEvents),t.width=this.node.width,t.height=this.node.height,this.node.addChild(t),cc.director.loadScene(s.default.qureyLevelUrl(s.default.Level))},e.prototype.update=function(t){if(!this._finish){this.nowTime+=t;var e=this.totalTime-this.nowTime;if(e<0)this.progress.fillRange=0,this.replayBtn.interactable=!0,this._finish=!0;else{var i=e/this.totalTime;this.progress.fillRange=i,this.timeLabel.string=Math.ceil(e)+""}}},e.uiName="Panel/Revive",n([u(cc.Button)],e.prototype,"replayBtn",void 0),n([u(cc.Node)],e.prototype,"countDown",void 0),n([u(cc.Node)],e.prototype,"breakNode",void 0),n([u(cc.Sprite)],e.prototype,"bgSp",void 0),n([u(cc.Node)],e.prototype,"rootNode",void 0),i=n([h],e)}(r.default);i.default=p,cc._RF.pop()},{ADMgr:"ADMgr",GameData:"GameData",GamePage:"GamePage",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab"}],Rock:[function(t,e,i){"use strict";cc._RF.push(e,"3ed0fpWz0ZMGoK7yuiSGaPd","Rock");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("GameConfig"),c=t("ColTag"),l=t("Trigger"),d=cc._decorator,h=d.ccclass;d.property;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._au=null,e._playing=!0,e._graphic=null,e._wall=0,e._right=!1,e._topBodys=[],e}return o(e,t),e.prototype.onLoad=function(){if(this._au=this.getComponent(cc.AudioSource),s.default.Debug){var t=new cc.Node;this.node.parent.addChild(t),this._graphic=t.addComponent(cc.Graphics),this._graphic.lineWidth=5}},e.prototype.start=function(){},e.prototype.update=function(){},Object.defineProperty(e.prototype,"playing",{set:function(t){this._playing!=t&&(this._playing=t,t?this.scheduleOnce(this.scheduleAu,.3):(this._au.pause(),this.unschedule(this.scheduleAu)))},enumerable:!1,configurable:!0}),e.prototype.scheduleAu=function(){},e.prototype.onBeginContact=function(t,e,i){switch(i.node.group){case c.NodeGroup.Player:if(2==i.tag){var o=this.node.position,n=Math.ceil(this.node.angle)%90,a=cc.misc.degreesToRadians(n),r=cc.v2(-55,60).rotateSelf(a).addSelf(o),l=cc.v2(55,60).rotateSelf(a).addSelf(o);s.default.Debug&&(this._graphic.clear(),this._graphic.moveTo(r.x,r.y),this._graphic.lineTo(l.x,l.y),this._graphic.stroke()),this.node.parent.convertToWorldSpaceAR(r,r),this.node.parent.convertToWorldSpaceAR(l,l);for(var d=0,h=s.default.phyMgr.rayCast(r,l,cc.RayCastType.AllClosest);d<h.length;d++)if(h[d].collider.body==i.body)return void(-1==this._topBodys.indexOf(i.body)&&this._topBodys.push(i.body))}break;case c.NodeGroup.Ground:var u=t.getWorldManifold().normal,p=cc.misc.radiansToDegrees(u.signAngle(cc.v2(0,1))),f=Math.abs(p);f<95&&f>85&&null==t.test&&(t.test=!0,this._wall++,this._right=p>0);case c.NodeGroup.Platform:t.setFriction(.5)}},e.prototype.onEndContact=function(t,e,i){switch(i.node.group){case c.NodeGroup.Player:if(2==i.tag){var o=this._topBodys.indexOf(i.body);-1!=o&&this._topBodys.splice(o,1)}break;case c.NodeGroup.Ground:t.test&&(this._wall--,t.test=null)}},e.prototype.onPreSolve=function(t,e,i){if(i.node.group==c.NodeGroup.Ground);else if(i.node.group==c.NodeGroup.Player&&2!=i.tag){var o=this._topBodys.indexOf(i.body),n=null;if(-1!=o){(n=this._topBodys[o].getComponent(a.default)).state==r.PlayerState.Run?t.setFriction(0):n.state==r.PlayerState.Idle&&t.setFriction(100);var l=this.node.position,d=Math.ceil(this.node.angle)%90,h=cc.misc.degreesToRadians(d),u=cc.v2(-60,60).rotateSelf(h).addSelf(l),p=cc.v2(60,60).rotateSelf(h).addSelf(l);s.default.Debug&&(this._graphic.clear(),this._graphic.moveTo(u.x,u.y),this._graphic.lineTo(p.x,p.y),this._graphic.stroke()),this.node.parent.convertToWorldSpaceAR(u,u),this.node.parent.convertToWorldSpaceAR(p,p);for(var f=0,y=s.default.phyMgr.rayCast(u,p,cc.RayCastType.AllClosest);f<y.length;f++){var g=y[f];if(g.collider.body==i.body&&3==g.collider.tag)return console.log("\u6ca1\u6709\u5728\u9876\u90e8"),void this._topBodys.splice(o,1)}return}if((n=i.getComponent(a.default)).state==r.PlayerState.Run||n.state==r.PlayerState.Push){var v=e.body.linearVelocity;this._wall&&this._right==n.right?(v.x=0,e.body.linearVelocity=v,e.body.angularVelocity=0):n.right&&this.node.x-n.node.x>=0?(v.x=150,e.body.linearVelocity=v):!n.right&&this.node.x-n.node.x<=0&&(v.x=-150,e.body.linearVelocity=v)}}},n([h],e)}(l.default);i.default=u,cc._RF.pop()},{ColTag:"ColTag",GameConfig:"GameConfig",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],RoundMirror:[function(t,e,i){"use strict";cc._RF.push(e,"2a95dhLoudGgJl8rgI8OE9w","RoundMirror");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Trigger"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rigid=null,e}return o(e,t),e.prototype.onLoad=function(){this._rigid=this.getComponentInChildren(cc.RigidBody),this.node.angle<180&&(this.node.angle+=180)},e.prototype.update=function(){this._rigid.syncRotation(!0)},e.prototype.init=function(t){this.node.angle=t.angle},n([s],e)}(a.default);i.default=c,cc._RF.pop()},{Trigger:"Trigger"}],Saw:[function(t,e,i){"use strict";cc._RF.push(e,"b8b81YnbCtDiZh6wTGPgQKJ","Saw");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("Trigger"),c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._left=cc.v2(),e._right=cc.v2(),e._rigid=null,e}return o(e,t),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left.set(t),cc.find("left",this.node).setPosition(t),this.setLine()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right.set(t),cc.find("right",this.node).setPosition(t),this.setLine()},enumerable:!1,configurable:!0}),e.prototype.setLine=function(){var t=cc.find("line",this.node),e=this._right.sub(this._left);t.width=e.len(),t.setPosition(this._left),t.angle=-cc.misc.radiansToDegrees(e.signAngle(cc.v2(1,0)))},e.prototype.init=function(t){this.right=t.right,this.left=t.left},e.prototype.onLoad=function(){this._rigid=this.getComponentInChildren(cc.RigidBody),this._rigid.onBeginContact=this.onBeginContact.bind(this)},e.prototype.onEnable=function(){var t=this._rigid.node,e=t.children[0];cc.tween(e).to(3,{angle:360}).to(0,{angle:0}).union().repeatForever().start();var i=t.getPosition(),o=this._right.sub(i).len()/100,n=this._left.sub(i).len()/100;cc.tween(t).to(o,{position:this._right}).delay(.5).to(o+n,{position:this._left}).delay(.5).to(n,{position:i}).union().repeatForever().start()},e.prototype.onDisable=function(){var t=this._rigid.node;cc.Tween.stopAllByTarget(t),cc.Tween.stopAllByTarget(t.children[0])},e.prototype.onBeginContact=function(t,e,i){i.getComponent(a.default).state=r.PlayerState.Die},n([d],e.prototype,"_left",void 0),n([d(cc.Vec2)],e.prototype,"left",null),n([d],e.prototype,"_right",void 0),n([d(cc.Vec2)],e.prototype,"right",null),n([l],e)}(s.default);i.default=h,cc._RF.pop()},{Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],Scorpion:[function(t,e,i){"use strict";cc._RF.push(e,"30cf1ZAi1FHcYMgPU5nzqK8","Scorpion");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("GameDefine"),c=t("ColTag"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.xRange=new s.Range,e._right=!1,e._sp=null,e._speed=cc.v2(),e._rigid=null,e._walk=!1,e}return o(e,t),e.prototype.onLoad=function(){this._rigid=this.getComponent(cc.RigidBody),this._sp=this.getComponentInChildren(sp.Skeleton),this._right=-1==this.node.scaleX,this.waitFinish()},e.prototype.start=function(){this._walk=!0},e.prototype.update=function(){if(this._rigid.linearVelocity=this._speed,this._walk){var t=this.node.x;t<=this.xRange.min&&!this._right?(t=this.xRange.min,this._walk=!1,this._speed.x=0,this._sp.setAnimation(0,"idle",!1),this.scheduleOnce(this.waitFinish,1)):t>=this.xRange.max&&this._right&&(t=this.xRange.max,this._walk=!1,this._speed.x=0,this._sp.setAnimation(0,"idle",!1),this.scheduleOnce(this.waitFinish,1))}},e.prototype.onBeginContact=function(t,e,i){switch(i.node.group){case c.NodeGroup.Player:this.attack(i.getComponent(a.default));break;default:var o=t.getWorldManifold().normal.signAngle(cc.v2(1,0)),n=Math.abs(cc.misc.radiansToDegrees(o));(n>=170&&n<=190&&!this._right||n<=10&&this._right)&&(this._speed.x=0,this._sp.setAnimation(0,"idle",!1),this.scheduleOnce(this.waitFinish,1))}},e.prototype.waitFinish=function(){this._sp.setAnimation(0,"walk",!0),this._right?this._speed.x=-100:this._speed.x=100,this.node.scaleX*=-1,this._right=!this._right,this._walk=!0},e.prototype.attack=function(t){this._speed.x=0,this._sp.setAnimation(0,"attack",!0),t.node.x>this.node.x?(this._right=!0,this.node.scaleX=-Math.abs(this.node.scaleX)):(this._right=!1,this.node.scaleX=Math.abs(this.node.scaleX)),this._sp.setCompleteListener(this.attackFinish.bind(this)),r.Die.suffix="2",t.state=r.PlayerState.Die},e.prototype.attackFinish=function(){this._sp.setCompleteListener(null),this._sp.invalidAnimationCache(),this.waitFinish()},e.prototype.onEndContact=function(){},n([h(s.Range)],e.prototype,"xRange",void 0),n([d],e)}(cc.Component);i.default=u,cc._RF.pop()},{ColTag:"ColTag",GameDefine:"GameDefine",Player:"Player",PlayerState:"PlayerState"}],Select:[function(t,e,i){"use strict";cc._RF.push(e,"ffc2ahMXflA47URY+U4SKyb","Select");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=t("UIPrefab"),s=t("AudioDefine"),c=t("GameConfig"),l=t("GameData"),d=t("LevelItem"),h=cc._decorator,u=h.ccclass,p=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentNode=null,e.root=null,e.totalLabel=null,e._items=[],e._pageIndex=0,e._maxPage=Math.ceil(c.default.MaxLevel/12),e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){var t,e=this.contentNode.children[0],i=e.getComponent(d.default);this._items.push(i),i.callBack=this.onClickItem.bind(this);for(var o=1;o<12;o++)(t=cc.instantiate(e)).setParent(this.contentNode),i=t.getComponent(d.default),this._items.push(i),i.callBack=this.onClickItem.bind(this)},e.prototype.onShow=function(){this.root.y=-1e3,this.node.opacity=0,cc.tween(this.root).to(.3,{y:0}).start(),cc.tween(this.node).to(.3,{opacity:255}).start()},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).start(),cc.tween(this.root).to(.3,{y:-1e3}).call(function(){t.node.destroy()}).start()},e.prototype.onEnable=function(){var t=l.default.PassLevel;t>c.default.MaxLevel&&(t=c.default.MaxLevel),this._pageIndex=Math.floor((t-1)/12),this.initItems()},e.prototype.initItems=function(){for(var t=12*this._pageIndex,e=l.default.PassLevel,i=0,o=this._items;i<o.length;i++){var n=o[i];++t>c.default.MaxLevel?n.init(null):n.init({level:t,state:e==t?2:e>t?1:0})}this.totalLabel.string=this._pageIndex+1+"/"+Math.ceil(c.default.MaxLevel/12)},e.prototype.onClickItem=function(t){var e=new cc.Node;e.addComponent(cc.BlockInputEvents),e.width=this.node.width,e.height=this.node.height,this.node.addChild(e),l.default.Level=t,cc.director.loadScene(l.default.qureyLevelUrl(t))},e.prototype.onClickNext=function(){this._pageIndex++,this._pageIndex>=this._maxPage&&(this._pageIndex=0),this.initItems(),a.default.instance.playAudio(s.AudioDefine.\u70b9\u51fb)},e.prototype.onClickPre=function(){this._pageIndex--,this._pageIndex<0&&(this._pageIndex=this._maxPage-1),this.initItems(),a.default.instance.playAudio(s.AudioDefine.\u70b9\u51fb)},e.prototype.onClickClose=function(){i.hide()},e.uiName="Panel/Select",n([p(cc.Node)],e.prototype,"contentNode",void 0),n([p(cc.Node)],e.prototype,"root",void 0),n([p(cc.Label)],e.prototype,"totalLabel",void 0),i=n([u],e)}(r.default);i.default=f,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",GameConfig:"GameConfig",GameData:"GameData",LevelItem:"LevelItem",UIPrefab:"UIPrefab"}],Set:[function(t,e,i){"use strict";cc._RF.push(e,"80d56qevhNDc5rbhFcnnID1","Set");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("UIPrefab"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rootNode=null,e}var i;return o(e,t),i=e,e.prototype.onShow=function(){this.node.opacity=0,this.rootNode.scale=0,cc.tween(this.node).to(.3,{opacity:255}).start(),cc.tween(this.rootNode).to(.3,{scale:1}).start()},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).start(),cc.tween(this.rootNode).to(.3,{scale:0}).call(function(){t.node.destroy()}).start()},e.prototype.onClickClose=function(){i.hide()},e.uiName="Panel/Set",n([c(cc.Node)],e.prototype,"rootNode",void 0),i=n([s],e)}(a.default);i.default=l,cc._RF.pop()},{UIPrefab:"UIPrefab"}],SkinItem:[function(t,e,i){"use strict";cc._RF.push(e,"87fb1zZRg5AK7FmuKFTun5u","SkinItem");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GameData"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sps=[],e.bg=null,e.icon=null,e._skinName=null,e._skinIndex=null,e}var i;return o(e,t),i=e,e.prototype.init=function(t){var e=this;this._state=a.default.qureySkinState(t.name)?1:0,this._skinName=t.name,this._skinIndex=t.index,this.bg.spriteFrame=this.sps[this._state],cc.resources.load("Skin",cc.SpriteAtlas,function(t,i){if(e.icon){var o="Skin_"+e._skinName+(0==e._state?"X":"");e.icon.spriteFrame=i.getSpriteFrame(o)}})},e.prototype.onClick=function(){i.ClickHandler&&i.ClickHandler(this._skinName,this._skinIndex,this._state)},e.prototype.onSelect=function(){this.bg.spriteFrame=this.sps[2]},e.prototype.onUnSelect=function(){this.bg.spriteFrame=this.sps[this._state]},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){var e=this;this._state=t,1==t&&cc.resources.load("Skin",cc.SpriteAtlas,function(t,i){if(e.icon){var o="Skin_"+e._skinName;e.icon.spriteFrame=i.getSpriteFrame(o)}})},enumerable:!1,configurable:!0}),n([c(cc.SpriteFrame)],e.prototype,"sps",void 0),n([c(cc.Sprite)],e.prototype,"bg",void 0),n([c(cc.Sprite)],e.prototype,"icon",void 0),i=n([s],e)}(cc.Component);i.default=l,cc._RF.pop()},{GameData:"GameData"}],Skin:[function(t,e,i){"use strict";cc._RF.push(e,"b2133K5Hc9Aq6QCB9A96c/t","Skin");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.skinToSkel=void 0;var a=t("ADMgr"),r=t("UIPrefab"),s=t("GameConfig"),c=t("GameData"),l=t("SkinItem"),d=t("TipPrefab"),h=t("Congratulation"),u=cc._decorator,p=u.ccclass,f=u.property,y=cc.color().fromHEX("#1E1111"),g=cc.color().fromHEX("#D4D4D4"),v={0:[11,12,13,15],1:[0,1,4,17,8,14,18,22,6,7,23,20],2:[2,10,5,9,16,19]};i.skinToSkel={0:0,1:1,4:2,7:3,2:4,3:5,10:6,9:7,5:8,8:9,6:10,18:11,14:12,15:13,16:14,17:15,21:16,19:17,20:18,23:19,22:20,11:100,12:101,13:102};var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabs=null,e.skeles=[],e.content=null,e.itemPre=null,e.scroll=null,e.btns=[],e.backBtn=null,e.root=null,e.tabIndex=1,e.tabChildren=[],e._skinsData={},e._skinIndex=null,e._skinName=null,e._skinItems=[],e._needCoin=0,e._watching=!1,e}var r;return o(e,t),r=e,e.prototype.onLoad=function(){this.tabChildren=this.tabs.children,l.default.ClickHandler=this.onClickSkin.bind(this);for(var t=0,e=this.btns;t<e.length;t++)e[t].active=!1;cc.js.mixin(this._skinsData,v),c.default.qureySkinState(3)&&this._skinsData[1].push(3),c.default.qureySkinState(21)&&this._skinsData[1].push(21)},e.prototype.start=function(){a.default.getIsHuaWei()&&(this.onClickTab(null,"1"),cc.find("ShopSkin Board/tabs",this.node).children[0].active=!1)},e.prototype.onShow=function(){this.node.opacity=0,this.backBtn.scale=0,this.root.y=-1e3,cc.tween(this.node).to(.3,{opacity:255}).start(),cc.tween(this.backBtn).to(.25,{scale:1},{easing:cc.easing.backOut}).start(),cc.tween(this.root).to(.3,{y:-25}).start(),this.backBtn.y=this.node.height/2-50-this.backBtn.height/2,this.backBtn.x=-this.node.width/2+50+this.backBtn.width/2},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).start(),cc.tween(this.backBtn).to(.25,{scale:0},{easing:cc.easing.backIn}).start(),cc.tween(this.root).to(.3,{y:-1e3}).call(function(){t.node.destroy()}).start()},e.prototype.onEnable=function(){var t=this,e=c.default.skin,o=i.skinToSkel[e];for(var n in this._skinsData)if(-1!=this._skinsData[n].indexOf(e)){this.tabIndex=Number(n);break}this.freshTabs(),this.skeles.forEach(function(e,i){e.setSkin(o+"_"+(i+1));var n=e.setAnimation(0,"victory",!0);t.scheduleOnce(function(){e.setMix("victory","idle1",.2),e.setAnimation(0,"idle1",!0)},.75*n.animationEnd)})},e.prototype.onClickTab=function(t,e){var i=Number(e);i!=this.tabIndex&&(this.tabIndex=i,this.freshTabs())},e.prototype.onClickSkin=function(t,e,o){var n,a=this;if(this._skinIndex!=e&&(this._skinItems[e].onSelect(),null===(n=this._skinItems[this._skinIndex])||void 0===n||n.onUnSelect(),this._skinIndex=e),this._skinName=t,o)this.setBtnState(3,!0),c.default.skin=t;else switch(this.tabIndex){case 0:this.setBtnState(0,!0);var r=c.default.qureySkinADNum(t);this.btns[0].getComponentInChildren(cc.Label).string=r+"/5";break;case 1:c.default.qureyPassLVNOADSkin(t)?this.setBtnState(4,!0):this.setBtnState(1,!0);break;case 2:for(var l=0,d=0,h=this._skinItems;d<h.length;d++)1==h[d].state&&l++;this._needCoin=s.default.startBuyCoin+l*s.default.CoinStep,this.btns[2].getComponentInChildren(cc.Label).string=this._needCoin+"",this.setBtnState(2,!0)}t=i.skinToSkel[t],this.unscheduleAllCallbacks(),this.skeles.forEach(function(e,i){e.setSkin(t+"_"+(i+1));var o=e.setAnimation(0,"victory",!0);a.scheduleOnce(function(){e.setMix("victory","idle1",.2),e.setAnimation(0,"idle1",!0)},.75*o.animationEnd)})},e.prototype.freshTabs=function(){var t=this;this.tabChildren.forEach(function(e,i){var o=i==t.tabIndex;e.children[0].active=!o,e.children[1].active=o,e.children[2].color=o?y:g}),this.content.destroyAllChildren();var e=this._skinsData[this.tabIndex];this._skinItems.length=0;var i=null,o=c.default.skin;this._skinIndex=-1,e.forEach(function(e,n){var a=cc.instantiate(t.itemPre);a.active=!0,t.content.addChild(a),(i=a.getComponent(l.default)).init({name:e,index:n}),t._skinItems.push(i),e==o&&(t._skinIndex=n,i.onSelect())}),this.itemPre.active=!1,this.scroll.scrollToTop(),this.setBtnState(0,!1)},e.prototype.onClickBack=function(){r.hide()},e.prototype.onClickGame=function(){var t=c.default.PassLevel;t>s.default.MaxLevel&&(t=s.default.MaxLevel);var e=new cc.Node;e.addComponent(cc.BlockInputEvents),e.width=this.node.width,e.height=this.node.height,this.node.addChild(e),cc.director.loadScene(c.default.qureyLevelUrl(t))},e.prototype.onClickWatch=function(){var t=this;a.default.watchAD(function(){if(-1==v[1].indexOf(t._skinName)){var e=c.default.addADNum(t._skinName);e>=5?t.onGetSkin():t.btns[0].getComponentInChildren(cc.Label).string=e+"/5"}else c.default.subPassLVNOADSkin(t._skinName),t.onGetSkin()},function(){d.default.show("\u7f51\u7edc\u5f02\u5e38")})},e.prototype.onClickBuyCoin=function(){var t=this;s.default.Debug&&(this._needCoin=0),!1===c.default.operateCoin(-this._needCoin)?(console.log("\u91d1\u5e01\u4e0d\u8db3"),cc.find("tips",this.node).active=!0,this.scheduleOnce(function(){cc.find("tips",t.node).active=!1},2),d.default.show("\u91d1\u5e01\u4e0d\u8db3")):this.onGetSkin()},e.prototype.onGetSkin=function(){h.default.show(this._skinName),this._skinItems[this._skinIndex].state=1,this.setBtnState(3,!0)},e.prototype.setBtnState=function(t,e){void 0===e&&(e=!1),this.btns.forEach(function(i,o){i.active=t==o&&e})},e.uiName="Panel/Skin",n([f(cc.Node)],e.prototype,"tabs",void 0),n([f(sp.Skeleton)],e.prototype,"skeles",void 0),n([f(cc.Node)],e.prototype,"content",void 0),n([f(cc.Node)],e.prototype,"itemPre",void 0),n([f(cc.ScrollView)],e.prototype,"scroll",void 0),n([f(cc.Node)],e.prototype,"btns",void 0),n([f(cc.Node)],e.prototype,"backBtn",void 0),n([f(cc.Node)],e.prototype,"root",void 0),r=n([p],e)}(r.default);i.default=_,cc._RF.pop()},{ADMgr:"ADMgr",Congratulation:"Congratulation",GameConfig:"GameConfig",GameData:"GameData",SkinItem:"SkinItem",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab"}],Snake:[function(t,e,i){"use strict";cc._RF.push(e,"f62e4XKMo9DKr+Ge9JLtuhE","Snake");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=cc._decorator,c=s.ccclass,l=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ske=null,e._right=!0,e.speed=50,e._rigid=null,e._vec=null,e._walk=!1,e.onEndContact=null,e.onPreSolve=null,e.onPostSolve=null,e}return o(e,t),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){if(this._right!=t){this._right=t;var e=this.ske.node;t?(e.scaleX=-.1609364,e.x=-16.13):(e.scaleX=.1609364,e.x=15.078)}},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._rigid=this.getComponent(cc.RigidBody),this._vec=this._rigid.linearVelocity,this.playWalk()},e.prototype.onBeginContact=function(t,e,i){var o=this,n=i.getComponent(a.default);if(n&&n.state!=r.PlayerState.Die){if(t.disabled=!0,"bite"==this.ske.animation)return;this.ske.setAnimation(0,"bite",!1),this.scheduleOnce(function(){r.Die.suffix="2",n.state=r.PlayerState.Die,o.onTouchWall()},.2)}else{var s=t.getWorldManifold().normal.signAngle(cc.v2(0,-1)),c=cc.misc.radiansToDegrees(s);if(0==c)return;90==Math.abs(c)&&this.onTouchWall()}},e.prototype.onTouchWall=function(){var t=this;this._walk&&(this.playIdel(),this.scheduleOnce(function(){t.right=!t.right,t.playWalk()},1))},e.prototype.playWalk=function(){this._walk=!0,this._vec.x=this.right?this.speed:-this.speed,this._rigid.linearVelocity=this._vec,this.ske.setAnimation(0,"crawl",!0)},e.prototype.playIdel=function(){this._walk=!1,this._vec.x=0,this._rigid.linearVelocity=this._vec,this.ske.setAnimation(0,"idle",!0)},n([l(sp.Skeleton)],e.prototype,"ske",void 0),n([l(cc.Boolean)],e.prototype,"_right",void 0),n([l(cc.Boolean)],e.prototype,"right",null),n([l(cc.Integer)],e.prototype,"speed",void 0),n([c],e)}(cc.Component);i.default=d,cc._RF.pop()},{Player:"Player",PlayerState:"PlayerState"}],SpecialSkinItem:[function(t,e,i){"use strict";cc._RF.push(e,"4d082Whi/JPebH6mQih/ckr","SpecialSkinItem");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.desLabel=null,e.adBtn=null,e.getBtn=null,e}return o(e,t),n([s(cc.Label)],e.prototype,"desLabel",void 0),n([s(cc.Node)],e.prototype,"adBtn",void 0),n([s(cc.Node)],e.prototype,"getBtn",void 0),n([r],e)}(cc.Component);i.default=c,cc._RF.pop()},{}],SpecialSkin:[function(t,e,i){"use strict";cc._RF.push(e,"1055bvFG3hPYIG/dSaKgGGh","SpecialSkin");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("AudioManager"),s=t("UIPrefab"),c=t("AudioDefine"),l=t("GameData"),d=t("SpecialSkinItem"),h=t("TipPrefab"),u=t("Congratulation"),p=[11,12,13,15],f=cc._decorator,y=f.ccclass,g=f.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.scrollView=null,e._items=null,e._animing=!1,e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){this._items=this.content.getComponentsInChildren(d.default),this._items.forEach(function(t,e){var i=l.default.qureySkinADNum(p[e]);i>=5?(t.getBtn.active=!0,t.adBtn.active=!1):(t.getBtn.active=!1,t.adBtn.active=!0,t.desLabel.string=i+"/5")}),this.scrollView.scrollToLeft()},e.prototype.onShow=function(){this.node.opacity=0,cc.tween(this.node).to(.3,{opacity:255}).start()},e.prototype.onHide=function(){var t=this;this.node.opacity=255,cc.tween(this.node).to(.3,{opacity:0}).call(function(){t.node.destroy()}).start()},e.prototype.onClickBack=function(){i.hide()},e.prototype.onClickWatch=function(t,e){var i=this;if(!this._animing){this._animing=!0,e=Number(e);var o=p[e],n=this._items[e];a.default.watchAD(function(){var t=l.default.addADNum(o);t>=5?(n.adBtn.active=!1,n.getBtn.active=!0,r.default.instance.playAudio(c.AudioDefine.\u83b7\u5f97\u5956\u52b1),u.default.show(o)):n.desLabel.string=t+"/5",i._animing=!1},function(){h.default.show("\u7f51\u7edc\u9519\u8bef"),i._animing=!1})}},e.uiName="Panel/SpecialSkin",n([g(cc.Node)],e.prototype,"content",void 0),n([g(cc.ScrollView)],e.prototype,"scrollView",void 0),i=n([y],e)}(s.default);i.default=v,cc._RF.pop()},{ADMgr:"ADMgr",AudioDefine:"AudioDefine",AudioManager:"AudioManager",Congratulation:"Congratulation",GameData:"GameData",SpecialSkinItem:"SpecialSkinItem",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab"}],Spider:[function(t,e,i){"use strict";cc._RF.push(e,"5322558ycJLyYnuahcy262C","Spider");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("GameConfig"),c=t("ColTag"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ske=null,e._lineNode=null,e._rigid=null,e._netNode=null,e._startY=1e17,e._endY=-1e17,e._lineHeight=0,e.distance=500,e._down=!0,e}return o(e,t),e.prototype.onLoad=function(){this._netNode=this.node.getChildByName("Object_Spider_Net"),this._ske=this.getComponentInChildren(sp.Skeleton),this._lineNode=this.node.children[0],this._rigid=this.getComponentInChildren(cc.RigidBody),this._rigid.onBeginContact=this.onBeginContact.bind(this)},e.prototype.start=function(){var t=cc.v2(0,0),e=cc.v2(0,this.distance),i=cc.v2(0,-this.distance);this.node.convertToWorldSpaceAR(e,e),this.node.convertToWorldSpaceAR(i,i),this.node.convertToWorldSpaceAR(t,t);for(var o=s.default.phyMgr.rayCast(e,i,cc.RayCastType.All),n=0,a=o=o.filter(function(t){var e=t.collider.node.group;return e==c.NodeGroup.Ground||e==c.NodeGroup.Water||e==c.NodeGroup.SpikeTrap});n<a.length;n++){var r=a[n].point.y-t.y;r>0?r<this._startY&&(this._startY=r):r>this._endY&&(this._endY=r)}this._netNode.y=this._startY,this._endY+=30,this._lineHeight=this._startY-this._endY-60,this._lineNode.y=this._startY-10,this._startY-=60;var l=this._startY-this._ske.node.y;l>0?(this._down=!1,this._lineNode.height=l):(this._lineNode.height=0,this._down=!0),this.idle()},e.prototype.onBeginContact=function(t,e,i){var o=cc.v2();e.body.getWorldPosition(o);var n=cc.v2();i.body.getWorldPosition(n);var s=o.x-n.x;Math.abs(s)<5?this.attack("attack"):this.attack("attack_side",s>5),r.Die.suffix="2",i.getComponent(a.default).state=r.PlayerState.Die},e.prototype.down=function(){var t=this;this._ske.setAnimation(0,"down",!0);var e=this._lineHeight/300;cc.tween(this._ske.node).to(e,{y:this._endY},{easing:cc.easing.sineOut}).call(function(){t.idle()}).start(),cc.tween(this._lineNode).to(e,{height:this._lineHeight},{easing:cc.easing.sineOut}).start()},e.prototype.idle=function(){var t=this;this._ske.setAnimation(0,"idle",!0),cc.tween(this._ske.node).delay(.5).call(function(){t._down?t.down():t.up(),t._down=!t._down}).start()},e.prototype.up=function(){var t=this;this._ske.setAnimation(0,"up",!0);var e=(this._startY-this._ske.node.y)/300;cc.tween(this._ske.node).to(e,{y:this._startY},{easing:cc.easing.sineIn}).call(function(){t.idle()}).start(),cc.tween(this._lineNode).to(e,{height:0},{easing:cc.easing.sineIn}).start()},e.prototype.attack=function(t,e){void 0===e&&(e=!0),cc.Tween.stopAllByTarget(this._ske.node),cc.Tween.stopAllByTarget(this._lineNode),this._ske.setAnimation(0,t,!1),this._ske.setCompleteListener(this.attackFinish.bind(this)),this._ske.node.scaleX=e?.3:-.3},e.prototype.attackFinish=function(){this._ske.setCompleteListener(null),this.up()},n([h(cc.Integer)],e.prototype,"distance",void 0),n([d],e)}(cc.Component);i.default=u,cc._RF.pop()},{ColTag:"ColTag",GameConfig:"GameConfig",Player:"Player",PlayerState:"PlayerState"}],SpikeRock:[function(t,e,i){"use strict";cc._RF.push(e,"8213asWh4hKn7PQcghH/+l8","SpikeRock");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("GameConfig"),c=t("ColTag"),l=cc._decorator,d=l.ccclass;l.property;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rigid=null,e._box=null,e._skel=null,e._animing=!1,e}return o(e,t),e.prototype.onLoad=function(){this._skel=this.getComponentInChildren(sp.Skeleton),this._rigid=this.getComponentInChildren(cc.RigidBody),this._box=this._rigid.getComponent(cc.PhysicsBoxCollider),this._rigid.onBeginContact=this.onBeginContact.bind(this),this._skel.setCompleteListener(this.animFinish.bind(this,this._skel.node)),this._box.node.active=!1},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.initBox()})},e.prototype.initBox=function(){var t=cc.v2(0,-50);this.node.convertToWorldSpaceAR(t,t);var e=cc.v2(0,-1e3);this.node.convertToWorldSpaceAR(e,e);var i=s.default.phyMgr.rayCast(t,e,cc.RayCastType.All);if(this._box.node.active=!0,(i=i.filter(function(t){return t.collider.node.group==c.NodeGroup.Ground})).length){i.sort(function(t,e){return t.fraction-e.fraction});var o=i[0];this._box.size.height=944*o.fraction,this._box.offset.y=-this._box.size.height/2-50,this._box.apply()}},e.prototype.onBeginContact=function(t,e,i){if(e.tag==c.ColTag.Spike&&i.node.group==c.NodeGroup.Player){if(this._animing)return;this._animing=!0,this._box.enabled=!1,this.scheduleOnce(this.onTime,.1)}else if(e.tag==c.ColTag.Default&&i.node.group==c.NodeGroup.Ground){if(!this._animing)return;this._skel.setAnimation(0,"animation",!1);var o=this._skel.node,n=cc.v2();o.convertToWorldSpaceAR(n,n),s.default.rootNode.convertToNodeSpaceAR(n,n),o.setPosition(n),o.setParent(s.default.rootNode),this.node.destroy()}else e.tag==c.ColTag.Default&&i.node.group==c.NodeGroup.Player&&(this._skel.setAnimation(0,"animation",!1),o=this._skel.node,n=cc.v2(),o.convertToWorldSpaceAR(n,n),s.default.rootNode.convertToNodeSpaceAR(n,n),o.setPosition(n),o.setParent(s.default.rootNode),r.Die.suffix="2",i.getComponent(a.default).state=r.PlayerState.Die,this.node.destroy())},e.prototype.onTime=function(){this._rigid.gravityScale=1,this._rigid.allowSleep=!1},e.prototype.animFinish=function(t){t.destroy()},n([d],e)}(cc.Component);i.default=h,cc._RF.pop()},{ColTag:"ColTag",GameConfig:"GameConfig",Player:"Player",PlayerState:"PlayerState"}],SpikeTrap:[function(t,e,i){"use strict";cc._RF.push(e,"60bae9HZl1Kdobb9VZeR0lJ","SpikeTrap");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=t("ColTag"),c=t("Trigger"),l=cc._decorator,d=l.ccclass;l.property;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){var t=this.node.children[0];if(t.getComponent(cc.Layout))for(var e=t.children[0],i=this.getComponent(cc.PhysicsBoxCollider).size.width,o=Math.ceil(i/25)-4;o>0;)o--,t.addChild(cc.instantiate(e));for(var n=0,a=t.children;n<a.length;n++)a[n].height=280},e.prototype.onBeginContact=function(t,e,i){i.node.group==s.NodeGroup.Player&&(r.Die.suffix="2",i.getComponent(a.default).state=r.PlayerState.Die)},n([d],e)}(c.default);i.default=h,cc._RF.pop()},{ColTag:"ColTag",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],SpinItem:[function(t,e,i){"use strict";cc._RF.push(e,"dea3fAK90BI3qLCzuPBwJYf","SpinItem");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("DailyGift"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.desLabel=null,e.sp=null,e.spfs=[],e}return o(e,t),e.prototype.init=function(t){switch(this.sp.spriteFrame=this.spfs[t.type],t.type){case a.RewardType.Skin:this.desLabel.string="\u514d\u8d39\u76ae\u80a4";break;default:this.desLabel.string="+"+t.num}},n([c(cc.Label)],e.prototype,"desLabel",void 0),n([c(cc.Sprite)],e.prototype,"sp",void 0),n([c(cc.SpriteFrame)],e.prototype,"spfs",void 0),n([s],e)}(cc.Component);i.default=l,cc._RF.pop()},{DailyGift:"DailyGift"}],Spin:[function(t,e,i){"use strict";cc._RF.push(e,"e72a3w8PYdI2q3r6e8Ki4Sh","Spin");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("AudioManager"),s=t("Coin_fly_to_wallet"),c=t("MathTool"),l=t("UIPrefab"),d=t("WeightRandom"),h=t("AudioDefine"),u=t("GameConfig"),p=t("GameData"),f=t("CoinComp"),y=t("HeartComp"),g=t("SpinItem"),v=t("TipPrefab"),_=t("Congratulation"),m=t("DailyGift"),C=t("Skin"),w=cc._decorator,b=w.ccclass,P=w.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backNode=null,e.bg1=null,e.spinNode=null,e.skels=[],e.spins=null,e.skipBtn=null,e.freeBtn=null,e.ADBtn=null,e.doubleBtn=null,e.nextNode=null,e.conutLabel=null,e._nextTime=-1,e._ad=!1,e._countFinish=!1,e._turns=2,e._targetIndex=0,e._animing=!1,e._doingClipID=null,e.wheelNextAngle=0,e.SpinPrize=[{type:m.RewardType.Heart,num:1,probability:22},{type:m.RewardType.Heart,num:2,probability:14},{type:m.RewardType.Coin,num:1e3,probability:19},{type:m.RewardType.Coin,num:2e3,probability:14},{type:m.RewardType.Heart,num:3,probability:8},{type:m.RewardType.Heart,num:2,probability:14},{type:m.RewardType.Coin,num:3e3,probability:7},{type:m.RewardType.Coin,num:4e3,probability:2}],e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){var t=this;this.bg1.width*=cc.winSize.width/1280,this._spinItems=this.spins.getComponentsInChildren(g.default);var e=p.default.FreeSpinTime,i=(new Date).getTime();this.skipBtn.active=!1,this.doubleBtn.active=!1;var o=e+u.default.FreeSpinTime;o<i?(this.freeBtn.active=!0,this.ADBtn.active=!1,this.nextNode.active=!1):(this.freeBtn.active=!1,this.ADBtn.active=!0,this.nextNode.active=!0,this._nextTime=o,this._countFinish=!1),a.default.showChaPing("2"),a.default.getIsHuaWei()&&(cc.find("Btns/DoubleBtn/Icon_AD",this.node).active=!1,cc.find("Btns/ADBtn/Icon_AD",this.node).active=!1),cc.sys.platform==cc.sys.WECHAT_GAME||cc.sys.isBrowser?this.node.getChildByName("glbtn").active=!0:this.node.getChildByName("glbtn").active=!1,this.node.getChildByName("gl").getChildByName("Pause Button_Close").on("click",function(){t.node.getChildByName("gl").active=!1},this)},e.prototype.onclickGl=function(){this.node.getChildByName("gl").active=!0},e.prototype.onEnable=function(){var t,e=this;this.node.getChildByName("gl").active=!1,p.default.qureySkinState(15)||(this.SpinPrize[7]={type:2,num:15,probability:2});var i=[],o=[];this._spinItems.forEach(function(n,a){t=e.SpinPrize[a],n.init(t),t.angle=45*a,i.push(t.probability),o.push(a)}),this._weight=new d.default(o,i),this.spins.angle=c.MathTool.random(0,360);var n=C.skinToSkel[p.default.skin];this.skels.forEach(function(t,e){t.setSkin(n+"_"+(e+1)),t.setAnimation(0,"spin"+(e+1),!0)})},e.prototype.update=function(){if(!this._countFinish){var t=this._nextTime-p.default.nowTime;t<=0?(this._countFinish=!0,this.nextNode.active=!1,this.skipBtn.active||this._animing||(this.freeBtn.getComponent(cc.Animation).play(),this.freeBtn.active=!0,this.ADBtn.active=!1,this.doubleBtn.active=!1)):this.conutLabel.string="\u4e0b\u6b21\u514d\u8d39\u62bd\u5956:\n"+c.MathTool.msToMin(t/1e3)}},e.prototype.onShow=function(){this.node.opacity=0,cc.tween(this.node).to(.3,{opacity:255}).start()},e.prototype.onHide=function(){var t=this;cc.tween(this.node).to(.3,{opacity:0}).call(function(){t.node.destroy()}).start()},e.prototype.onClickClose=function(){i.hide()},e.prototype.onClickSpin=function(){if(!this._animing){this._animing=!0,this.skels.forEach(function(t,e){t.setAnimation(0,"spin"+(e+1),!0)}),this.spins.angle%=360,this._targetIndex=this._weight.random(),this.wheelNextAngle=this.spins.angle-45;var t=-this.SpinPrize[this._targetIndex].angle;t=t-360*this._turns+c.MathTool.random(-15,15),cc.Tween.stopAllByTarget(this.spins),cc.tween(this.spins).to(2.5,{angle:t-90},{easing:cc.easing.sineInOut,onUpdate:this.onSpinWheel.bind(this,!0)}).to(2,{angle:t},{easing:cc.easing.backInOut,onUpdate:this.onSpinWheel.bind(this,!1)}).call(this.onTweenFinish.bind(this)).start(),r.default.instance.playAudio(h.AudioDefine.\u5f00\u59cb\u8f6c\u76d8,!1,1,function(){r.default.instance.playAudio(h.AudioDefine.\u5faa\u73af\u8f6c\u76d8)})}},e.prototype.onSpinWheel=function(t){t?this.spins.angle<this.wheelNextAngle&&(r.default.instance.playAudio(h.AudioDefine.Spin\u8f6c45\u5ea6),this.wheelNextAngle-=45):this.spins.angle>this.wheelNextAngle&&(r.default.instance.playAudio(h.AudioDefine.Spin\u8f6c45\u5ea6),this.wheelNextAngle+=45)},e.prototype.onTweenFinish=function(){var t=this;this._doingClipID&&(cc.audioEngine.stopEffect(this._doingClipID),this._doingClipID=null),r.default.instance.playAudio(h.AudioDefine.\u83b7\u5f97\u5956\u52b1),this._animing=!1;var e=this.SpinPrize[this._targetIndex],i=this._spinItems[this._targetIndex].node,o=cc.v2(0,234.859);switch(i.convertToWorldSpaceAR(o,o),e.type){case m.RewardType.Heart:s.default.ins.playHeartFlyAnim(e.num,o,y.default.worldPos),p.default.operateHeart(e.num),this.doubleBtn.active=!0,this.skipBtn.active=!0,cc.Tween.stopAllByTarget(this.backNode),cc.Tween.stopAllByTarget(this.doubleBtn),cc.Tween.stopAllByTarget(this.skipBtn),cc.tween(this.backNode).to(.3,{scale:1}).start(),cc.tween(this.doubleBtn).to(.3,{scale:1}).start(),cc.tween(this.skipBtn).to(.3,{scale:1}).start();break;case m.RewardType.Coin:s.default.ins.playCoinFlyAnim(e.num,o,f.default.worldPos),p.default.operateCoin(e.num),this.doubleBtn.active=!0,this.skipBtn.active=!0,cc.Tween.stopAllByTarget(this.backNode),cc.Tween.stopAllByTarget(this.doubleBtn),cc.Tween.stopAllByTarget(this.skipBtn),cc.tween(this.backNode).to(.3,{scale:1}).start(),cc.tween(this.doubleBtn).to(.3,{scale:1}).start(),cc.tween(this.skipBtn).to(.3,{scale:1}).start();break;case m.RewardType.Skin:cc.Tween.stopAllByTarget(this.backNode),cc.Tween.stopAllByTarget(this.ADBtn),cc.tween(this.backNode).to(.3,{scale:1}).start(),this.onClickSkip(),_.default.show(e.num,function(){t._spinItems[7].init({type:m.RewardType.Coin,num:4e3}),t.SpinPrize[7]={type:m.RewardType.Coin,num:4e3,probability:2,angle:315}})}for(var n=0,a=this.skels;n<a.length;n++)a[n].setAnimation(0,"win"+c.MathTool.randomInt(1,6),!0);this._ad||p.default.markFreeSpinTime()},e.prototype.onClickDouble=function(t){var e=this;a.default.watchAD(function(){r.default.instance.playAudio(h.AudioDefine.\u83b7\u5f97\u5956\u52b1);var i=e.SpinPrize[e._targetIndex],o=t.getLocation();switch(i.type){case m.RewardType.Heart:s.default.ins.playHeartFlyAnim(i.num,o,y.default.worldPos),p.default.operateHeart(i.num);break;case m.RewardType.Coin:s.default.ins.playCoinFlyAnim(i.num,o,f.default.worldPos),p.default.operateCoin(i.num);break;case m.RewardType.Skin:_.default.show(i.num)}e.onClickSkip()},function(){v.default.show("\u7f51\u7edc\u5f02\u5e38")})},e.prototype.onClickFree=function(){this._ad=!1,this.onClickSpin(),cc.Tween.stopAllByTarget(this.backNode),cc.tween(this.backNode).to(.3,{scale:0}).start(),this.freeBtn.getComponent(cc.Animation).pause(),cc.tween(this.freeBtn).to(.3,{scale:0}).start()},e.prototype.onClickAD=function(){var t=this;a.default.watchAD(function(){t._ad=!0,t.onClickSpin(),cc.Tween.stopAllByTarget(t.backNode),cc.tween(t.backNode).to(.3,{scale:0}).start(),t.ADBtn.getComponent(cc.Animation).pause(),cc.tween(t.ADBtn).to(.3,{scale:0}).start()},function(){v.default.show("\u7f51\u7edc\u5f02\u5e38")})},e.prototype.onClickSkip=function(){if(this.skipBtn.active=!1,this.doubleBtn.active=!1,!this._ad){var t=p.default.markFreeSpinTime();this._nextTime=t+u.default.FreeSpinTime,this._countFinish=!1}this._countFinish?(this.freeBtn.getComponent(cc.Animation).play(),this.freeBtn.active=!0,this.ADBtn.active=!1,this.nextNode.active=!1):(this.ADBtn.getComponent(cc.Animation).play(),this.ADBtn.active=!0,this.freeBtn.active=!1,this.nextNode.active=!0)},e.uiName="Panel/Spin",n([P(cc.Node)],e.prototype,"backNode",void 0),n([P(cc.Node)],e.prototype,"bg1",void 0),n([P(cc.Node)],e.prototype,"spinNode",void 0),n([P(sp.Skeleton)],e.prototype,"skels",void 0),n([P(cc.Node)],e.prototype,"spins",void 0),n([P(cc.Node)],e.prototype,"skipBtn",void 0),n([P(cc.Node)],e.prototype,"freeBtn",void 0),n([P(cc.Node)],e.prototype,"ADBtn",void 0),n([P(cc.Node)],e.prototype,"doubleBtn",void 0),n([P(cc.Node)],e.prototype,"nextNode",void 0),n([P(cc.Label)],e.prototype,"conutLabel",void 0),i=n([b],e)}(l.default);i.default=S,cc._RF.pop()},{ADMgr:"ADMgr",AudioDefine:"AudioDefine",AudioManager:"AudioManager",CoinComp:"CoinComp",Coin_fly_to_wallet:"Coin_fly_to_wallet",Congratulation:"Congratulation",DailyGift:"DailyGift",GameConfig:"GameConfig",GameData:"GameData",HeartComp:"HeartComp",MathTool:"MathTool",Skin:"Skin",SpinItem:"SpinItem",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab",WeightRandom:"WeightRandom"}],Spring:[function(t,e,i){"use strict";cc._RF.push(e,"b9baa5PP1hBTomiRfsPTILR","Spring");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Player"),r=t("PlayerState"),s=cc._decorator,c=s.ccclass,l=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._anim=null,e.jumpV=2700,e._au=null,e}return o(e,t),e.prototype.onLoad=function(){this._anim=this.getComponent(cc.Animation),this._au=this.getComponent(cc.AudioSource)},e.prototype.onBeginContact=function(t,e,i){var o=this;if(1!=e.tag){var n=i.getComponent(a.default);n.state!=r.PlayerState.Die&&(n.isJumping=!0,this._anim.play(),this.scheduleOnce(function(){var t=i.body,e=t.linearVelocity;e.y=o.jumpV,t.linearVelocity=e,n.state=r.PlayerState.Jump,n.isOnGround=!1,o._au.play()},.05))}},n([l(cc.Integer)],e.prototype,"jumpV",void 0),n([c],e)}(cc.Component);i.default=d,cc._RF.pop()},{Player:"Player",PlayerState:"PlayerState"}],Start:[function(t,e,i){"use strict";cc._RF.push(e,"0155cgmF1hJZYhHEf/jLzmw","Start");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GameConfig"),r=t("Main"),s=t("Win"),c=cc._decorator,l=c.ccclass,d=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MainPre=null,e.WinPre=null,e.walls=[],e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){if(a.default.rootNode=this.node,i.FromWin)(t=cc.instantiate(this.MainPre)).opacity=0,r.default._uiPrefab=t.getComponent(r.default),this.node.addChild(t),t=cc.instantiate(this.WinPre),s.default._uiPrefab=t.getComponent(s.default),this.node.addChild(t);else{var t=cc.instantiate(this.MainPre);r.default._uiPrefab=t.getComponent(r.default),console.log(this.node),console.log(t);try{this.node.addChild(t)}catch(e){t.parent=this.node,console.log("\u62a5\u544a:",e)}}a.default.walls=this.walls},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){i.FromWin=!1},e.FromWin=!1,n([d(cc.Prefab)],e.prototype,"MainPre",void 0),n([d(cc.Prefab)],e.prototype,"WinPre",void 0),n([d(cc.SpriteFrame)],e.prototype,"walls",void 0),i=n([l],e)}(cc.Component);i.default=h,cc._RF.pop()},{GameConfig:"GameConfig",Main:"Main",Win:"Win"}],TeleportPortal:[function(t,e,i){"use strict";cc._RF.push(e,"2d346KTY+tHmoySXlh+HHm7","TeleportPortal");var o,n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var r,s=t("AudioManager"),c=t("Player"),l=t("PlayerState"),d=t("AudioDefine"),h=t("ColTag"),u=t("Trigger");(r=o||(o={}))[r.Yellow=0]="Yellow",r[r.Purple=1]="Purple";var p=cc._decorator,f=p.ccclass,y=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e._type=o.Yellow,e}var i;return n(e,t),i=e,Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!=t){this._type=t;var e=this.getComponentInChildren(sp.Skeleton);e.defaultSkin=this.type==o.Yellow?"huang":"zi",e.setSkin(this.type==o.Yellow?"huang":"zi")}},enumerable:!1,configurable:!0}),e.prototype.onTeleport=function(t){var e=cc.v2(-100,75);t.group==h.NodeGroup.Rock&&(e.x-=15),this.node.convertToWorldSpaceAR(e,e);var i=t.getComponent(c.default);if(i){if(i.state==l.PlayerState.Die)return void(t._contact=!1);i.teleport(e)}else this.scheduleOnce(function(){e.x+=2,t.parent.convertToNodeSpaceAR(e,e),t.setPosition(e)});t._contact=!0,s.default.instance.playAudio(d.AudioDefine.\u4f20\u9001)},e.prototype.onBeginContact=function(t,e,i){if(console.log(i.tag),console.log(i.node.group),5==i.tag||i.node.group!=h.NodeGroup.Player){var o=i.node;console.log("node['_contact']:"+o._contact),o._contact||(o._contact=!0,this.target.onTeleport(i.node))}},e.prototype.onEndContact=function(t,e,i){i.node._contact=!1},e.prototype.init=function(t){this.node.angle=t.angle,this.node.scaleX=t.scale,this.type=t.type},a([y(i)],e.prototype,"target",void 0),a([y],e.prototype,"_type",void 0),a([y({type:cc.Enum(o)})],e.prototype,"type",null),a([f],e)}(u.default);i.default=g,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",ColTag:"ColTag",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],TipPrefab:[function(t,e,i){"use strict";cc._RF.push(e,"d0501vTf41JI4Wu6eDQC8Pl","TipPrefab");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("GameConfig"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}var i;return o(e,t),i=e,e.prototype.init=function(t){this.node.opacity=255,this.label.string=t,this.label._forceUpdateRenderData(),this.node.width=this.label.node.width+160,this.scheduleOnce(this.destroyInTime,2),cc.Tween.stopAllByTarget(this.node)},e.prototype.destroyInTime=function(){cc.tween(this.node).to(.3,{opacity:0}).call(function(){i.hide()}).start()},e.prototype.onDisable=function(){i._showing=!1,this.unscheduleAllCallbacks()},e.show=function(t){this._showing?this._secStr=t:(this._showing=!0,cc.resources.load("Prefab/TipNode",function(e,o){if(!e){var n=cc.instantiate(o);n.setParent(a.default.rootNode),n.getComponent(i).init(t)}}))},e.hide=function(){this._showing=!1,this._secStr&&(this.show(this._secStr),this._secStr=null)},e._showing=!1,e._secStr=null,n([c(cc.Label)],e.prototype,"label",void 0),i=n([s],e)}(cc.Component);i.default=l,cc._RF.pop()},{GameConfig:"GameConfig"}],Tools:[function(t,e,i){"use strict";cc._RF.push(e,"e7a93J0+F1OvIJQZG9rgS7q","Tools"),Object.defineProperty(i,"__esModule",{value:!0}),i.handle=void 0;var o=function(){function t(){}return t.deuceDistance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.lineLine=function(t,e,i,o,n){var a=e.x-t.x,r=o.x-i.x,s=e.y-t.y,c=o.y-i.y,l=r*(t.y-i.y)-c*(t.x-i.x),d=a*(t.y-i.y)-s*(t.x-i.x),h=c*a-r*s;if(0!==h){var u=l/h,p=d/h;if(0<=u&&u<=1&&0<=p&&p<=1)return n.x=t.x+u*a,n.y=t.y+u*s,!0}return!1},t}();i.handle=function(t){for(var e=[],i=0;i<t.length;i++){var n=i==t.length-1?0:i+1;t[i].x=Math.round(t[i].x),t[i].y=Math.round(t[i].y),t[n].x=Math.round(t[n].x),t[n].y=Math.round(t[n].y),o.deuceDistance(t[i],t[n])<2||e.push(t[i])}for(i=0;i<e.length;i++){d=(l=i==e.length-1?0:i+1)==e.length-1?0:l+1,e.length,e.length;var a=(e[d].y-e[i].y)*(e[l].x-e[i].x)-(e[l].y-e[i].y)*(e[d].x-e[i].x);0!=Math.round(a)||(e.splice(l,1),i--)}var r=function(t,e){for(var i=0;i<e.length;i++)if(e[i].equals(t))return i;return-1},s=[];for(i=0;i<e.length;i++){var c=0==i?e.length-1:i-1;for(n=i;n<e.length;n++){var l,d;if(!([c,l=n==e.length-1?0:n+1,d=l==e.length-1?0:l+1].indexOf(i)>=0||[l,d].indexOf(c)>=0||l==d)){var h=cc.v2();if(o.lineLine(e[c],e[i],e[l],e[d],h)){(y=r(h=cc.v2(Math.round(h.x),Math.round(h.y)),[e[c],e[i],e[l],e[d]]))>=0?y<2?(e.splice(d,0,h),s.push([c,i,l,l][y],d)):(e.splice(i,0,h),s.push(i,[c,i,l,l][y])):d>i?(e.splice(d,0,h),e.splice(i,0,h),s.push(i,d+1)):(e.splice(i,0,h),e.splice(d,0,h),s.push(d,i+1));break}}}if(s.length>1)break}var u=[];for(i=0;i<s.length;i++){var p=[];n=s[i];for(var f=0;f<e.length;n--,f++){var y,g=e[y=n<0?e.length+n:n];if(y!==s[i]&&s.indexOf(y)>=0){u.push(p);break}p.push(g)}}return 0==s.length?[e]:u},cc._RF.pop()},{}],TouchComp:[function(t,e,i){"use strict";cc._RF.push(e,"5ad1eha74RH47hnmkBv/vcT","TouchComp");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=t("EventMgr"),s=t("UIPrefab"),c=t("AudioDefine"),l=t("GameConfig"),d=t("GameData"),h=t("GameDefine"),u=t("EventDefine"),p=t("GamePage"),f=t("Pause"),y=cc.color(9,172,197),g=cc.color(0,233,251),v=cc.color(169,29,29),_=cc.color(251,28,0),m=cc._decorator,C=m.ccclass,w=m.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blueKey=null,e.redKey=null,e.label=null,e._blueNode=null,e._redNode=null,e._rightBtn=null,e._leftBtn=null,e._viewBtn=null,e._jumpBtn=null,e._uiCamera=null,e._rightPos=null,e._leftPos=null,e._cameraMove=null,e._handTween=null,e._radius=111,e._dirTouch=null,e.moveRadian=50,e}return o(e,t),e.prototype.onLoad=function(){this._uiCamera=this.getComponent(cc.Camera),this._blueNode=this.node.getChildByName("BlueNode"),this._redNode=this.node.getChildByName("RedNode"),this._rightBtn=this.node.getChildByName("RightNode"),this._leftBtn=this.node.getChildByName("LeftNode"),this._viewBtn=this.node.getChildByName("ViewNode"),this._jumpBtn=this.node.getChildByName("JumpNode").getComponent(cc.Button),this._cameraMove=p.default.ins.cameraMove},e.prototype.onHide=function(){},e.prototype.onShow=function(t){t&&t(this)},e.prototype.startGuide=function(){var t=this;this._leftBtn.active=!1,this._jumpBtn.node.active=!1,this._viewBtn.active=!1,this._blueNode.active=!1,this._redNode.active=!1;var e=this.node.getChildByName("mask");e.active=!0;var i=this.node.getChildByName("Tut Hand");i.active=!0,this._rightBtn.getComponent(cc.Widget).updateAlignment(),this.guideHandAnim(this._rightBtn,i);var o=function(){cc.Tween.stopAllByTarget(e),cc.tween(e).to(.2,{opacity:0}).start(),t._handTween&&t._handTween.stop(),t._handTween=cc.tween(i).to(.2,{opacity:0}).start()},n=function(){cc.Tween.stopAllByTarget(e),cc.tween(e).to(.2,{opacity:92}).start(),t._handTween&&t._handTween.stop(),t._handTween=cc.tween(i).to(.2,{opacity:255}).start()};this._rightBtn.on(cc.Node.EventType.TOUCH_START,o,this),this._rightBtn.on(cc.Node.EventType.TOUCH_END,n,this),this._rightBtn.on(cc.Node.EventType.TOUCH_CANCEL,n,this),r.EventMgr.once(u.EvnetDefine.Indoor,function(){t.onTouchEnd(cc.macro.KEY.d),e.opacity=92,i.opacity=255,t._rightBtn.active=!1,t._blueNode.active=!0,t.guideHandAnim(t._blueNode,i),t._blueNode.once(cc.Node.EventType.TOUCH_END,function(){e.opacity=0,i.opacity=0,t.scheduleOnce(function(){e.opacity=92,i.opacity=255,t._blueNode.active=!1,t._redNode.active=!1,t._redNode.getComponent(cc.Button).interactable=!1,cc.Tween.stopAllByTarget(t._blueNode),cc.Tween.stopAllByTarget(t._redNode),t._jumpBtn.node.active=!0,t.guideHandAnim(t._jumpBtn.node,i),t._jumpBtn.node.once(cc.Node.EventType.TOUCH_END,function(){e.opacity=0,i.opacity=0,t.scheduleOnce(function(){e.opacity=92,i.opacity=255,t._jumpBtn.node.active=!1,t._viewBtn.active=!0,t.guideHandAnim(t._viewBtn,i),t._viewBtn.once(cc.Node.EventType.TOUCH_START,function(){i.opacity=0,e.opacity=0});var a=function(){e.opacity=92,i.opacity=255,t._viewBtn.active=!1,t._rightBtn.active=!0,t.guideHandAnim(t._rightBtn,i),r.EventMgr.once(u.EvnetDefine.Indoor,function(){t.onTouchEnd(cc.macro.KEY.w),e.active=!1,i.active=!1,t._rightBtn.active=!0,t._leftBtn.active=!0,t._viewBtn.active=!0,t._jumpBtn.node.active=!0,t._redNode.active=!0,cc.Tween.stopAllByTarget(t._jumpBtn.node),t._rightBtn.off(cc.Node.EventType.TOUCH_START,o,t),t._rightBtn.off(cc.Node.EventType.TOUCH_END,n,t),t._rightBtn.off(cc.Node.EventType.TOUCH_CANCEL,n,t)}),t._viewBtn.targetOff(t)};t._viewBtn.once(cc.Node.EventType.TOUCH_END,a,t),t._viewBtn.once(cc.Node.EventType.TOUCH_CANCEL,a)},.5)})},.5)})}),e.on(cc.Node.EventType.TOUCH_START,this.onTouchMove,this),e.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),e.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd1,this),e.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd1,this)},e.prototype.guideHandAnim=function(t,e){var i=t.position,o=i.clone();o.x+=50,o.y-=50,e.setPosition(o),cc.Tween.stopAllByTarget(e),cc.tween(e).to(.5,{position:i}).delay(.2).to(.5,{position:o}).union().repeatForever().start();var n=t.scale;t.origin=n,cc.tween(t).to(.5,{scale:1.1*n}).to(.5,{scale:n}).union().repeatForever().start()},e.prototype.onEnable=function(){for(var t=0,e=this.getComponentsInChildren(cc.Widget);t<e.length;t++)e[t].updateAlignment();this._rightPos=this._rightBtn.convertToWorldSpaceAR(cc.v2()),this._uiCamera.getWorldToCameraPoint(this._rightPos,this._rightPos),this._leftPos=this._leftBtn.convertToWorldSpaceAR(cc.v2()),this._uiCamera.getWorldToCameraPoint(this._leftPos,this._leftPos),this.label.string="\u5173\u5361 "+d.default.Level,this.initBtns(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd1,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd1,this),this._jumpBtn.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this,cc.macro.KEY.w),this),this._jumpBtn.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this,cc.macro.KEY.w),this),this._jumpBtn.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd.bind(this,cc.macro.KEY.w),this),this._viewBtn.on(cc.Node.EventType.TOUCH_START,this.onViewStart,this),this._viewBtn.on(cc.Node.EventType.TOUCH_MOVE,this.onViewMove,this),this._viewBtn.on(cc.Node.EventType.TOUCH_END,this.onMoveEnd,this),this._viewBtn.on(cc.Node.EventType.TOUCH_CANCEL,this.onMoveEnd,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd1,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd1,this),this._jumpBtn.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this,cc.macro.KEY.w),this),this._jumpBtn.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this,cc.macro.KEY.w),this),this._jumpBtn.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd.bind(this,cc.macro.KEY.w),this),this._viewBtn.off(cc.Node.EventType.TOUCH_MOVE,this.onViewMove,this),this._viewBtn.off(cc.Node.EventType.TOUCH_END,this.onMoveEnd,this),this._viewBtn.off(cc.Node.EventType.TOUCH_CANCEL,this.onMoveEnd,this)},e.prototype.start=function(){1==d.default.Level&&0==d.default.Guided&&this.startGuide()},e.prototype.initBtns=function(){this._blueNode.angle=0,this._blueNode.active=!0,this._redNode.active=!1,this.blueKey.active=!1,this.redKey.active=!1;for(var t=0,e=["_rightBtn","_leftBtn","_jumpBtn","_viewBtn"];t<e.length;t++){var i=e[t];this[i].normalColor=g,this[i].pressedColor=y,this[i].hoverColor=g,this[i].color=g}},e.prototype.onTouchMove=function(t){var e=t.getLocation(),i=this._leftPos.sub(e);i.len()<this._radius&&Math.abs(i.x)<this._radius&&Math.abs(i.y)<this._radius&&this._leftBtn.active?this.dirTouch=this._leftBtn:(i=this._rightPos.sub(e)).len()<this._radius&&Math.abs(i.x)<this._radius&&Math.abs(i.y)<this._radius&&this._rightBtn.active?this.dirTouch=this._rightBtn:this.dirTouch=null},e.prototype.onTouchEnd1=function(){this.dirTouch=null},Object.defineProperty(e.prototype,"dirTouch",{set:function(t){this._dirTouch!=t&&(this._dirTouch&&(cc.Tween.stopAllByTarget(this._dirTouch),cc.tween(this._dirTouch).to(.1,{color:this._dirTouch.normalColor}).start(),this.onTouchEnd(this._dirTouch==this._rightBtn?cc.macro.KEY.d:cc.macro.KEY.a)),this._dirTouch=t,this._dirTouch&&(cc.Tween.stopAllByTarget(this._dirTouch),cc.tween(this._dirTouch).to(.1,{color:this._dirTouch.pressedColor}).start(),this.onTouchStart(this._dirTouch==this._rightBtn?cc.macro.KEY.d:cc.macro.KEY.a)))},enumerable:!1,configurable:!0}),e.prototype.onTouchStart=function(t){r.EventMgr.emit(u.EvnetDefine.SimulateKey,t,!0)},e.prototype.onTouchEnd=function(t){r.EventMgr.emit(u.EvnetDefine.SimulateKey,t,!1)},e.prototype.onTouchSwtich=function(t,e){var i=this;if(l.default.Click){a.default.instance.playAudio(c.AudioDefine.\u5207\u6362\u989c\u8272);var o=["_rightBtn","_leftBtn","_jumpBtn","_viewBtn"];if(cc.Tween.stopAllByTarget(this._blueNode),cc.Tween.stopAllByTarget(this._redNode),"Blue"==e){this._redNode.angle=-180,this._blueNode.angle=-180,cc.tween(this._blueNode).delay(.1).to(.1,{angle:0}).start(),cc.tween(this._redNode).to(.1,{angle:0}).call(function(){i._redNode.active=!1,i._blueNode.active=!0}).start();for(var n=0,r=o;n<r.length;n++)this[u=r[n]].normalColor=g,this[u].pressedColor=y,this[u].hoverColor=g,this[u].color=g;p.default.ins.changeCtr(h.PlayerType.A)}else{this._blueNode.angle=0,this._redNode.angle=0,cc.tween(this._blueNode).to(.1,{angle:-180}).call(function(){i._blueNode.active=!1,i._redNode.active=!0}).start(),cc.tween(this._redNode).delay(.1).to(.1,{angle:-180}).start();for(var s=0,d=o;s<d.length;s++){var u;this[u=d[s]].normalColor=_,this[u].pressedColor=v,this[u].hoverColor=_,this[u].color=_}p.default.ins.changeCtr(h.PlayerType.B)}}},e.prototype.onTouchPause=function(){f.default.show()},e.prototype.showGetKey=function(t,e){this._uiCamera.getScreenToWorldPoint(e);var i=t==h.PlayerType.A?this.blueKey:this.redKey;i.active=!0,i.parent.convertToNodeSpaceAR(e,e),i.setPosition(e),i.scale=.6,cc.tween(i).to(.7,{x:0,y:0,scale:1}).call(function(){i.parent.getComponent(cc.Animation).play()}).start()},e.prototype.onViewStart=function(t){cc.Tween.stopAllByTarget(this._viewBtn),cc.tween(this._viewBtn).to(.1,{color:this._viewBtn.pressedColor}).start(),this._cameraMove.onZoomStart(),this.onViewMove(t)},e.prototype.onViewMove=function(t){var e=t.getStartLocation().sub(t.getLocation());e.mag()>this.moveRadian?(e.normalizeSelf(),this._cameraMove.onZoomView(e),e.mulSelf(this.moveRadian),e=t.getStartLocation().sub(e)):(this._cameraMove.onZoomView(e.divSelf(this.moveRadian)),e=t.getLocation()),this.node.convertToNodeSpaceAR(e,e),this._viewBtn.setPosition(e)},e.prototype.onMoveEnd=function(t){var e=t.getStartLocation();this.node.convertToNodeSpaceAR(e,e),this._viewBtn.setPosition(e),this._cameraMove.onZoomEnd(),cc.Tween.stopAllByTarget(this._viewBtn),cc.tween(this._viewBtn).to(.1,{color:this._viewBtn.normalColor}).start()},e.uiName="Panel/TouchLayer",n([w({type:cc.Node,visible:!0})],e.prototype,"blueKey",void 0),n([w({type:cc.Node,visible:!0})],e.prototype,"redKey",void 0),n([w(cc.Label)],e.prototype,"label",void 0),n([C],e)}(s.default);i.default=b,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",GameData:"GameData",GameDefine:"GameDefine",GamePage:"GamePage",Pause:"Pause",UIPrefab:"UIPrefab"}],Trap:[function(t,e,i){"use strict";cc._RF.push(e,"28874kZSKhFErxHiCuUEeUm","Trap");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("Trigger"),r=cc._decorator,s=r.ccclass;r.property;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),n([s],e)}(a.default);i.default=c,cc._RF.pop()},{Trigger:"Trigger"}],Trigger:[function(t,e,i){"use strict";cc._RF.push(e,"4bc1bbamqtHipToeCy3blcM","Trigger");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass;a.property;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},n([r],e)}(cc.Component);i.default=s,cc._RF.pop()},{}],UIPrefab:[function(t,e,i){"use strict";cc._RF.push(e,"a7e97llIC1Jqp6o6jqust23","UIPrefab");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioDefine"),r=t("GameConfig"),s=t("EventDefine"),c=t("AudioManager"),l=t("EventMgr"),d=cc._decorator,h=d.ccclass;d.property;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.show=function(){for(var t,e=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(null===(t=this._uiPrefab)||void 0===t||!t.node){var n=r.default.rootNode;cc.resources.load("Prefab/"+this.uiName,function(t,o){var d,h;if(!(t||n!=r.default.rootNode||null!==(d=e._uiPrefab)&&void 0!==d&&d.node)){var u=cc.instantiate(o);u.setParent(n);var p=u.getComponent(e);null===(h=u.getComponent(cc.Widget))||void 0===h||h.updateAlignment(),p.onShow.apply(p,i),l.EventMgr.emit(s.EvnetDefine.UIOpen,e.uiName),e._uiPrefab=p,c.default.instance.playAudio(a.AudioDefine.\u6253\u5f00\u9762\u677f),u.getComponent(cc.BlockInputEvents)||u.addComponent(cc.BlockInputEvents)}})}},e.hide=function(){this._uiPrefab&&(l.EventMgr.emit(s.EvnetDefine.UIClose,this.uiName),c.default.instance.playAudio(a.AudioDefine.\u5173\u95ed\u9762\u677f),this._uiPrefab.onHide(),this._uiPrefab=null)},e.uiName="",e._uiPrefab=null,n([h],e)}(cc.Component);i.default=u,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig"}],Water:[function(t,e,i){"use strict";cc._RF.push(e,"5aaa3zYgStKF6gSh03OkeNW","Water");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("AudioManager"),r=t("MathTool"),s=t("Player"),c=t("PlayerState"),l=t("AudioDefine"),d=t("GameDefine"),h=t("ColTag"),u=t("Trigger"),p=cc._decorator,f=p.ccclass,y=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxCol=null,e.spf=[],e._type=d.PlayerType.A,e._size=null,e._imgPre=null,e._maskNode=null,e._pools=[],e}return o(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!=t){this._type=t;var e=this.node.children[0].getComponentInChildren(cc.Sprite),i="";switch(t){case d.PlayerType.A:i="Water_A",e.node.y=-5;break;case d.PlayerType.B:i="Water_B",e.node.y=-5;break;case d.PlayerType.C:i="Water_C",e.node.y=-28}this.node.name=i,e.spriteFrame=this.spf[t]}},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._size=this.boxCol.size,this._maskNode=this.node.children[0],this._maskNode.width=this._size.width,this._imgPre=this._maskNode.children[0],this._imgPre.removeFromParent(),this._imgPre.anchorX=0},e.prototype.start=function(){for(var t=(this._imgPre.width-3)*this._imgPre.scaleX,e=Math.ceil(this._size.width/t),i=this._size.width/2,o=0;o<e;o++){i-=t;var n=this.getImage();n.x=i,cc.tween(n).to((i+this._size.width/2+t)/50,{x:-this._size.width/2-t}).call(this.recover.bind(this,n)).start()}this.createNew()},e.prototype.createNew=function(){var t=this.getImage();t.x=this._size.width/2;var e=(t.width-3)*t.scaleX;cc.tween(t).to(e/50,{x:this._size.width/2-e}).call(this.createNew,this).to(this._size.width/50,{x:-this._size.width/2-e}).call(this.recover.bind(this,t)).start()},e.prototype.getImage=function(){var t=this._pools.pop();if(t)return t.active=!0,t;var e=cc.instantiate(this._imgPre);return e.setParent(this._maskNode),e},e.prototype.recover=function(t){this._pools.push(t),t.active=!1},e.prototype.changeToIce=function(){var t=new cc.Node,e=t.addComponent(cc.Sprite);e.spriteFrame=this.spf[3],t.setParent(this._maskNode),e.type=cc.Sprite.Type.TILED,e.sizeMode=cc.Sprite.SizeMode.CUSTOM,e.setVertsDirty(),t.width=this._size.width/.8,t.y=-4,t.scale=.8,t.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static,t.group=h.NodeGroup.Ground;var i=t.addComponent(cc.PhysicsBoxCollider);i.size.width=t.width,i.size.height=t.height,i.tag=1,i.apply(),t.opacity=0,cc.tween(t).to(.5,{opacity:255}).start()},e.prototype.init=function(t){this.type=t.type,t.offest.x=0,this.boxCol.offset.set(t.offest).mulSelf(100),this.boxCol.size.width=100*t.size.width,this.boxCol.size.height=100*t.size.height},e.prototype.onBeginContact=function(t,e,i){var o=i.getComponent(s.default);o&&(o.type!=this._type?(this._type==d.PlayerType.C?c.Die.suffix="_black":c.Die.suffix=this._type+"",o.state=c.PlayerState.Die):a.default.instance.playAudio(l.AudioDefine.\u8df3\u6c34+r.MathTool.randomInt(1,3)))},n([y(cc.PhysicsBoxCollider)],e.prototype,"boxCol",void 0),n([y({type:cc.SpriteFrame,visible:!1})],e.prototype,"spf",void 0),n([y],e.prototype,"_type",void 0),n([y({type:cc.Enum(d.PlayerType),visible:!0})],e.prototype,"type",null),n([f],e)}(u.default);i.default=g,cc._RF.pop()},{AudioDefine:"AudioDefine",AudioManager:"AudioManager",ColTag:"ColTag",GameDefine:"GameDefine",MathTool:"MathTool",Player:"Player",PlayerState:"PlayerState",Trigger:"Trigger"}],WeightRandom:[function(t,e,i){"use strict";cc._RF.push(e,"0305bQQwrdJ3ItCMnHpu6bj","WeightRandom"),Object.defineProperty(i,"__esModule",{value:!0});var o=t("MathTool"),n=function(){function t(t,e){this._values=null,this._weights=null,this._totalWeight=0,this.setData(t,e)}return t.prototype.setData=function(t,e){if(null!=t&&null!=e&&t.length==e.length){this._values=t,this._weights=e,this._totalWeight=0;for(var i=0,o=e;i<o.length;i++){var n=o[i];this._totalWeight+=n}}else console.log("WeightRandom setData error")},t.prototype.random=function(){for(var t=o.MathTool.randomInt(0,this._totalWeight),e=0,i=0;i<this._weights.length;i++)if((e+=this._weights[i])>=t)return i;return 0},t}();i.default=n,cc._RF.pop()},{MathTool:"MathTool"}],Win:[function(t,e,i){"use strict";cc._RF.push(e,"1cc33MkgdpDxIzx7VJpwW/i","Win");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ADMgr"),r=t("AudioManager"),s=t("Coin_fly_to_wallet"),c=t("EventMgr"),l=t("MathTool"),d=t("UIPrefab"),h=t("AudioDefine"),u=t("GameConfig"),p=t("GameData"),f=t("EventDefine"),y=t("CoinComp"),g=t("HeartComp"),v=t("TipPrefab"),_=t("GamePage"),m=t("DailyGift"),C=t("Skin"),w=t("SpecialSkin"),b=t("Spin"),P=t("CongratulationAD"),S=t("Main"),T=[1,4,17,8,14,18,22,6,7,23,20],A=cc._decorator,k=A.ccclass,M=A.property,x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg1=null,e.skels=[],e.dailyTip=null,e.spinTip=null,e.coinNode=null,e.doubleNode=null,e.btnLabel=null,e.lvLabel=null,e._rewardNum=0,e._nowSkin=-1,e._frist=!1,e}var i;return o(e,t),i=e,e.prototype.onLoad=function(){if(this.bg1.width*=cc.winSize.width/1280,1==window.showSkin&&p.default.PassLevel%5==0&&100==p.default.RewardNum){T.sort(function(){return l.MathTool.random(-1,1)});for(var t=0;t<T.length;t++){if(!p.default.qureySkinState(T[t])){var e=T[t];return void P.default.show(e,this.onChangeSkin.bind(this))}T.splice(t,1),t--}}r.default.instance.playAudio("finish"+l.MathTool.randomInt(1,4)),cc.sys.platform==cc.sys.OPPO_GAME||(console.log("\u7ed3\u7b97\u63d2\u5c4f"),a.default.showChaPing("1")),a.default.hideBanner(),a.default.getIsHuaWei()&&(cc.find("Endgame Button_Yellow",this.node).active=!1,cc.find("IconSkin",this.node).active=!1,cc.find("IconCoin/Home Icon_Video1",this.node).active=!1,cc.find("IconHeart/Home Icon_Video1",this.node).active=!1,cc.find("coinWindow/Pause Board/Pause Button_GreenL1/Icon_AD",this.node).active=!1,cc.find("heartWindow/Pause Board/Pause Button_GreenL1/Icon_AD",this.node).active=!1,cc.find("coinWindow/Pause Board/one/New Label",this.node).active=!1,cc.find("heartWindow/Pause Board/one/New Label",this.node).active=!1)},e.prototype.handleCoinBtn=function(){cc.find("coinWindow",this.node).active=!0},e.prototype.handleHeartBtn=function(){cc.find("heartWindow",this.node).active=!0},e.prototype.handleCloseCoin=function(){cc.find("coinWindow",this.node).active=!1},e.prototype.handleClosseHeart=function(){cc.find("heartWindow",this.node).active=!1},e.prototype.start=function(){p.default.Level==u.default.MaxLevel&&(this.btnLabel.node.parent.active=!1),this.lvLabel.string="\u5173\u5361 "+p.default.Level,p.default.Level++,this.btnLabel.string="\u5173\u5361 "+p.default.Level;var t=this.coinNode.getComponentInChildren(cc.Label);t.string="+"+p.default.TotalCoin,t._forceUpdateRenderData();var e=this.coinNode.children[1].width+5,i=t.node.width+e;if(t.node.x=-i/2,this.coinNode.children[1].x=-i/2+t.node.width+e/2,0==p.default.TotalCoin)this.doubleNode.active=!1;else{r.default.instance.playAudio(h.AudioDefine.\u83b7\u5f97\u5956\u52b1),p.default.operateCoin(p.default.TotalCoin);var o=cc.winSize,n=cc.v2(o.width/2,185);s.default.ins.playCoinFlyAnim(p.default.TotalCoin,n,y.default.worldPos),t=this.doubleNode.getComponentInChildren(cc.Label),100==p.default.RewardNum?(t.string="+"+2*p.default.TotalCoin,this._rewardNum=p.default.TotalCoin):(t.string="+"+100*p.default.TotalCoin,this._rewardNum=100*p.default.TotalCoin,this.doubleNode.children[3].active=!1),t._forceUpdateRenderData();var a=146+t.node.width+10,c=this.doubleNode.children;c[0].x=-a/2,c[1].x=c[0].x+89,c[2].x=c[1].x+c[1].width+5}this.initSkin(),2==p.default.Level&&0==p.default.Guided?this.startGuide():this._frist=!1},e.prototype.startGuide=function(){if(!a.default.getIsHuaWei()){var t=this.node.getChildByName("mask");t.active=!0;var e=this.doubleNode.getPosition().clone();e.x+=100,e.y+=50,this.doubleNode.once(cc.Node.EventType.TOUCH_END,function(){t.active=!1})}this._frist=!0,p.default.markGuide()},e.prototype.onEnable=function(){1!=window.showSkin&&(this.node.getChildByName("SkinBtn").active=!1,this.node.getChildByName("DailyGiftBtn").active=!1,this.node.getChildByName("SpinBtn").active=!1,this.node.getChildByName("IconSkin").active=!1),u.default.Click=!0,a.default.isWin=!0,console.log("isWin1",a.default.isWin),c.EventMgr.on(f.EvnetDefine.UIClose,this.onUIClose,this)},e.prototype.onDisable=function(){a.default.isWin=!1,console.log("isWin2",a.default.isWin),c.EventMgr.off(f.EvnetDefine.UIClose,this.onUIClose,this)},e.prototype.onShow=function(){_.default.ins.node.active=!1,this.node.opacity=0,cc.tween(this.node).to(.3,{opacity:255}).start()},e.prototype.onHide=function(){var t=this;S.default._uiPrefab.onShow(),this.node.opacity=255,cc.tween(this.node).to(.3,{opacity:0}).call(function(){t.node.destroy()}).start()},e.prototype.onUIClose=function(t){switch(t){case C.default.uiName:case i.uiName:case w.default.uiName:case m.default.uiName:this.initSkin()}},e.prototype.update=function(){p.default.CanGetGift()?this.dailyTip.active=!0:this.dailyTip.active=!1,p.default.FreeSpinTime+u.default.FreeSpinTime<p.default.nowTime?this.spinTip.active=!0:this.spinTip.active=!1},e.prototype.initSkin=function(){this.onChangeSkin(),this.skels.forEach(function(t){t.setAnimation(0,"win"+l.MathTool.randomInt(1,5),!0)})},e.prototype.onClickSkin=function(){C.default.show()},e.prototype.onClickSpin=function(){b.default.show()},e.prototype.onClickDaily=function(){m.default.show()},e.prototype.onClickStartGame=function(){a.default.showBanner();var t=new cc.Node;t.addComponent(cc.BlockInputEvents),t.width=this.node.width,t.height=this.node.height,this.node.addChild(t),cc.director.loadScene(p.default.qureyLevelUrl(p.default.Level))},e.prototype.onClickBack=function(){console.log("444444444444444444444444444444444444444444444444444"),a.default.showBanner(),i.hide()},e.prototype.onChangeSkin=function(){if(p.default.skin!=this._nowSkin){this._nowSkin=p.default.skin;var t=C.skinToSkel[p.default.skin];this.skels.forEach(function(e,i){e.setSkin(t+"_"+(i+1))})}},e.prototype.onClickGetHeart=function(t){this.handleClosseHeart();var e=t.target;a.default.watchAD(function(){p.default.operateHeart(3),s.default.ins.playHeartFlyAnim(3,e.convertToWorldSpaceAR(cc.v2()),g.default.worldPos)},function(){v.default.show("\u7f51\u7edc\u9519\u8bef")})},e.prototype.onClichGetCoin=function(t){this.handleCloseCoin(),a.default.watchAD(function(){p.default.operateCoin(u.default.ADCoin),s.default.ins.playCoinFlyAnim(u.default.ADCoin,t.getLocation(),y.default.worldPos,50)},function(){v.default.show("\u7f51\u7edc\u9519\u8bef")})},e.prototype.onClickSpecial=function(){w.default.show()},e.prototype.onClickDouble=function(t){var e=this;this._frist?(p.default.operateCoin(this._rewardNum),s.default.ins.playCoinFlyAnim(this._rewardNum,t.getLocation(),y.default.worldPos),t.target.active=!1):a.default.watchAD(function(){p.default.operateCoin(e._rewardNum),s.default.ins.playCoinFlyAnim(e._rewardNum,t.getLocation(),y.default.worldPos),t.target.active=!1},function(){v.default.show("\u7f51\u7edc\u9519\u8bef")})},e.uiName="Panel/Win",n([M(cc.Node)],e.prototype,"bg1",void 0),n([M(sp.Skeleton)],e.prototype,"skels",void 0),n([M(cc.Node)],e.prototype,"dailyTip",void 0),n([M(cc.Node)],e.prototype,"spinTip",void 0),n([M(cc.Node)],e.prototype,"coinNode",void 0),n([M(cc.Node)],e.prototype,"doubleNode",void 0),n([M(cc.Label)],e.prototype,"btnLabel",void 0),n([M(cc.Label)],e.prototype,"lvLabel",void 0),i=n([k],e)}(d.default);i.default=x,cc._RF.pop()},{ADMgr:"ADMgr",AudioDefine:"AudioDefine",AudioManager:"AudioManager",CoinComp:"CoinComp",Coin_fly_to_wallet:"Coin_fly_to_wallet",CongratulationAD:"CongratulationAD",DailyGift:"DailyGift",EventDefine:"EventDefine",EventMgr:"EventMgr",GameConfig:"GameConfig",GameData:"GameData",GamePage:"GamePage",HeartComp:"HeartComp",Main:"Main",MathTool:"MathTool",Skin:"Skin",SpecialSkin:"SpecialSkin",Spin:"Spin",TipPrefab:"TipPrefab",UIPrefab:"UIPrefab"}],ageTips:[function(t,e,i){"use strict";cc._RF.push(e,"8047az4HzpHr5COqgxTMa7c","ageTips");var o,n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.eLogo=void 0;var r,s=cc._decorator,c=s.ccclass,l=s.property;(r=o=i.eLogo||(i.eLogo={}))[r.icon_8=0]="icon_8",r[r.icon_12=1]="icon_12",r[r.icon_16=2]="icon_16";var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eLogo=cc.Enum(o).icon_8,e.heigth=130,e.width=-900,e.icon=[],e.agetips=null,e.aTips=null,e.agetipsN=null,e.iconIndex=0,e.sSceneName=["Main"],e.moving=!1,e}return n(e,t),e.prototype.onLoad=function(){console.log("22222222222222222"),cc.game.addPersistRootNode(this.node)},e.prototype.start=function(){},e.prototype.selectIcon=function(){for(var t=0;t<this.icon.length;t++)t==this.eLogo&&(this.iconIndex=t)},e.prototype.onEnable=function(){this.isLoadAgeTips(),console.log("Ssssssssssssssssssssssssssssssss")},e.prototype.isLoadAgeTips=function(){this.selectIcon();try{console.log(this.sSceneName.length);for(var t=0;t<this.sSceneName.length;t++)console.log(cc.director.getScene().name,this.sSceneName[t]),cc.director.getScene().name==this.sSceneName[t]?(console.log(this.sSceneName[t],"\u52a0\u8f7d"),this.checkAgeTips()):console.log(this.sSceneName[t],"\u4e0d\u52a0\u8f7d")}catch(t){console.error("\u5e73\u53f0\u4e0d\u652f\u6301",t)}},e.prototype.checkAgeTips=function(){var t=cc.find("Canvas");t?t.getChildByName("ageTips")?console.log("ageTips is have!"):(console.log("creater ageTips"),this.createrAgeTips()):console.error("Can not find canvas")},e.prototype.createrAgeTips=function(){var t=this,e=cc.instantiate(this.agetips);this.agetipsN=e,e.name="ageTips",e.getComponent(cc.Sprite).spriteFrame=this.icon[this.iconIndex],e.parent=cc.find("Canvas"),e.setPosition(cc.v2(this.width,this.heigth)),e.zIndex=cc.macro.MAX_ZINDEX-1,e.on("click",this.clickAgetips,this),e.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),e.on(cc.Node.EventType.TOUCH_MOVE,function(i){console.log("mv");var o=i.getDelta();e.x+=o.x,e.y+=o.y,t.moving=!0},this),e.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),e.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.clickAgetips=function(){console.log("click agetips"),0==this.moving&&this.createrATips()},e.prototype.createrATips=function(){var t=cc.find("Canvas/ATips");if(t)console.log("\u6253\u5f00\u7a97\u53e3!"),t.active=!0;else{console.log("\u521b\u5efa\u7a97\u53e3"),(t=cc.instantiate(this.aTips)).width=cc.find("Canvas").width,t.height=cc.find("Canvas").height,t.name="ATips",t.parent=cc.find("Canvas"),t.zIndex=cc.macro.MAX_ZINDEX;var e=cc.find("Canvas/ATips/bg/Btn");e&&e.on("click",function(){t.active=!1},this)}},e.prototype.onTouchStart=function(){console.log("start"),this.moving=!1},e.prototype.onTouchEnd=function(){this.moving=!1,this.moveAgeTips()},e.prototype.onTouchCancel=function(){this.moving=!1,this.moveAgeTips()},e.prototype.moveAgeTips=function(){if(this.agetipsN){var t=cc.find("Canvas").width;t=this.agetipsN.x>0?cc.find("Canvas").width/2-(this.agetipsN.width+50):-cc.find("Canvas").width/2+50;var e=cc.moveTo(1,cc.v2(t,this.agetipsN.y));this.agetipsN.runAction(e)}},a([l({type:o,displayName:"\u663e\u793aLogo"})],e.prototype,"eLogo",void 0),a([l(cc.Integer)],e.prototype,"heigth",void 0),a([l(cc.Integer)],e.prototype,"width",void 0),a([l(cc.SpriteFrame)],e.prototype,"icon",void 0),a([l(cc.Prefab)],e.prototype,"agetips",void 0),a([l(cc.Prefab)],e.prototype,"aTips",void 0),a([c],e)}(cc.Component);i.default=d,cc._RF.pop()},{}],btnPatch:[function(t,e,i){"use strict";cc._RF.push(e,"94552ep5BJINpS4OSLdyTiq","btnPatch");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("PrivacyPolicy"),r=t("ADMgr"),s=t("ymsdkConfig"),c=t("ymsdk"),l=cc._decorator,d=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tips=null,e.tips1=null,e}return o(e,t),e.prototype.onLoad=function(){cc.find("ui_button_scyx",this.node).active=!1,cc.find("ui_button_yszc",this.node).active=!1,cc.find("ui_button_fk",this.node).active=!1,cc.find("ui_button_gdjc",this.node).active=!1,cc.find("ui_button_fx",this.node).active=!1,(cc.sys.platform==cc.sys.VIVO_GAME||cc.sys.platform==cc.sys.OPPO_GAME||cc.sys.platform==cc.sys.WECHAT_GAME||cc.sys.isBrowser)&&(e.active=!0),s.default.channel,c.channelType.byte,s.default.channel==c.channelType.oppo_mini||(s.default.channel,c.channelType.develop)},e.prototype.start=function(){},e.prototype.handleBox=function(){r.default.showMoreGame()},e.prototype.handlePrivacyPolicy=function(){a.default.sceneName=cc.director.getScene().name,cc.director.loadScene("PrivacyPolicy")},e.prototype.handleDeskTop=function(){var t=this;r.default.saveDesktop(),r.default.getIsShowDesktop(function(e){t.scheduleOnce(function(){t.tips.active=!0},.5),t.tips.getChildByName("tips").getComponent(cc.Label).string=0==e?"\u6e38\u620f\u5df2\u6536\u85cf\u81f3\u684c\u9762":"\u6536\u85cf\u6e38\u620f",t.scheduleOnce(function(){t.tips.getChildByName("tips").getComponent(cc.Label).string="",t.tips.active=!1},1.2)})},e.prototype.handleFeedBack=function(){r.default.showFeedback()},e.prototype.fx=function(){var t=this;console.log(r.default.RecordTime),r.default.RecordTime<=3?(this.tips1.active=!0,this.scheduleOnce(function(){t.tips1.active=!1},1.2)):r.default.share()},n([h(cc.Node)],e.prototype,"tips1",void 0),n([d],e)}(cc.Component);i.default=u,cc._RF.pop()},{ADMgr:"ADMgr",PrivacyPolicy:"PrivacyPolicy",ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],csvManager:[function(t,e,i){"use strict";cc._RF.push(e,"17e03umRlVHiLI7olEmmHQt","csvManager"),Object.defineProperty(i,"__esModule",{value:!0}),i.CSVManager=void 0;var o=[",",";","\t","|","^"],n=["\r\n","\r","\n"],a=function(t,e,i,o){return i instanceof Array?"number"===i[e]?Number(o[e]):"boolean"===i[e]?"true"===o[e]||"t"===o[e]||"1"===o[e]:o[e]:isNaN(Number(t))?"false"==t||"true"==t||"t"==t||"f"==t?"true"===o[e]||"t"===o[e]||"1"===o[e]:o[e]:Number(o[e])},r={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:o[0],newline:n[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var t=Array.prototype.slice.call(arguments),e=t[0],i=t.slice(1),o=0,n=i.length;o<n;o++)for(var a in i[o])e[a]=i[o][a];return e},map:function(t,e){for(var i=[],o=0,n=t.length;o<n;o++)i[o]=e(t[o],o);return i},getType:function(t){return Object.prototype.toString.call(t).slice(8,-1)},getLimit:function(t,e){return!1===t?e:t},buildObjectConstructor:function(t,e,i){return function(o){var n=new Object,r=function(t,e){return n[t]=e};return i?t.forEach(function(t,n){r(t,a(e[n],n,i,o))}):t.forEach(function(t,i){r(t,a(e[i],i,null,o))}),n}},buildArrayConstructor:function(t,e,i){return function(o){var n=new Array(e.length),r=function(t,e){return n[t]=e};return i?t.forEach(function(t,n){r(t,a(e[n],n,i,o))}):t.forEach(function(t,i){r(t,a(e[i],i,null,o))}),n}},frequency:function(t,e,i){void 0===i&&(i=!1);for(var o=0,n=0,a=this.getLimit(i,t.length);n<a&&-1!==(n=t.indexOf(e,n));)n+=1,o++;return o},mostFrequent:function(t,e,i){for(var o,n=e.length-1;n>=0;n--)this.frequency(t,e[n],i)>0&&(o=e[n]);return o||e[0]},unsafeParse:function(t,e,i){var o,n,a=t.split(e.newline);function r(t){var i=t.shift();if(i.indexOf('"')>=0){for(var o,n=0,a=0,r=0;t.length>0&&(-1!==(n=i.indexOf('"',a))||r%2!=0);)-1!==n?(a=n+1,r++):i=i+e.newline+t.shift();var s=[],c=0,l=0,d=0,h=i.length;for(var u in i)if(i.hasOwnProperty(u)){var p=parseInt(u),f=i[u];0===p&&'"'===f&&(c++,l=1),'"'===f&&(c++,i[p-1]===e.delimiter&&l===p&&l++),'"'!==f||c%2!=0||i[p+1]!==e.delimiter&&p+1!==h||(d=p,o=i.substring(l,d),s.push(o),d=l=d+2),f===e.delimiter&&c%2==0&&((d=p)>l?(o=i.substring(l,d),s.push(o),d=l=d+1):d===l&&(s.push(""),d=l=d+1))}return(d=h)>=l&&(o=i.substring(l,d),s.push(o)),s}return i.split(e.delimiter)}for(e.skip>0&&a.splice(e.skip),e.header?(!0===e.header?(e.comment=r(a),e.cast=r(a),o=r(a)):"Array"===this.getType(e.header)&&(o=e.header),n=this.buildObjectConstructor(o,a[0].split(e.delimiter),e.cast)):n=this.buildArrayConstructor(o,a[0].split(e.delimiter),e.cast);a.length>0;){var s=r(a);s.length>1&&i(n(s),o[0])}return!0},safeParse:function(t,e){e.delimiter;var i=e.newline,o=t.split(i);return e.skip>0&&o.splice(e.skip),!0},encodeCells:function(t,e,i){for(var o=t.slice(0),n=0,a=o.length;n<a;n++)-1!==o[n].indexOf(this.quoteMark)&&(o[n]=o[n].replace(this.quoteRegex,this.doubleQuoteMark)),-1===o[n].indexOf(e)&&-1===o[n].indexOf(i)||(o[n]=this.quoteMark+o[n]+this.quoteMark);return o.join(e)},encodeArrays:function(t,e,i){var o=e.delimiter,n=e.newline;e.header&&"Array"===this.getType(e.header)&&i(this.encodeCells(e.header,o,n));for(var a=0,r=this.getLimit(e.limit,t.length);a<r;a++)i(this.encodeCells(t[a],o,n));return!0},encodeObjects:function(t,e,i){var o,n,a=e.delimiter,r=e.newline;for(var s in o=[],n=[],t[0])o.push(s),n.push(t[0][s]);!0===e.header?i(this.encodeCells(o,a,r)):"Array"===this.getType(e.header)&&i(this.encodeCells(e.header,a,r)),i(this.encodeCells(n,a));for(var c=1,l=this.getLimit(e.limit,t.length);c<l;c++){n=[];for(var d=0,h=o.length;d<h;d++)n.push(t[c][o[d]]);i(this.encodeCells(n,a,r))}return!0},parse:function(t,e,i){var a;if("Function"===this.getType(e)?(i=e,e={}):"Function"!==this.getType(i)?i=(a=[]).push.bind(a):a=[],e=this.assign({},this.STANDARD_DECODE_OPTS,e),this.opts=e,!e.delimiter||!e.newline){var r=Math.min(48,Math.floor(t.length/20),t.length);e.delimiter=e.delimiter||this.mostFrequent(t,o,r),e.newline=e.newline||this.mostFrequent(t,n,r)}return this.unsafeParse(t,e,i)&&(!(a.length>0)||a)},encode:function(t,e,i){var o;return"Function"===this.getType(e)?(i=e,e={}):"Function"!==this.getType(i)&&(i=(o=[]).push.bind(o)),(e=this.assign({},this.STANDARD_ENCODE_OPTS,e)).skip>0&&(t=t.slice(e.skip)),("Array"===this.getType(t[0])?this.encodeArrays:this.encodeObjects)(t,e,i)&&(!(o.length>0)||o.join(e.newline))}},s=function(){function t(){this._csvTables={},this._csvTableForArr={},this._tableCast={},this._tableComment={}}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)},enumerable:!1,configurable:!0}),t.prototype.addTable=function(t,e,i){if(!this._csvTables[t]||i){var o={},n=[];r.parse(e,{header:!0},function(t,e){o[t[e]]=t,n.push(t)}),this._tableCast[t]=r.opts.cast,this._tableComment[t]=r.opts.comment,this._csvTables[t]=o,this._csvTableForArr[t]=n}},t.prototype.getTableArr=function(t){return this._csvTableForArr[t]},t.prototype.getTable=function(t){return this._csvTables[t]},t.prototype.queryOne=function(t,e,i){var o=this.getTable(t);if(!o)return null;if(!e)return o[i];for(var n in o)if(o.hasOwnProperty(n)&&o[n][e]===i)return o[n]},t.prototype.queryByID=function(t,e){return this.queryOne(t,null,e)},t.prototype.queryAll=function(t,e,i){var o=this.getTable(t);if(!o||!e)return null;var n={};for(var a in o)o.hasOwnProperty(a)&&o[a][e]===i&&(n[a]=o[a]);return n},t.prototype.queryIn=function(t,e,i){var o=this.getTable(t);if(!o||!e)return null;for(var n={},a=Object.keys(o),r=a.length,s=0;s<r;s++){var c=o[a[s]];i.indexOf(c[e])>-1&&(n[a[s]]=c)}return n},t.prototype.queryByCondition=function(t,e){if(e.constructor!==Object)return null;var i=this.getTable(t);if(!i)return null;for(var o={},n=Object.keys(i),a=n.length,r=Object.keys(e),s=r.length,c=0;c<a;c++){for(var l=i[n[c]],d=!0,h=0;h<s;h++){var u=r[h];d=d&&e[u]===l[u]&&!o[n[c]]}d&&(o[n[c]]=l)}return o},t.prototype.queryOneByCondition=function(t,e){if(e.constructor!==Object)return null;var i=this.getTable(t);if(!i)return null;var o=Object.keys(e),n=o.length;for(var a in i){for(var r=i[a],s=!0,c=0;c<n;c++){var l=o[c];s=s&&e[l]===r[l]}if(s)return r}return null},t}();i.CSVManager=s,cc._RF.pop()},{}],huaweiNativeInsert:[function(t,e){"use strict";var i;cc._RF.push(e,"9ecd7GUqQ5PgLEObXzCJnIV","huaweiNativeInsert");var o=(i=t("ymsdkConfig"))&&i.__esModule?i:{default:i},n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=o?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(t("ymsdk"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}cc.Class({extends:cc.Component,onLoad:function(){this.nativeAd=null,this.adInfo=null,this.adContent=this.node.getChildByName("adContent"),this.hideAllUi(),this.refreshNativeInsertContent(),this.node.zIndex+=9999},start:function(){},refreshNativeInsertContent:function(){var t=this,e=o.default[n.channelType.huawei].nativeInsert[0].id;this.nativeAd=hbs.createNativeAd({adUnitId:e,success:function(){console.log("loadNativeAd loadNativeAd : success")},fail:function(e,i){console.log("loadNativeAd loadNativeAd fail: "+e+","+i),t.errorCall()},complete:function(){console.log("loadNativeAd loadNativeAd : complete")}}),this.nativeAd.onLoad(function e(i){console.info("ad data loaded: "+JSON.stringify(i)),t.adInfo=i.adList[0];var o=t.adInfo.imgUrlList[0];t.node.getChildByName("title").getComponent(cc.Label).string=t.adInfo.title,t.node.getChildByName("btn_see_insert").getChildByName("label").getComponent(cc.Label).string=t.adInfo.clickBtnTxt,t.node.getChildByName("source").getComponent(cc.Label).string=t.adInfo.source,cc.loader.load(o,function(e,i){e&&(console.log("\u539f\u751f\u5e7f\u544a\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff1a",e),t.errorCall()),console.log("\u52a0\u8f7d\u6210\u529f"),t.adContent.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),t.nativeAd.reportAdShow({adId:t.adInfo.adId.toString()}),t.showAllUi()}),t.nativeAd.offLoad(e)}),this.nativeAd.load(),this.nativeAd.onError(function(e){console.error("load native ad error:"+JSON.stringify(e)),t.errorCall()})},adaptImg:function(){var t=this.prop.getComponent(cc.Sprite).spriteFrame.getOriginalSize(),e=t.width/t.height;e>1.5454545454545454?(this.adContent.width=Math.min(850,t.width),this.adContent.height=850/e):(this.adContent.height=Math.min(550,t.height),this.adContent.width=550*e)},errorCall:function(){n.default.showInterstitialAd("default"),this.node.destroy()},hideAllUi:function(){this.node.children.forEach(function(t){return t.active=!1})},showAllUi:function(){this.node.children.forEach(function(t){return t.active=!0})},handleSeeAd:function(){this.nativeAd.reportAdClick({adId:this.adInfo.adId.toString()}),this.node.destroy()},handleClose:function(){this.node.destroy()}}),cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],huaweiPatch:[function(t,e,i){"use strict";cc._RF.push(e,"05c85iDAPxMlb4sgWIZEtz/","huaweiPatch");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ymsdk"),r=t("ymsdkConfig"),s=cc._decorator,c=s.ccclass;s.property;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){r.default.channel==a.channelType.huawei&&(cc.sys.localStorage.getItem("isHuaweiPrivacy")||cc.loader.loadRes("Ad/privacyWindow",function(t,e){t&&cc.warn("async load prefab failed : ");var i=cc.instantiate(e);cc.director.getScene().addChild(i,999)}))},e.prototype.start=function(){},n([c],e)}(cc.Component);i.default=l,cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],loadingScene:[function(t,e,i){"use strict";cc._RF.push(e,"f474bILxNNMM7tCrZKLCvOa","loadingScene");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextScene="LoadingScene",e}return o(e,t),e.prototype.start=function(){cc.director.loadScene(this.nextScene)},n([s(cc.String)],e.prototype,"nextScene",void 0),n([r],e)}(cc.Component);i.default=c,cc._RF.pop()},{}],oppoNativeBanner:[function(t,e){"use strict";var i;cc._RF.push(e,"96853QcmIpJ+6m3Kyqd3EBt","oppoNativeBanner");var o=(i=t("ymsdkConfig"))&&i.__esModule?i:{default:i},n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=o?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(t("ymsdk"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}cc.Class({extends:cc.Component,onLoad:function(){this.nativeAd=null,this.adInfo=null,this.adContent=this.node.getChildByName("adContent"),this.hideAllUi(),this.refreshNativeInsertContent(),this.node.zIndex+=10},start:function(){},refreshNativeInsertContent:function(){var t=this,e=o.default[n.channelType.oppo_mini].nativeBanner[0].id;console.log("id: ",e),this.nativeAd=qg.createNativeAd({adUnitId:e}),this.nativeAd.onLoad(function(e){t.adInfo=e.adList[0],t.nativeAd.reportAdShow({adId:t.adInfo.adId.toString()}),n.default.hideBannerAd("default");var i=t.adInfo.imgUrlList[0].toString();cc.loader.load({url:i,type:"png"},function(e,i){e&&(console.log("\u539f\u751f\u5e7f\u544a\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff1a",e),t.errorCall()),t.adContent.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),t.showAllUi()}),t.node.getChildByName("title").getComponent(cc.Label).string=t.adInfo.title||"",t.node.getChildByName("desc").getComponent(cc.Label).string=t.adInfo.desc||""}),this.nativeAd.load().catch(function(e){console.log("\u539f\u751f\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t.errorCall()})},errorCall:function(){this.node.destroy(),n.default.showBannerAd("default")},hideAllUi:function(){this.node.children.forEach(function(t){return t.active=!1})},showAllUi:function(){this.node.children.forEach(function(t){return t.active=!0})},handleSeeAd:function(){this.nativeAd.reportAdClick({adId:this.adInfo.adId.toString()}),this.node.destroy()},handleClose:function(){this.node.destroy()}}),cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],oppoNativeIcon:[function(t,e){"use strict";var i;cc._RF.push(e,"e6e10/yWVBDJ6zLTdtZmUK2","oppoNativeIcon");var o=(i=t("ymsdkConfig"))&&i.__esModule?i:{default:i},n=t("ymsdk");cc.Class({extends:cc.Component,onLoad:function(){o.default.channel===n.channelType.oppo_mini?(this.nativeAd=null,this.adInfo=null,this.adContent=this.node.getChildByName("adContent"),this.hideAllUi(),this.refreshNativeInsertContent(),this.node.zIndex+=10):this.node.destroy()},start:function(){},refreshNativeInsertContent:function(){var t=this,e=o.default[n.channelType.oppo_mini].nativeIcon[0].id;console.log("id: ",e),this.nativeAd=qg.createNativeAd({adUnitId:e}),this.nativeAd.onLoad(function(e){t.adInfo=e.adList[0],t.nativeAd.reportAdShow({adId:t.adInfo.adId.toString()}),console.log(e);var i=t.adInfo.iconUrlList[0].toString();cc.loader.load({url:i,type:"png"},function(e,i){e&&(console.log("\u539f\u751f\u5e7f\u544a\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff1a",e),t.errorCall()),t.adContent.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),t.showAllUi()}),t.node.getChildByName("title").getComponent(cc.Label).string=t.adInfo.title}),this.nativeAd.load().catch(function(e){console.log("\u539f\u751f\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t.errorCall()})},adaptImg:function(){var t=this.prop.getComponent(cc.Sprite).spriteFrame.getOriginalSize(),e=t.width/t.height;e>1.5454545454545454?(this.adContent.width=Math.min(850,t.width),this.adContent.height=850/e):(this.adContent.height=Math.min(550,t.height),this.adContent.width=550*e)},errorCall:function(){this.node.destroy()},hideAllUi:function(){this.node.children.forEach(function(t){return t.active=!1})},showAllUi:function(){this.node.children.forEach(function(t){return t.active=!0})},handleSeeAd:function(){this.nativeAd.reportAdClick({adId:this.adInfo.adId.toString()}),this.node.destroy()},handleClose:function(){this.node.destroy()}}),cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],oppoNativeInsert:[function(t,e,i){"use strict";cc._RF.push(e,"d53fdEVNCZDl7siGja3SuFH","oppoNativeInsert");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("ymsdkConfig"),r=t("ymsdk"),s=cc._decorator,c=s.ccclass;s.property;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onLoad=function(){a.default.channel===r.channelType.oppo_mini?(this.adContent=this.node.getChildByName("adContent"),this.hideAllUi(),this.refreshNativeInsertContent(),this.node.zIndex+=10):this.node.destroy()},e.prototype.start=function(){},e.prototype.refreshNativeInsertContent=function(){var t=this,e=a.default[r.channelType.oppo_mini].nativeInsert[0].id;console.log("id: ",e),this.nativeAd=qg.createNativeAd({adUnitId:e}),console.log("oppo native insert"),this.nativeAd.onLoad(function(e){t.adInfo=e.adList[0],t.nativeAd.reportAdShow({adId:t.adInfo.adId.toString()}),console.log(e);var i=t.adInfo.imgUrlList[0].toString();cc.loader.load({url:i,type:"png"},function(e,i){e&&(console.log("\u539f\u751f\u5e7f\u544a\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff1a",e),t.errorCall()),t.adContent.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),t.showAllUi()}),t.node.getChildByName("title").getComponent(cc.Label).string=t.adInfo.title}),this.nativeAd.load().catch(function(e){console.log("\u539f\u751f\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t.errorCall()})},e.prototype.errorCall=function(){r.default.showBannerAd("default"),this.node.destroy()},e.prototype.hideAllUi=function(){this.node.children.forEach(function(t){return t.active=!1})},e.prototype.showAllUi=function(){this.node.children.forEach(function(t){return t.active=!0})},e.prototype.handleSeeAd=function(){this.nativeAd.reportAdClick({adId:this.adInfo.adId.toString()}),this.node.destroy()},e.prototype.handleClose=function(){this.node.destroy()},n([c],e)}(cc.Component);i.default=l,cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],policy_qx:[function(t,e,i){"use strict";cc._RF.push(e,"c1f73UejLdEEbMBNrHd00zd","policy_qx");var o,n=__extends,a=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.YmCp=void 0;var r,s=t("PrivacyPolicy"),c=t("Portrait_yszc"),l=t("Portrait_yhxy");(r=o=i.YmCp||(i.YmCp={}))[r.YF=0]="YF",r[r.ZJ=1]="ZJ",r[r.CQ=2]="CQ",r[r.YZY=3]="YZY",r[r.YM=4]="YM",r[r.MY=5]="MY";var d=cc._decorator,h=d.ccclass,u=d.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.GAME_CP=cc.Enum(o).YF,e.nextName="desc",e.Portrait_yszc=null,e.UserAgreement_yhxy=null,e.Portrait_yszc_item=null,e.UserAgreement_yhxy_item=null,e.form=null,e.bg=null,e.YF=null,e.ZJ=null,e.CQ=null,e.YZY=null,e.YM=null,e.MY=null,e.YF_yhxy=null,e.ZJ_yhxy=null,e.CQ_yhxy=null,e.YZY_yhxy=null,e.YM_yhxy=null,e.MY_yhxy=null,e}return n(e,t),e.prototype.start=function(){s.default.GAME_CP=this.GAME_CP,c.default.GAME_CP=this.GAME_CP,l.default.GAME_CP=this.GAME_CP,cc.sys.platform==cc.sys.VIVO_GAME||cc.sys.platform==cc.sys.OPPO_GAME||cc.sys.platform==cc.sys.WECHAT_GAME||cc.sys.isBrowser?(console.log("\u4e3b\u4f53\uff1a"+this.GAME_CP),cc.sys.localStorage.getItem("policy")?(this.form.active=!1,this.bg.active=!1,cc.director.loadScene(this.nextName)):this.init()):(console.log("2"),this.form.active=!1,this.bg.active=!1,cc.director.loadScene(this.nextName))},e.prototype.init=function(){this.Portrait_yszc.active=!1,this.UserAgreement_yhxy.active=!1;var t=null,e=null;switch(this.GAME_CP){case o.YF:t=this.YF,e=this.YF_yhxy;break;case o.ZJ:t=this.ZJ,e=this.ZJ_yhxy;break;case o.CQ:t=this.CQ,e=this.CQ_yhxy;break;case o.YZY:t=this.YZY,e=this.YZY_yhxy;break;case o.YM:t=this.YM,e=this.YM_yhxy;break;case o.MY:t=this.MY,e=this.MY_yhxy}this.Portrait_yszc_item.string=t,this.UserAgreement_yhxy_item.string=e},e.prototype.privacyPolicy=function(){console.log("\u6253\u5f00\u9690\u79c1\u653f\u7b56"),this.Portrait_yszc.active=!0},e.prototype.closePortrait_yszc=function(){this.Portrait_yszc.active=!1},e.prototype.UserAgreement=function(){console.log("\u6253\u5f00\u9690\u79c1\u653f\u7b56"),this.UserAgreement_yhxy.active=!0},e.prototype.closeUserAgreement_yhxy=function(){this.UserAgreement_yhxy.active=!1},e.prototype.exit=function(){console.log("\u9000\u51fa\u6e38\u620f"),cc.sys.localStorage.setItem("policy",""),cc.sys.platform==cc.sys.VIVO_GAME?qg.exitApplication():cc.sys.platform==cc.sys.OPPO_GAME?cc.game.end():cc.sys.platform==cc.sys.WECHAT_GAME?(cc.game.end(),wx.exitMiniProgram({success:function(){console.log("\u9000\u51fa\u6210\u529f\uff01")}})):cc.sys.platform==cc.sys.BYTEDANCE_GAME&&tt.exitMiniProgram({success:function(){console.log("\u9000\u51fa\u6210\u529f\uff01")}})},e.prototype.Ok=function(){console.log("\u7ee7\u7eed\u6e38\u620f"),cc.sys.localStorage.setItem("policy","1"),cc.director.loadScene(this.nextName)},e.prototype.dayin=function(){},a([u({type:o,displayName:"\u4e3b\u4f53"})],e.prototype,"GAME_CP",void 0),a([u(cc.String)],e.prototype,"nextName",void 0),a([u(cc.Node)],e.prototype,"Portrait_yszc",void 0),a([u(cc.Node)],e.prototype,"UserAgreement_yhxy",void 0),a([u(cc.Label)],e.prototype,"Portrait_yszc_item",void 0),a([u(cc.Label)],e.prototype,"UserAgreement_yhxy_item",void 0),a([u(cc.Node)],e.prototype,"form",void 0),a([u(cc.Node)],e.prototype,"bg",void 0),a([u(cc.TextAsset)],e.prototype,"YF",void 0),a([u(cc.TextAsset)],e.prototype,"ZJ",void 0),a([u(cc.TextAsset)],e.prototype,"CQ",void 0),a([u(cc.TextAsset)],e.prototype,"YZY",void 0),a([u(cc.TextAsset)],e.prototype,"YM",void 0),a([u(cc.TextAsset)],e.prototype,"MY",void 0),a([u(cc.TextAsset)],e.prototype,"YF_yhxy",void 0),a([u(cc.TextAsset)],e.prototype,"ZJ_yhxy",void 0),a([u(cc.TextAsset)],e.prototype,"CQ_yhxy",void 0),a([u(cc.TextAsset)],e.prototype,"YZY_yhxy",void 0),a([u(cc.TextAsset)],e.prototype,"YM_yhxy",void 0),a([u(cc.TextAsset)],e.prototype,"MY_yhxy",void 0),a([h],e)}(cc.Component);i.default=p,cc._RF.pop()},{Portrait_yhxy:"Portrait_yhxy",Portrait_yszc:"Portrait_yszc",PrivacyPolicy:"PrivacyPolicy"}],privacyWindow:[function(t,e){"use strict";cc._RF.push(e,"7a5e5i0/flC+5i13PfsGyiQ","privacyWindow"),cc.Class({extends:cc.Component,start:function(){},handleDisagree:function(){hbs.exitApplication({success:function(){console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){console.log("exitApplication complete")}})},handleConsent:function(){cc.sys.localStorage.setItem("isHuaweiPrivacy",!0),this.node.destroy()}}),cc._RF.pop()},{}],ts:[function(t,e){"use strict";cc._RF.push(e,"fc4c3rJIylI271CU1fC5Uko","ts"),cc._RF.pop()},{}],vivoNativeBanner:[function(t,e){"use strict";var i;cc._RF.push(e,"dcc52aVEdtB4oZS4Os6sDwU","vivoNativeBanner");var o=(i=t("ymsdkConfig"))&&i.__esModule?i:{default:i},n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=o?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(t("ymsdk"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}cc.Class({extends:cc.Component,onLoad:function(){this.nativeAd=null,this.adInfo=null,this.adContent=this.node.getChildByName("adContent"),this.hideAllUi(),this.refreshNativeInsertContent(),this.node.zIndex+=10,console.log("vivo \u539f\u751f banner")},start:function(){},refreshNativeInsertContent:function(){var t=this,e=o.default[n.channelType.vivo_mini].nativeBanner[0].id;console.log("id: ",e),this.nativeAd=qg.createNativeAd({adUnitId:e}),this.nativeAd.onLoad(function(e){t.adInfo=e.adList[0],t.nativeAd.reportAdShow({adId:t.adInfo.adId.toString()});var i=t.adInfo.imgUrlList[0].toString();cc.loader.load({url:i,type:"png"},function(e,i){e&&(console.log("\u539f\u751f\u5e7f\u544a\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff1a",e),t.errorCall()),t.adContent.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),t.showAllUi()}),t.nativeAd.onError(function(e){console.log("\u539f\u751f\u5e7f\u544a\u52a0\u8f7d\u5f02\u5e38",e),t.errorCall()})}),this.nativeAd.load().catch(function(e){console.log("\u539f\u751f\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t.errorCall()})},errorCall:function(){this.node.destroy(),n.default.showBannerAd("default")},hideAllUi:function(){this.node.children.forEach(function(t){return t.active=!1})},showAllUi:function(){this.node.children.forEach(function(t){return t.active=!0})},handleSeeAd:function(){this.nativeAd.reportAdClick({adId:this.adInfo.adId.toString()}),this.node.destroy()},handleClose:function(){this.node.destroy()}}),cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],vivoNativeInsert:[function(t,e){"use strict";var i;cc._RF.push(e,"fb9f9IFSaJFL7k1pk51Bkdh","vivoNativeInsert");var o=(i=t("ymsdkConfig"))&&i.__esModule?i:{default:i},n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=o?Object.getOwnPropertyDescriptor(t,n):null;r&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(t("ymsdk"));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}cc.Class({extends:cc.Component,onLoad:function(){this.nativeAd=null,this.adInfo=null,this.adContent=this.node.getChildByName("adContent"),this.hideAllUi(),this.refreshNativeInsertContent(),this.node.zIndex+=10,console.log("vivo \u539f\u751f\u63d2\u5c4f")},start:function(){},addMask:function(){var t=new cc.Node;t.parent=this.node,t.zIndex=-100,t.width=1080,t.height=1920,t.addComponent(cc.BlockInputEvents)},refreshNativeInsertContent:function(){var t=this,e=o.default[n.channelType.vivo_mini].nativeInsert[0].id;this.nativeAd=qg.createNativeAd({adUnitId:e}),this.nativeAd.onLoad(function(e){t.adInfo=e.adList[0],t.nativeAd.reportAdShow({adId:t.adInfo.adId.toString()});var i=t.adInfo.imgUrlList[0].toString();cc.loader.load({url:i,type:"png"},function(e,i){e&&(console.log("\u539f\u751f\u5e7f\u544a\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff1a",e),t.errorCall()),t.adContent.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(i),t.showAllUi()})}),this.nativeAd.load().catch(function(e){console.log("\u539f\u751f\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t.errorCall()})},adaptImg:function(){var t=this.prop.getComponent(cc.Sprite).spriteFrame.getOriginalSize(),e=t.width/t.height;e>1.5454545454545454?(this.adContent.width=Math.min(850,t.width),this.adContent.height=850/e):(this.adContent.height=Math.min(550,t.height),this.adContent.width=550*e)},errorCall:function(){this.node.destroy(),n.default.showInterstitialAd("default",function(){})},hideAllUi:function(){this.node.children.forEach(function(t){return t.active=!1})},showAllUi:function(){this.node.children.forEach(function(t){return t.active=!0}),this.addMask()},handleSeeAd:function(){this.nativeAd.reportAdClick({adId:this.adInfo.adId.toString()}),this.node.destroy()},handleClose:function(){this.node.destroy()}}),cc._RF.pop()},{ymsdk:"ymsdk",ymsdkConfig:"ymsdkConfig"}],yhxyPolicy:[function(t,e,i){"use strict";cc._RF.push(e,"2c4c89K04xNQope/trXslnu","yhxyPolicy");var o=__extends,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var a=t("policy_qx"),r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Portrait_yszc_item=null,e.YF=null,e.ZJ=null,e.CQ=null,e.YZY=null,e.YM=null,e.MY=null,e}var i;return o(e,t),i=e,e.prototype.start=function(){var t=null;switch(console.log(i.GAME_CP),i.GAME_CP){case a.YmCp.YF:t=this.YF;break;case a.YmCp.ZJ:t=this.ZJ;break;case a.YmCp.CQ:t=this.CQ;break;case a.YmCp.YZY:t=this.YZY;break;case a.YmCp.YM:t=this.YM;break;case a.YmCp.MY:t=this.MY}this.Portrait_yszc_item.string=t},e.prototype.close=function(){cc.director.loadScene(i.sceneName),i.sceneName=""},e.GAME_CP=null,e.sceneName="",n([c(cc.Label)],e.prototype,"Portrait_yszc_item",void 0),n([c(cc.TextAsset)],e.prototype,"YF",void 0),n([c(cc.TextAsset)],e.prototype,"ZJ",void 0),n([c(cc.TextAsset)],e.prototype,"CQ",void 0),n([c(cc.TextAsset)],e.prototype,"YZY",void 0),n([c(cc.TextAsset)],e.prototype,"YM",void 0),n([c(cc.TextAsset)],e.prototype,"MY",void 0),i=n([s],e)}(cc.Component);i.default=l,cc._RF.pop()},{policy_qx:"policy_qx"}],ymsdkConfig:[function(t,e,i){"use strict";var o;cc._RF.push(e,"98263HQVmtBXr6oOy2vUQ9o","ymsdkConfig"),Object.defineProperty(i,"__esModule",{value:!0});var n=t("ymsdk");(o={channel:n.channelType.wx,isShowAd:!0,isCheckDepend:!1,isYmsdkMode:!1,wxShareInfo:{title:"\u6b22\u8fce\u6765\u5230\u795e\u517d\u4e16\u754c",imageUrl:"https://scdn.game-meng.com/xiaoyouxi/tfcgmnq/share/share.jpg"},qqShareInfo:{title:"\u6b22\u8fce\u6765\u5230\u7ea2\u84dd\u706b\u67f4\u4eba\u4e16\u754c",imageUrl:"https://scdn.game-meng.com/xiaoyouxi/tfcgmnq/share/share.jpg"},baiduShareInfo:{title:"\u6b22\u8fce\u6765\u5230\u795e\u517d\u4e16\u754c",imageUrl:"https://scdn.game-meng.com/xiaoyouxi/tfcgmnq/share/share.jpg"},byteShareInfo:{title:"\u6b22\u8fce\u6765\u5230\u7ea2\u84dd\u706b\u67f4\u4eba",desc:"\u7ea2\u84dd\u706b\u67f4\u4eba",topics:["\u706b\u67f4\u4eba","\u95ef\u5173"]},huaweiAppId:"104473667",baiduAppId:"d53a7087",jkwId:"640644294",jkwOrientation:0,byteRecordId:"7b4mil271dm7ftqq6n"})[n.channelType.android]={video:[{name:"default",id:"1",type:""}],insert:[{name:"default",id:"1",type:""}],banner:[{name:"default",id:"1",type:"BOTTOM"}]},o[n.channelType.ios]={video:[{name:"default",id:"1",type:""}],insert:[{name:"default",id:"1",type:""}],banner:[{name:"default",id:"1",type:"BOTTOM"}]},o[n.channelType.qq_mini]={video:[{name:"default",id:"f073b71c0eabda5302fac97e5c9c2003",type:""}],insert:[{name:"default",id:"300a0e011fe5b0137b7fe8359f40516c",type:""}],banner:[{name:"default",id:"e22443b7b98cb1d86cccf60111da166a",type:""}],box:[{name:"default",id:"2be2bace556254d70445869e5edfcbf2",type:""}],block:[{name:"default",id:"e34791064d6002e71d610e7f02e6b4b0",type:""}]},o[n.channelType.wx]={video:[{name:"default",id:"adunit-44f4c886b518aa1b",type:""}],insertVideo:[],insert:[{name:"default",id:"adunit-83e714dcf1d9a4ec",type:""}],banner:[{name:"default",id:"adunit-8cd7a14d71179bcc",type:""}],box:[],block:[],grid:[{name:"default",id:"adunit-556d7a631cfed24a",type:""}]},o[n.channelType.oppo_mini]={video:[{name:"default",id:"354981",type:""}],grid:[{name:"default",id:"354970",type:""}],banner:[{name:"default",id:"354989",type:""}],box:[{name:"default",id:"354980",type:""}],nativeBanner:[{name:"default",id:"354983",type:""}],nativeIcon:[{name:"default",id:"354984",type:""}],nativeInsert:[{name:"default",id:"354979",type:""}]},o[n.channelType.vivo_mini]={video:[{name:"default",id:"b3301e41f2444b2aa733ca282be823d6",type:""}],insert:[{name:"default",id:"b3418a403fb5436f8f29e7d65baddefc",type:""}],banner:[{name:"default",id:"1b5aa438371746fb82ea6092b5d3fc17",type:""}],nativeBanner:[{name:"default",id:"f95b68e3880345fab37164b54efa62ea",type:""}],nativeInsert:[{name:"default",id:"15c55ff2e05243cfa673f77b04e23815",type:""}]},o[n.channelType.byte]={video:[{name:"default",id:"31c546hg23022tkpxm",type:""}],insert:[{name:"default",id:"23bj13odg4dftuoc90",type:""}],banner:[{name:"default",id:"bai06jtsa6g2e319ki",type:""}],box:[{name:"default",id:["ttce76b8cb515cec23","tt7c150aa8e33f3c41","ttd734a189481ed927","ttb76cc1d12846779c","ttd775a1c8484fd077","tt8e63f8de1149ac3a"],type:""}]},o[n.channelType.baidu]={video:[{name:"default",id:"7678508",type:""}],banner:[{name:"default",id:"7678507",type:""}]},o[n.channelType.jkw]={video:[{name:"default",id:"249716350",type:2}],insert:[{name:"default",id:"718924306",type:2}]},o[n.channelType.meizu]={video:[{name:"default",id:"GWJ6xVbh",type:2}],insert:[{name:"default",id:"VxsCNQej",type:2}],banner:[{name:"default",id:"x36VxDFW",type:2}],nativeBanner:[{name:"default",id:"r2qKmEQu",type:""}]},o[n.channelType.develop]={video:[{name:"default",id:"cvHFBViN",type:2}],insert:[{name:"default",id:"13gvPqcf",type:2}],banner:[{name:"default",id:"9H1ls3uo",type:2}]},o[n.channelType.huawei]={video:[{name:"default",id:"k8k96gsdj1",type:""}],banner:[],nativeInsert:[{name:"default",id:"g4l00y1ir6",type:""}]},o[n.channelType.lianshang]={video:[{name:"default",id:"",type:"landscape"}],banner:[{name:"top",id:"",type:"top"}]};var a=o;i.default=a,cc._RF.pop()},{ymsdk:"ymsdk"}],ymsdk:[function(t,e,i){"use strict";function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}cc._RF.push(e,"21ec263pcVOZo9L7Q/VGZzP","ymsdk"),function(t,o){if("object"==typeof i&&"object"==typeof e)e.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{var n=o();for(var a in n)("object"==typeof i?i:t)[a]=n[a]}}(window,function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){var n,a,r,s,c,l,d,h,u,p;i.r(e),i.d(e,"ymsdk",function(){return F}),i.d(e,"channelType",function(){return y}),i.d(e,"channelDepend",function(){return g});var f={channel:"",adConfig:null,baiduAppId:"",byteRecordId:"",isShowAd:!0,isInit:!1,bannerMap:{},videoMap:{},insertMap:{},insertVideoMap:{},gridMap:{},boxMap:{},blockMap:{},recordController:null,gameClubButton:null,shareInfo:{title:"",imageUrlId:"",imageUrl:"",desc:"",topics:[],shareTemplateId:"",shareTemplateData:{}},navigateInfo:{icon:[{id:"",icon:"ymAd/img/icon/hddwy",target:"wx51cb103315aa1e65",name:"\u6d77\u5e95\u52a8\u7269\u56ed"},{icon:"ymAd/img/icon/msdzz",target:"wx345c3dd46dfe3c05",name:"\u75af\u72c2\u5403\u9e212"}],drawer:[{icon:"ymAd/img/icon/hcrzz",target:"wxc34167f5459389a2",name:"\u706b\u67f4\u4eba\u4e16\u754c\u6218\u4e89"},{icon:"ymAd/img/icon/fkxst",target:"wxe1be0f907944770d",name:"\u75af\u72c2\u5c0f\u77f3\u5934"},{icon:"ymAd/img/icon/hddwy",target:"wx51cb103315aa1e65",name:"\u6d77\u5e95\u52a8\u7269\u56ed"},{icon:"ymAd/img/icon/msdzz",target:"wx345c3dd46dfe3c05",name:"\u75af\u72c2\u5403\u9e212"},{icon:"ymAd/img/icon/scjzmn",target:"wx1214c086806af472",name:"\u751f\u5b58\u5efa\u9020\u6a21\u62df"},{icon:"ymAd/img/icon/ttxsg",target:"wxafbd081176c141a7",name:"\u5929\u5929\u6d88\u6c34\u679c"}],sudoku:[{icon:"ymAd/img/icon/hcrzz",target:"wxc34167f5459389a2",name:"\u706b\u67f4\u4eba\u4e16\u754c\u6218\u4e89"},{icon:"ymAd/img/icon/fkxst",target:"wxe1be0f907944770d",name:"\u75af\u72c2\u5c0f\u77f3\u5934"},{icon:"ymAd/img/icon/hddwy",target:"wx51cb103315aa1e65",name:"\u6d77\u5e95\u52a8\u7269\u56ed"},{icon:"ymAd/img/icon/msdzz",target:"wx345c3dd46dfe3c05",name:"\u75af\u72c2\u5403\u9e212"},{icon:"ymAd/img/icon/scjzmn",target:"wx1214c086806af472",name:"\u751f\u5b58\u5efa\u9020\u6a21\u62df"},{icon:"ymAd/img/icon/ttxsg",target:"wxafbd081176c141a7",name:"\u5929\u5929\u6d88\u6c34\u679c"},{icon:"ymAd/img/icon/hcrzz",target:"wxc34167f5459389a2",name:"\u706b\u67f4\u4eba\u4e16\u754c\u6218\u4e89"},{icon:"ymAd/img/icon/scjzmn",target:"wx1214c086806af472",name:"\u751f\u5b58\u5efa\u9020\u6a21\u62df"},{icon:"ymAd/img/icon/hddwy",target:"wx51cb103315aa1e65",name:"\u6d77\u5e95\u52a8\u7269\u56ed"}]},musicPauseCall:null,musicResumeCall:null},y={android:"develop",ios:"develop",native:"develop",oppo_mini:"develop",vivo_mini:"develop",qq_mini:"develop",wx:"develop",ssjj:"develop",baidu:"develop",byte:"develop",qtt:"develop",jkw:"develop",meizu:"develop",huawei:"develop",lianshang:"develop",xiaomi:"develop",lianxin:"develop",develop:"develop"};(n={})[y.android]="cc",n[y.ios]="cc",n[y.native]="cc",n[y.oppo_mini]="cc",n[y.vivo_mini]="cc",n[y.qq_mini]="cc",n[y.wx]="cc",n[y.ssjj]="cc",n[y.baidu]="cc",n[y.byte]="cc",n[y.qtt]="cc",n[y.jkw]="cc",n[y.meizu]="cc",n[y.huawei]="cc",n[y.lianshang]="cc",n[y.xiaomi]="cc",n[y.lianxin]="cc",n[y.develop]="cc";var g=n,v=function(){function t(t,e,i){this.name=t,this.id=e,this.type=i,this.banner=null}var e=t.prototype;return e.create=function(){},e.show=function(){},e.hide=function(){},t}(),_=function(){function t(t,e,i){this.name=t,this.id=e,this.type=i,this.video=null}var e=t.prototype;return e.create=function(){},e.play=function(){},t}(),m=function(){function t(t,e,i){this.name=t,this.id=e,this.type=i,this.insert=null}var e=t.prototype;return e.create=function(){},e.show=function(){},t}(),C=function(){function t(t,e,i){this.name=t,this.id=e,this.type=i,this.box=null}var e=t.prototype;return e.create=function(){},e.show=function(){},e.hide=function(){},t}(),w=function(){function t(t,e,i){this.name=t,this.id=e,this.type=i,this.block=null}var e=t.prototype;return e.create=function(){},e.show=function(){},e.hide=function(){},t}(),b=function(){function t(t,e,i){this.name=t,this.id=e,this.type=i,this.grid=null}var e=t.prototype;return e.create=function(){},e.show=function(){},e.hide=function(){},t}(),P=function(){function t(){var t=this;this.id=f.byteRecordId,this.timer=null,this.counDownTime=0,this.videoPath=null,this.isRecording=!1,this.recorderManager=window.tt.getGameRecorderManager(),this.recorderManager.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb\u4e86\u8036  o(=\u2022\u30a7\u2022=)m "),t.isRecording=!0}),this.recorderManager.onStop(function(e){console.log("\u5f55\u5c4f\u505c\u6b62\uff0c\u89c6\u9891\u8def\u5f84\uff1a ",e.videoPath),t.videoPath=e.videoPath,t.isRecording=!1})}var e=t.prototype;return e.startRecord=function(){this.recorderManager.start({duration:300}),this.counDownTime=290,this.recordCountDown()},e.stopRecord=function(){this.recorderManager.stop(),this.stopCountDown()},e.stopCountDown=function(){clearInterval(this.timer)},e.recordCountDown=function(){var t=this;this.timer=setInterval(function(){t.counDownTime>0?t.counDownTime--:(t.stopCountDown(),t.stopRecord())},1e3)},e.share=function(t){this.videoPath?window.tt.shareAppMessage({channel:"video",title:f.shareInfo.title,desc:f.shareInfo.desc,templateId:this.id,extra:{videoPath:this.videoPath,videoTopics:f.shareInfo.topics,hashtag_list:f.shareInfo.topics,video_title:f.shareInfo.desc},success:function(){t&&t(!0),console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f")},fail:function(e){t&&t(!1),console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25",e)}}):window.tt.showToast({title:"\u5f55\u5c4f\u65f6\u95f4\u8fc7\u77ed\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",duration:2e3})},t}();(a={})[y.android]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).type||(n.type="BOTTOM"),n}o(e,t);var i=e.prototype;return i.show=function(t){console.log("\u5b89\u5353 banner"),window.ymsdk.onBannerFailed=function(){t&&t()},window.ymsdk.onBannerShow=function(){}},i.hide=function(){},e}(v),a[y.ios]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).type||(n.type="BOTTOM"),n}o(e,t);var i=e.prototype;return i.show=function(t){console.log("ios banner"),window.ymsdk.onBannerFailed=function(){t&&t()},window.ymsdk.onBannerShow=function(){}},i.hide=function(){},e}(v),a[y.qq_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).errCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this,e=window.qq.getSystemInfoSync(),i=e.windowHeight,o=(e.windowWidth-300)/2,n={width:300,top:"top"===this.type?0:i-73,left:o};this.banner=window.qq.createBannerAd({adUnitId:this.id,style:n}),this.banner.onError(function(e){console.log("qq banner \u9519\u8bef",e),t.errCall&&t.errCall()})},i.show=function(t){var e=this;this.errCall=t;try{this.banner.hide(),this.banner.destroy(),this.banner=null}catch(t){}this.create(),this.banner.onLoad(function(){e.banner.show()})},i.hide=function(){try{this.banner.hide()}catch(t){console.log("banner \u5df2\u9690\u85cf\u6216\u65e0 banner")}},e}(v),a[y.wx]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).errCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this,e=window.wx.getSystemInfoSync(),i=e.windowHeight,o={left:(e.windowWidth-300)/2,top:i-72,width:300};return this.banner=window.wx.createBannerAd({adUnitId:this.id,adIntervals:30,style:o}),this.banner.onResize(function(e){t.banner.style.top=i-e.height}),this.banner.onError(function(e){console.log("banner \u9519\u8bef\uff1a",e),t.errCall&&t.errCall()}),new Promise(function(e){t.banner.onLoad(e)})},i.show=function(t){var e=this;this.errCall=t,this.banner?this.banner.show():this.create().then(function(){e.banner.show()})},i.hide=function(){this.banner&&this.banner.hide()},e}(v),a[y.oppo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).errCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.banner=qg.createBannerAd({adUnitId:this.id}),this.banner.onError(function(e){console.log("banner \u9519\u8bef\uff1a",e),1001!=e.errCode&&t.errCall&&t.errCall()})},i.show=function(t){var e=this;if(this.errCall=t,this.banner)try{this.banner.show().catch(function(t){return console.log("banner \u9519\u8bef ",t)})}catch(t){console.log("banner \u5f02\u5e38",t),this.clearOldBanner()}else this.create(),this.banner.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f");try{e.banner.show().catch(function(t){return console.log("banner \u9519\u8bef ",t)})}catch(t){console.log("banner \u5f02\u5e38",t),e.clearOldBanner()}})},i.hide=function(){try{this.banner.hide()}catch(t){console.log("banner \u5df2\u9690\u85cf\u6216\u65e0 banner")}},i.clearOldBanner=function(){var t=this.banner;t&&(t.destroy(),this.banner=null)},e}(v),a[y.vivo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.errorCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){this.banner=window.qg.createBannerAd({posId:this.id})},i.show=function(t){var e=this;this.clearOldBanner(),this.loadCall=function(){console.log("vivo banner \u52a0\u8f7d\u6210\u529f"),e.banner.show()},this.errorCall=function(e){console.log("vivo banner \u9519\u8bef: ",e),t&&t()},this.create(),this.banner.onLoad(this.loadCall),this.banner.onError(this.errorCall)},i.hide=function(){this.banner&&this.banner.hide()},i.clearOldBanner=function(){var t=this.banner;t&&(this.banner.offLoad(this.loadCall),this.banner.offError(this.errorCall),t.destroy(),this.banner=null)},e}(v),a[y.byte]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).resizeCall=null,n.errorCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=window.tt.getSystemInfoSync();t.windowWidth;var e=t.windowHeight;this.banner=window.tt.createBannerAd({adUnitId:this.id,style:{width:100,top:e-56.25}})},i.show=function(t){var e=this,i=window.tt.getSystemInfoSync(),o=i.windowWidth,n=i.windowHeight;this.errCallBack=t,this.clearOldBanner(),this.resizeCall=function(t){e.banner.style.top=n-t.height,e.banner.style.left=(o-t.width)/2},this.errorCall=function(e){console.log("\u5b57\u8282 banner \u9519\u8bef: ",e),t&&t()},this.create(),this.banner.onLoad(function(){console.log("banner \u52a0\u8f7d\u5b8c\u6210"),e.banner.show().catch(function(t){return console.log("banner \u5c55\u793a\u9519\u8bef",t)})}),this.banner.onError(this.errorCall),this.banner.onResize(this.resizeCall)},i.hide=function(){this.banner&&this.banner.hide()},i.clearOldBanner=function(){var t=this.banner;t&&(this.banner.offResize(this.resizeCall),this.banner.offError(this.errorCall),t.destroy(),this.banner=null)},e}(v),a[y.baidu]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).errCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this,e=window.swan.getSystemInfoSync(),i=e.windowHeight,o=e.windowWidth,n=i-76,a=(o-300)/2;this.banner=window.swan.createBannerAd({adUnitId:this.id,appSid:f.baiduAppId,style:{top:n,left:a,width:300}}),this.banner.onResize(function(e){t.banner.style.top=i-e.height,t.banner.style.left=(o-e.width)/2}),this.banner.onError(function(e){console.log("banner \u9519\u8bef\uff1a",e),t.errCall&&t.errCall()})},i.show=function(t){var e=this;this.errCall=t,this.create(),this.banner.onLoad(function(){e.banner.show().then().catch(function(t){return console.log("banner \u5c55\u793a\u9519\u8bef\uff1a ",t)})})},i.hide=function(){this.banner&&(this.banner.hide(),this.clearOldBanner())},i.clearOldBanner=function(){this.banner&&(this.banner.destroy(),this.banner=null)},e}(v),a[y.jkw]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).create(),n.errCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;return this.banner=window.AdSDK.createBannerAd(this.name,this.id,this.type),this.banner.onError(function(e){console.log("banner \u9519\u8bef\uff1a",JSON.stringify(e)),t.banner=null,t.errCall&&t.errCall()}),new Promise(function(e){t.banner.onLoad(function(){console.log("Banner\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e()})})},i.show=function(t){var e=this;this.errCall=t,this.banner?this.banner.show():this.create().then(function(){e.banner.show()})},i.hide=function(){this.banner&&this.banner.hide()},e}(v),a[y.meizu]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).errCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this,e=window.qg.getSystemInfoSync(),i=e.screenHeight,o=e.screenWidth,n=e.pixelRatio,a=this.getBannerStyle();this.banner=window.qg.createBannerAd({adUnitId:this.id,style:a}),this.banner.onResize(function(e){console.log("Banner \u5c3a\u5bf8\u6539\u53d8 -",JSON.stringify(e)),t.banner.style.top=(i-e.height)*n,t.banner.style.left=(o-e.width)/2,t.banner.style.width=e.width,t.banner.style.height=e.height,console.log(t.banner.style)}),this.banner.onError(function(e){console.log("banner \u9519\u8bef",e),t.errCall&&t.errCall()})},i.getBannerStyle=function(){var t=window.qg.getSystemInfoSync(),e=t.screenHeight,i=t.screenWidth;return t.pixelRatio,"portrait"==this.type?{left:0,top:e-200,width:800,height:200}:"landscape"==this.type?{left:(i-800)/2,top:e,width:800,height:200}:{left:0,top:e-i,width:800,height:200}},i.show=function(t){var e=this;this.errCall=t,this.clearOldBanner(),this.create(),this.banner.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.banner.show()})},i.hide=function(){try{this.banner.hide()}catch(t){console.log("banner \u5df2\u9690\u85cf\u6216\u65e0 banner")}},i.clearOldBanner=function(){var t=this.banner;t&&(t.destroy(),this.banner=null)},e}(v),a[y.lianshang]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).errCall=null,n.isCooldown=!1,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this,e=this.getBannerStyle();this.banner=window.wuji.createBannerAd({adUnitId:this.id,adIntervals:30,style:e}),this.banner.onError(function(e){console.log("banner \u9519\u8bef\uff1a",e),t.errCall&&t.errCall()})},i.getBannerWidth=function(){var t=wuji.getSystemInfoSync().windowWidth;return"portrait"==this.type?t-20:"landscape"==this.type||"top"==this.type?t/2.2:360},i.getBannerStyle=function(){var t=wuji.getSystemInfoSync(),e=t.windowWidth,i=t.windowHeight,o=this.getBannerWidth(),n={top:i,left:(e-o)/2,width:o};return"top"==this.type&&(n.top=0),n},i.show=function(t){var e=this;this.isCooldown||(this.isCooldown=!0,setTimeout(function(){e.isCooldown=!1},5e3),this.errCall=t,this.hide(),this.create(),this.banner.onLoad(function(){e.banner.show().then(function(){return console.log("banner ad \u5c55\u793a\u6210\u529f")}).catch(function(t){e.errCall&&e.errCall(),console.log("banner \u9519\u8bef\uff1a",t)})}))},i.hide=function(){this.banner&&(this.banner.hide(),this.banner.destroy(),this.banner=null)},e}(v),a[y.xiaomi]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){var t=window.qg.getSystemInfoSync();t.screenHeight,t.screenWidth,t.pixelRatio,this.banner=window.qg.createBannerAd({adUnitId:this.id})},i.show=function(t){var e=this;this.create(),this.banner.onLoad(function t(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),setTimeout(function(){try{e.banner.show()}catch(t){}}),setTimeout(function(){try{e.banner.offLoad(t)}catch(t){}},1)}),this.banner.onError(function(e){console.log("banner \u9519\u8bef",e),t&&t()})},i.hide=function(){var t=this;try{this.banner.hide(),setTimeout(function(){try{t.banner.destroy()}catch(t){}})}catch(t){console.log("banner \u5df2\u9690\u85cf\u6216\u65e0 banner")}},i.clearOldBanner=function(){var t=this.banner;t&&(t.destroy(),this.banner=null)},e}(v),a[y.huawei]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=qg.getSystemInfoSync();t.screenHeight,t.screenWidth,t.pixelRatio;var e=t.safeArea,i="top"===this.type?e.top+57-5:e.height;e.width,this.banner=window.qg.createBannerAd({adUnitId:this.id,style:{left:20,top:i-57,width:360,height:57}})},i.show=function(t){this.clearOldBanner(),this.errorCall=function(e){console.log("huawei banner \u9519\u8bef: ",JSON.stringify(e)),t&&t()},this.create(),this.banner.onError(this.errorCall),this.banner.show()},i.hide=function(){this.banner&&this.banner.hide()},i.clearOldBanner=function(){var t=this.banner;t&&(this.banner.offLoad(this.loadCall),this.banner.offError(this.errorCall),t.destroy(),this.banner=null)},e}(v),a[y.lianxin]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){this.banner=window.LxAdView.createFootBannerAd({adUnitId:this.id})},i.show=function(t){var e=this;this.create(),this.banner.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.banner.show()}),this.banner.onError=function(e){console.log(e),t&&t()}},i.hide=function(){try{this.banner.hide()}catch(t){console.log("banner \u5df2\u9690\u85cf\u6216\u65e0 banner")}},e}(v),a[y.develop]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){},i.show=function(t){console.log("\u5f00\u53d1\u6d4b\u8bd5\uff1a banner \u5c55\u793a"),Math.random()>.98&&(console.log("\u5f00\u53d1\u6d4b\u8bd5\uff1a\u968f\u673a\u89e6\u53d1\u4e86 banner \u5c55\u793a\u5931\u8d25\u7684\u56de\u8c03"),t&&t())},i.hide=function(){console.log("\u5f00\u53d1\u6d4b\u8bd5\uff1a banner \u9690\u85cf")},e}(v);var S=a;(r={})[y.android]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}return o(e,t),e.prototype.play=function(t,e){this.id,console.log("\u5b89\u5353 video"),window.ymsdk.onVideoComplete=function(t){e(t)},window.ymsdk.onVideoFailed=function(){t(!1)},setTimeout(function(){t(!0)},500)},e}(_),r[y.ios]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}return o(e,t),e.prototype.play=function(t,e){this.id,console.log("ios video"),window.ymsdk.onVideoComplete=function(t){e(t)},window.ymsdk.onVideoFailed=function(){t(!1)},setTimeout(function(){t(!0)},500)},e}(_),r[y.qq_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.qq.createRewardedVideoAd({adUnitId:this.id})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall),this.loadCall=null,this.closeCall=null,this.errorCall=null},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(t){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",t)},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i)},this.onCallListen(),this.video.load().then(function(){i.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t(!1,e)})}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e),t(!1,e)})},e}(_),r[y.wx]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.wx.createRewardedVideoAd({adUnitId:this.id}),this.video.onError(function(){console.log("\u5fae\u4fe1 video \u9519\u8bef")})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall),this.loadCall=null,this.closeCall=null,this.errorCall=null},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(){console.log("\u62c9\u53d6\u65b0\u7684\u89c6\u9891")},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i)},this.onCallListen(),this.video.load().then(function(){i.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t(!1,e)})}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e),t(!1,e)})},e}(_),r[y.oppo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.qg.createRewardedVideoAd({adUnitId:this.id})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall),this.loadCall=null,this.closeCall=null,this.errorCall=null},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.offCallListen(),this.errorCall=function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e),window.qg.showToast({title:"\u6682\u65e0\u5e7f\u544a\u53ef\u770b"}),t(!1,e),f.musicResumeCall&&f.musicResumeCall()},this.loadCall=function(e){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",e),t(!0),i.video.show(),f.musicPauseCall&&f.musicPauseCall()},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i),f.musicResumeCall&&f.musicResumeCall()},this.onCallListen(),this.video.load()},e}(_),r[y.vivo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.qg.createRewardedVideoAd({posId:this.id})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall),this.loadCall=null,this.closeCall=null,this.errorCall=null},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),2e4!=t.code&&(i.showErrorToast(t.errCode),e(!1),f.musicResumeCall&&f.musicResumeCall())},this.loadCall=function(t){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",t)},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i),f.musicResumeCall&&f.musicResumeCall()},this.onCallListen(),this.video.load().then(function(){i.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0),f.musicPauseCall&&f.musicPauseCall()}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t(!1,e),f.musicResumeCall&&f.musicResumeCall()})}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e),t(!1,e),f.musicResumeCall&&f.musicResumeCall()})},i.showCloseToast=function(t){var e=t?"\u611f\u8c22\u6536\u770b\u5b8c\u89c6\u9891\uff0c\u5956\u52b1\u5df2\u53d1\u653e":"\u89c6\u9891\u6ca1\u770b\u5b8c\u8036";window.qg.showToast({message:e})},i.showErrorToast=function(t){var e={"-3":"\u89c6\u9891\u89c2\u770b\u592a\u9891\u7e41\u4e86\u8bf6~~ \u7b49\u4f1a\u518d\u770b\u5427","-4":"\u4e00\u5206\u949f\u5185\u4e0d\u80fd\u91cd\u590d\u770b\u89c6\u9891\u5662",30008:"\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898",30004:"\u7b49\u4f1a\u518d\u8bd5\u8bd5\u5427"}[t]||"\u51fa\u4e86\u4e00\u70b9\u5c0f\u95ee\u9898\u54e6\uff0c\u7b49\u4f1a\u518d\u8bd5\u8bd5";window.qg.showToast({message:e})},e}(_),r[y.byte]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){window.tt.createRewardedVideoAd?this.video=window.tt.createRewardedVideoAd({adUnitId:this.id}):console.warn("\u4e0d\u5b58\u5728 createRewardedVideoAd")},i.offCallListen=function(){this.loadCall&&this.video.offLoad(this.loadCall),this.closeCall&&this.video.offClose(this.closeCall),this.errorCall&&this.video.offError(this.errorCall)},i.onCallListen=function(){this.loadCall&&this.video.onLoad(this.loadCall),this.closeCall&&this.video.onClose(this.closeCall),this.errorCall&&this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;window.tt.createRewardedVideoAd&&(this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(t){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",t)},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i)},this.onCallListen(),this.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(o){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),i.video.load().then(function(){return console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),videoAd.show()}).then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(){t(!1,o),e(!1)})}))},e}(_),r[y.baidu]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.swan.createRewardedVideoAd({adUnitId:this.id,appSid:f.baiduAppId})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall)},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(t){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",t)},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i)},this.onCallListen(),this.video.load().then(function(){i.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t(!1,e)})}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e),t(!1,e)})},e}(_),r[y.jkw]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.isLoaded=!1,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.video=window.AdSDK.createRewardedVideoAd(this.name,this.id,this.type),this.video.onLoad(function(){console.log("rewardedvideoAd \u521b\u5efa\u89c6\u9891\u5e7f\u544a\u6210\u529f\uff0c\u53ef\u4ee5\u8c03\u7528\u5c55\u793a"),t.isLoaded=!0}),this.video.onError(function(e){console.log("rewardedvideoAd \u521b\u5efa\u89c6\u9891\u5e7f\u544a\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ",e.errorCode),t.video.destroy(),t.video=null,window.onYmJkwVideoLoadFail&&window.onYmJkwVideoLoadFail(e)})},i.play=function(t,e){var i=this,o=!1;this.video&&this.isLoaded?(t(!0),this.video.show().then(function(){console.log("rewardedvideoAd \u5e7f\u544a\u663e\u793a\u6210\u529f\uff0c\u53ef\u4ee5\u7ed9\u4e0e\u5956\u52b1"),o=!0,e(!0),i.create(),i.isLoaded=!1},function(t){console.log("rewardedvideoAd \u5e7f\u544a\u663e\u793a\u5931\u8d25",t),e(!1,t),i.video=null,i.create(),i.isLoaded=!1}),this.video.onClose(function(){setTimeout(function(){0==o&&e(!1),i.video.destroy(),i.video=null,i.create(),i.isLoaded=!1},100)})):(t(!1),this.isLoaded=!1,this.create())},e}(_),r[y.meizu]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.rewardedCall=null,n.CLICK_INTERVAL=2e3,n.lastClcikTime=0,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.qg.createRewardedVideoAd({adUnitId:this.id})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall),this.video.offRewarded(this.rewardedCall)},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall),this.video.onRewarded(this.rewardedCall)},i.play=function(t,e){var i=this,o=this.isFastClick();if(console.log("fastClcik",o),!o){var n=!1;this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(e){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",e),i.video.show(),t(!0)},this.closeCall=function(){if(!n){var t=res.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",res),e(t),n=!0}},this.rewardedCall=function(){n||(console.log("\u6fc0\u52b1\u89c6\u9891\u5e7f\u544a\u5b8c\u6210\uff0c\u53d1\u653e\u5956\u52b1"),e(!0),n=!0)},this.onCallListen(),this.video.load()}},i.isFastClick=function(){return 0!==this.lastClcikTime&&(new Date).getTime()-this.lastClcikTime<this.CLICK_INTERVAL||(this.lastClcikTime=(new Date).getTime(),!1)},e}(_),r[y.huawei]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.isOpen=!0,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.video=qg.createRewardedVideoAd({adUnitId:this.id,success:function(t){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd: success",t)},fail:function(e,i){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd fail: "+e+","+i),t.video=null,window.onYmHuaweiVideoLoadFail&&window.onYmHuaweiVideoLoadFail()},complete:function(){console.log("ad demo : loadAndShowVideoAd createRewardedVideoAd complete")}}),this.video.onError(function(e){console.log("\u89c6\u9891\u9519\u8bef",e),t.video=null}),this.video.load()},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall)},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;if(!this.video)return qg.showToast({message:"\u6682\u65e0\u5e7f\u544a"}),this.create(),void e(!1);this.offCallListen(),this.errorCall=function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e,JSON.stringify(e)),i.video=null,t(!1,e)},this.loadCall=function(e){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",e),t(!0)},this.closeCall=function(t){var o=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),setTimeout(function(){e(o),i.video.load()},100)},this.onCallListen();try{this.video.show()}catch(t){this.video=null,qg.showToast({message:"\u6682\u65e0\u5e7f\u544a"}),e(!1)}console.log("show video")},e}(_),r[y.lianshang]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.wuji.createRewardedVideoAd({adUnitId:this.id})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall)},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(){console.log("\u62c9\u53d6\u65b0\u7684\u89c6\u9891")},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i)},this.onCallListen(),this.video.load().then(function(){i.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t(!1,e)})}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e),t(!1,e)})},e}(_),r[y.xiaomi]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.qg.createRewardedVideoAd({adUnitId:this.id})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall),this.loadCall=null,this.closeCall=null,this.errorCall=null},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.offCallListen(),this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(t){console.log("\u89c6\u9891\u52a0\u8f7d\uff1a",t)},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i)},this.onCallListen(),this.video.load().then(function(){i.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t(!1,e)})}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u6570\u636e\u52a0\u8f7d\u5931\u8d25",e),t(!1,e)})},e}(_),r[y.lianxin]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.closeCall=null,n.errorCall=null,n}o(e,t);var i=e.prototype;return i.create=function(){this.video=window.LxAdView.createRewardedVideoAd({adUnitId:this.id})},i.offCallListen=function(){this.video.offLoad(this.loadCall),this.video.offClose(this.closeCall),this.video.offError(this.errorCall)},i.onCallListen=function(){this.video.onLoad(this.loadCall),this.video.onClose(this.closeCall),this.video.onError(this.errorCall)},i.play=function(t,e){var i=this;this.errorCall=function(t){console.log("\u89c6\u9891\u51fa\u9519: ",t),e(!1)},this.loadCall=function(){console.log("\u62c9\u53d6\u65b0\u7684\u89c6\u9891"),i.video.show().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f"),t(!0)}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),t(!1,e)})},this.closeCall=function(t){var i=t.isEnded;console.log("\u89c6\u9891\u5173\u95ed\uff1a",t),e(i)},this.create(),this.onCallListen()},e}(_),r[y.develop]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){},i.play=function(t,e){t(!0),Math.random()>.95?(console.log("\u5f00\u53d1\u6d4b\u8bd5\uff1a\u968f\u673a\u89e6\u53d1\u4e86 \u89c6\u9891 \u6ca1\u770b\u5b8c"),e(!1)):(console.log("\u5f00\u53d1\u6d4b\u8bd5\uff1a \u89c6\u9891 \u770b\u5b8c"),e(!0))},e}(_);var T=r;(s={})[y.android]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}return o(e,t),e.prototype.show=function(t){this.id,console.log("\u5b89\u5353 \u63d2\u5c4f"),window.ymsdk.onInterstitialFailed=function(){t&&t()},window.ymsdk.onInterstitialShow=function(){}},e}(m),s[y.ios]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}return o(e,t),e.prototype.show=function(t){this.id,console.log("ios \u63d2\u5c4f"),window.ymsdk.onInterstitialFailed=function(){t&&t()},window.ymsdk.onInterstitialShow=function(){}},e}(m),s[y.qq_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).create(),n.errCallBack=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.insert=window.qq.createInterstitialAd({adUnitId:this.id}),this.insert.onLoad(function(){console.log("\u6210\u529f\u62c9\u53d6\u65b0\u7684\u63d2\u5c4f\u5e7f\u544a")}),this.insert.onError(function(e){console.log("qq \u63d2\u5c4f\u9519\u8bef",e),t.errCallBack&&t.errCallBack()})},i.show=function(t){this.errCallBack=t,this.insert.show().catch(function(t){return console.log("\u63d2\u5c4f\u663e\u793a\u9519\u8bef\uff1a",t)})},e}(m),s[y.wx]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.errCallBack=null,n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.insert=window.wx.createInterstitialAd({adUnitId:this.id}),this.loadCall=function(){console.log("\u63d2\u5c4f \u62c9\u53d6\u6210\u529f")},this.insert.onError(function(e){console.log("wx \u63d2\u5c4f\u9519\u8bef",e),t.errCallBack&&t.errCallBack()}),this.insert.onLoad(this.loadCall)},i.show=function(t){if(this.errCallBack=t,this.insert)try{this.insert.offLoad(this.loadCall),this.insert.destroy()}catch(t){console.log("\u63d2\u5c4f destroy err",t)}this.create(),this.insert.show().catch(function(t){console.log("\u63d2\u5c4f\u5c55\u793a\u9519\u8bef",t)})},e}(m),s[y.oppo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.insert=window.qg.createInsertAd({adUnitId:this.id}),this.insert.onLoad(function(){console.log("\u6210\u529f\u62c9\u53d6\u65b0\u7684\u63d2\u5c4f\u5e7f\u544a")}),this.insert.onError(function(t){console.log("oppo \u63d2\u5c4f\u9519\u8bef",t)})},i.show=function(){this.insert.show()},e}(m),s[y.vivo_mini]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){this.insert=null,this.insert=qg.createInterstitialAd({posId:this.id})},i.show=function(t){var e=this;this.create(),this.insert.onError(function(e){console.log("vivo \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t&&t()}),this.insert.onLoad(function(){e.insert.show().catch(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))})})},e}(m),s[y.byte]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){this.insert=window.tt.createInterstitialAd({adUnitId:this.id})},i.show=function(t){var e=this;window.tt.createInterstitialAd&&(this.insert&&(this.insert.destroy(),this.insert=null),this.create(),this.insert.onError(function(e){console.log("\u63d2\u5c4f\u9519\u8bef",e),t&&t()}),this.insert.load().then(function(){e.insert.show().catch(function(t){return console.log("\u63d2\u5c4f show \u9519\u8bef: ",t)})}).catch(function(t){return console.log("\u63d2\u5c4f load \u9519\u8bef",t)}))},e}(m),s[y.jkw]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).isLoaded=!1,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.insert=window.AdSDK.createInterstitialAd(this.name,this.id,this.type),this.insert.onLoad(function(){t.isLoaded=!0,console.log("\u63d2\u5c4f\u52a0\u8f7d")}),this.insert.onError(function(e){console.log("interstitialAd \u521b\u5efa\u63d2\u5c4f\u5931\u8d25\uff0c\u9519\u8bef\u7801 = ",e.errorCode),t.insert.destroy(),t.insert=null})},i.show=function(t){var e=this;this.insert&&this.isLoaded?this.insert.show().then(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u663e\u793a\u6210\u529f"),e.insert.destroy(),e.insert=null,e.isLoaded=!1,e.create()},function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u663e\u793a\u5931\u8d25"),e.insert=null,e.isLoaded=!1,e.create(),t&&t()}):(t&&t(),this.create())},e}(m),s[y.meizu]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).loadCall=null,n.errorCall=null,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){this.insert=window.qg.createInsertAd({adUnitId:this.id})},i.show=function(t){var e=this;this.insert.offLoad(this.loadCall),this.insert.offError(this.errorCall),this.loadCall=function(){e.insert.show()},this.errorCall=function(e){console.log("\u63d2\u5c4f\u9519\u8bef err\uff1a",e),t&&t()},this.insert.onLoad(this.loadCall),this.insert.onError(this.errorCall),this.insert.load()},e}(m),s[y.xiaomi]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){this.insert=null,this.insert=qg.createInterstitialAd({adUnitId:this.id})},i.show=function(t){var e=this;this.create(),this.insert.onError(function(e){console.log("vivo \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t&&t()}),this.insert.onLoad(function t(){e.insert.show(),e.insert.offLoad(t)}),this.insert.load()},e}(m),s[y.huawei]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.insert=qg.createInterstitialAd({adUnitId:this.id}),this.insert.load(),this.insert.onError(function(e){console.log("huawei \u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",JSON.stringify(e)),t.insert=null}),this.insert.onClose(function(){t.insert=null;try{t.create()}catch(e){t.insert=null}})},i.show=function(){null!==this.insert?this.insert.show().catch(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u5931\u8d25",JSON.stringify(t))}):this.create()},e}(m),s[y.lianxin]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){this.insert=window.LxAdView.createInterstitialAd({adUnitId:this.id})},i.show=function(t){var e=this;this.create(),this.insert.onLoad=function(){e.insert.show()},this.insert.onError=function(){console.log("\u63d2\u5c4f\u9519\u8bef err\uff1a",err),t&&t()}},e}(m),s[y.develop]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){},i.show=function(t){console.log("\u5f00\u53d1\u6d4b\u8bd5\uff1a \u63d2\u5c4f \u5c55\u793a"),Math.random()>.98&&(console.log("\u5f00\u53d1\u6d4b\u8bd5\uff1a\u968f\u673a\u89e6\u53d1\u4e86 \u63d2\u5c4f \u5c55\u793a\u5931\u8d25\u7684\u56de\u8c03"),t&&t())},e}(m);var A=s;(c={})[y.wx]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){var t=window.wx.getSystemInfoSync();t.windowHeight;var e=t.windowWidth,i=this.type?1*this.type.split("-")[1]:5,o=this.type&&this.type.split("-")[2]?this.type.split("-")[2]:"white";if(i!=i)throw new Error("\u683c\u5b50\u5e7f\u544a type \u683c\u5f0f\u9519\u8bef");var n={top:0,left:0,width:e,height:80};this.grid=window.wx.createGridAd({adUnitId:this.id,adIntervals:30,adTheme:o,style:n,gridCount:i}),this.grid.onError(function(t){console.log("\u683c\u5b50\u9519\u8bef\uff1a",t)}),this.grid.onResize(this.resizeCall.bind(this))},i.resizeCall=function(t){var e=window.wx.getSystemInfoSync().windowHeight;/bottom/.test(this.type)?this.grid.style.top=e-t.height:/center/.test(this.type)?this.grid.style.top=(e-t.height)/2:/top/.test(this.type)&&(this.grid.style.top=0)},i.show=function(){var t=this;this.grid?this.grid.show().catch(function(t){return console.log("\u683c\u5b50\u9519\u8bef\uff1a",t)}):(this.create(),this.grid.onLoad(function(){t.grid.show().catch(function(t){return console.log("\u683c\u5b50\u9519\u8bef\uff1a",t)})}))},i.hide=function(){this.grid&&this.grid.hide()},e}(b),c[y.oppo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).isLoad=!1,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;qg.getSystemInfoSync().platformVersionCode>=1076?(this.grid=qg.createGameBannerAd({adUnitId:this.id}),this.grid.onLoad(function(){console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.isLoad=!0}),this.grid.onError(function(e){t.isLoad=!1,console.log("\u4e92\u63a8\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e)})):console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API")},i.show=function(){var t=this;this.grid.show().then(function(){console.log("show success")}).catch(function(e){console.log("show fail with:"+e.errCode+","+e.errMsg),t.isLoad=!1})},i.hide=function(){var t=this;try{this.grid.hide().then(function(){console.log("hide success")}).catch(function(e){console.log("hide fail with:"+e.errCode+","+e.errMsg),t.isLoad=!1}),this.grid.destroy().then(function(){console.log("destroy success")}).catch(function(t){console.log("destroy fail with:"+t.errCode+","+t.errMsg)}),this.create()}catch(t){console.log("grid hide error")}},e}(b),c[y.vivo_mini]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){this.grid=qg.createBoxBannerAd({posId:this.id})},i.show=function(t){qg.createBoxBannerAd?(this.create(),this.grid.onError(function(e){console.log("\u76d2\u5b50\u6a2a\u5e45\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t&&t()}),this.grid.show().then(function(){console.log("show success")}).catch(function(){t&&t()})):(console.log("\u6682\u4e0d\u652f\u6301\u683c\u5b50\u4e92\u63a8"),t&&t())},i.hide=function(){try{this.grid.destroy()}catch(t){console.log("grid hide error")}},e}(b);var k=c;(l={})[y.qq_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;this.box=window.qq.createAppBox({adUnitId:this.id}),this.box.load(),this.box.onClose(function(){console.log("\u5173\u95ed\u76d2\u5b50\uff0c\u91cd\u65b0\u62c9\u53d6"),t.box.load()})},i.show=function(){this.box&&this.box.show()},e}(C),l[y.byte]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.getAppOptionsList=function(){for(var t=[],e=0;e<this.id.length;e++){var i={appid:this.id[e]};t.push(i)}return t},i.show=function(){"ios"!==window.tt.getSystemInfoSync().platform&&window.tt.showMoreGamesModal?window.tt.showMoreGamesModal({appLaunchOptions:this.getAppOptionsList(),success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg),window.tt.showModal({title:"\u63d0\u793a",content:t.errMsg,confirmText:"\u77e5\u9053\u4e86",showCancel:!1})}}):window.tt.showModal({title:"\u63d0\u793a",content:"iOS\u5ba2\u6237\u7aef\u7248\u672c\u6682\u65f6\u4e0d\u652f\u6301\u4f7f\u7528\u8be5\u529f\u80fd\u3002",confirmText:"\u77e5\u9053\u4e86",showCancel:!1})},e}(C),l[y.oppo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).boxloadCall=null,n.boxcloseCall=null,n.boxerrorCall=null,n.isLoadBox=!1,n.create(),n}o(e,t);var i=e.prototype;return i.offCallboxListen=function(){this.box.offClose(this.boxcloseCall),this.box.offError(this.boxerrorCall),this.boxcloseCall=null,this.boxerrorCall=null},i.onCallboxListen=function(){this.box.onClose(this.boxcloseCall),this.box.onError(this.boxerrorCall)},i.create=function(){var t=this;qg.getSystemInfoSync().platformVersionCode>=1076?(this.box=qg.createGamePortalAd({adUnitId:this.id}),this.boxloadCall=function(){t.isLoadBox=!0,console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")},this.box.onLoad(this.boxloadCall),this.box.load()):(console.log("\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u53f7\u4f4e\u4e8e1076\uff0c\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"),window.qg.showToast({title:"\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7\u5148\u5347\u7ea7"}))},i.show=function(t,e){var i=this;console.log("\u4e5d\u5bab\u683c"),this.offCallboxListen(),this.boxcloseCall=function(){console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u6b63\u5e38\u5173\u95ed"),e(!0),i.offCallboxListen(),i.box.load().then(function(){console.log("load success")}).catch(function(t){console.log("load fail with:"+t.errCode+","+t.errMsg),this.isLoadBox=!1,this.box.load()})},this.boxerrorCall=function(e){console.log("\u4e92\u63a8\u4e5d\u5bab\u683c\u9519\u8bef",e),i.isLoadBox=!1,t(!1,e),window.qg.showToast({title:"\u6682\u65e0\u4e92\u63a8\u8d44\u6e90"})},this.onCallboxListen(),this.isLoadBox?this.box.show().then(function(){console.log("show success"),t(!0)}).catch(function(e){console.log("show box fail with:"+e.errCode+","+e.errMsg),i.isLoadBox=!1,t(!1,err),window.qg.showToast({title:"\u6682\u65e0\u4e92\u63a8\u8d44\u6e90"})}):(this.box.offLoad(this.boxloadCall),this.boxloadCall=null,this.create(),console.log("create"),t(!1,err),window.qg.showToast({title:"\u6682\u65e0\u4e92\u63a8\u8d44\u6e90"}))},e}(C),l[y.vivo_mini]=function(t){function e(e,i,o){var n;return(n=t.call(this,e,i,o)||this).boxloadCall=null,n.boxcloseCall=null,n.boxerrorCall=null,n.isLoadBox=!1,n.create(),n}o(e,t);var i=e.prototype;return i.create=function(){var t=this;qg.createBoxPortalAd?(this.box=qg.createBoxPortalAd({posId:this.id,marginTop:200}),this.boxloadCall=function(){t.isLoadBox=!0,console.log("\u4e92\u63a8\u76d2\u5b50\u4e5d\u5bab\u683c\u5e7f\u544a\u52a0\u8f7d\u6210\u529f")},this.box.onLoad(this.boxloadCall)):(console.log("\u6682\u4e0d\u652f\u6301\u4e92\u63a8\u76d2\u5b50\u76f8\u5173 API"),window.qg.showToast({title:"\u5feb\u5e94\u7528\u5e73\u53f0\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7\u5148\u5347\u7ea7"}))},i.show=function(){var t=this;console.log("\u4e5d\u5bab\u683c"),this.isLoadBox?this.box.show().then(function(){console.log("show success")}).catch(function(e){console.log("show box fail with:"+e.errCode+","+e.errMsg),t.isLoadBox=!1,window.qg.showToast({title:"\u6682\u65e0\u4e92\u63a8\u8d44\u6e90"})}):(this.create(),console.log("create"),window.qg.showToast({title:"\u6682\u65e0\u4e92\u63a8\u8d44\u6e90"}))},e}(C);var M=l;(d={})[y.qq_mini]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){var t=this;if(window.qq.createBlockAd){var e=window.qq.getSystemInfoSync(),i=e.version,o=e.platform,n=e.pixelRatio,a=e.windowHeight,r=e.windowWidth,s=a,c=r;/android/.test(o)&&"8.3.6"==i&&(s*=n,c*=n),this.block=window.qq.createBlockAd({adUnitId:this.id,style:{left:160,top:160},size:3,orientation:"vertical"}),this.block.onResize(function(e){console.log(e,"\u79ef\u6728 size","dpr:",n);var i=e.width,o=e.height;t.block.style.left=c-i,t.block.style.top=s-o}),this.block.onError(function(t){console.log("\u79ef\u6728\u5e7f\u544a\u51fa\u9519: ",t)})}},i.show=function(){var t=this;window.qq.createBlockAd&&(this.clearOldBlock(),this.create(),this.block.onLoad(function(){console.log("\u79ef\u6728\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.block.show()}))},i.hide=function(){if(window.qq.createBlockAd)try{this.block.hide()}catch(t){console.log("\u79ef\u6728\u5e7f\u544a\u9690\u85cf\u5931\u8d25",t)}},i.clearOldBlock=function(){var t=this.block;t&&(t.destroy(),this.oldBlock=null)},e}(w),d[y.wx]=function(t){function e(e,i,o){return t.call(this,e,i,o)||this}o(e,t);var i=e.prototype;return i.create=function(){this.block=window.wx.createCustomAd({adUnitId:this.id})},i.show=function(){var t=this;this.create(),this.block.onLoad(function(){t.block.show()})},i.hide=function(){try{this.block.hide(),this.block.destroy(),this.block=null}catch(t){}},e}(w);var x=d;(h={})[y.qq_mini]=function(t){var e=f.shareInfo,i=e.title,o=e.imageUrl,n=e.shareTemplateId,a=e.shareTemplateData;qq.shareAppMessage({title:i,imageUrl:o,shareTemplateId:n||void 0,shareTemplateData:a||void 0,success:function(){t(!0)},fail:function(){t(!1)}})},h[y.wx]=function(t){var e=f.shareInfo,i=e.title,o=e.imageUrlId,n=e.imageUrl,a=(new Date).getTime();window.wx.shareAppMessage({title:i,imageUrlId:o,imageUrl:n}),window.wx.onShow(function e(){var i=(new Date).getTime();t(i-a>2500),window.wx.offShow(e)})},h[y.byte]=function(t){f.recordController.share(t)},h[y.baidu]=function(t){var e=f.shareInfo,i=e.title,o=e.imageUrl;window.swan.shareAppMessage({title:i,imageUrl:o,success:function(){t(!0)},fail:function(){t(!1)}})};var D=h;(u={})[y.wx]=function(t){wx.navigateToMiniProgram({appId:t,extraData:{source:"ymsdk \u8df3\u8f6c"},success:function(e){console.log("\u8df3\u8f6c\u6210\u529f",e,"navigate to "+t)},fail:function(e){console.log("\u8df3\u8f6c\u5931\u8d25, \u76ee\u6807 appId: ",t,e)}})},u[y.oppo_mini]=function(t){qg.navigateToMiniGame({pkgName:t,success:function(){console.log("\u8df3\u8f6c\u6210\u529f",res,"navigate to "+appId)},fail:function(t){console.log("\u8df3\u8f6c\u5931\u8d25\uff1a",JSON.stringify(t)),qg.showToast({title:"\u51fa\u4e86\u4e00\u70b9\u5c0f\u95ee\u9898 ~ ~"})}})};var N=u;(p={})[y.android]=function(){};var B=p,E=function(){var t=f.channel,e=S[t],i=f.adConfig.banner;if(i)for(var o=0;o<i.length;o++){var n=i[o],a=n.name,r=new e(a,n.id,n.type);f.bannerMap[a]=r}else console.log("\u65e0 banner \u914d\u7f6e")},I=function(){var t=f.channel,e=T[t],i=f.adConfig.video;if(i)for(var o=0;o<i.length;o++){var n=i[o],a=n.name,r=new e(a,n.id,n.type);f.videoMap[a]=r}else console.log("\u65e0 \u6fc0\u52b1\u89c6\u9891 \u914d\u7f6e")},R=function(){var t=f.channel,e=A[t],i=f.adConfig.insert;if(i)for(var o=0;o<i.length;o++){var n=i[o],a=n.name,r=new e(a,n.id,n.type);f.insertMap[a]=r}else console.log("\u65e0\u63d2\u5c4f\u914d\u7f6e")},L=function(t){if(t.isShowAd){if(!t)throw new Error("\u8bf7\u4f20\u5165\u914d\u7f6e");if(!t.channel)throw new Error("\u8bf7\u586b\u5199\u5f53\u524d\u6e20\u9053");if(!t[t.channel])throw new Error("\u8bf7\u586b\u5199\u5f53\u524d\u6e20\u9053\u7684\u5e7f\u544a\u914d\u7f6e");t.isCheckDepend&&function(t){if(!window[g[t]])throw console.warn("\u7f3a\u5c11\u6e20\u9053\u4f9d\u8d56\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e\u662f\u5426\u9519\u8bef"),new Error("\u7f3a\u5c11\u6e20\u9053\u4f9d\u8d56\uff0c\u8bf7\u68c0\u67e5\u914d\u7f6e\u662f\u5426\u9519\u8bef")}(t.channel)}},O=function(t){var e=t[t.channel];if(f.channel=t.channel,f.adConfig=e,t.channel===y.wx){var i=t.wxShareInfo;f.shareInfo.title=i.title,f.shareInfo.imageUrlId=i.imageUrlId,f.shareInfo.imageUrl=i.imageUrl}if(t.channel===y.qq_mini){var o=t.qqShareInfo;f.shareInfo.title=o.title,f.shareInfo.imageUrl=o.imageUrl,f.shareInfo.shareTemplateId=o.shareTemplateId,f.shareInfo.shareTemplateData=o.shareTemplateData}if(t.channel===y.baidu){var n=t.baiduAppId,a=t.baiduShareInfo;if(!n)throw new Error("\u767e\u5ea6\u5e94\u7528 id \u5fc5\u586b");f.baiduAppId=n,f.shareInfo.title=a.title,f.shareInfo.imageUrl=a.imageUrl}if(t.channel===y.byte){var r=t.byteShareInfo,s=t.byteRecordId;f.byteRecordId=s,f.shareInfo.title=r.title,f.shareInfo.desc=r.desc,f.shareInfo.topics=r.topics}},G=function(t,e){window.GameSDK.init(t),window.GameSDK.setOrientation(null==e?1:e),window.GameSDK.setOnInitCB(function(){console.log("\u5373\u523b\u73a9 GameSDK \u521d\u59cb\u5316\u6210\u529f"),window.AdSDK.init(),E(),I(),R()})},F={init:function(t){if(f.isInit=!0,L(t),O(t),t.isShowAd)if(t.channel!==y.jkw){if(t.channel===y.android&&(window.ymsdk=window.ymsdk||{}),t.channel===y.ios&&(window.ymsdk=window.ymsdk||{},window.ymsdk.onVideoComplete=function(){},window.ymsdk.onVideoLoaded=function(){}),t.channel===y.lianxin){var e=document.createElement("script"),i=document.createElement("script");e.src="/zx_local_res/jssdk/cordova.js",i.src="https://static.cdn.lianxinapp.com/js/lxad-1.1.3-min.js",document.body.appendChild(e),document.body.appendChild(i)}E(),I(),R(),function(){var t=f.channel,e=M[t],i=f.adConfig.box;if(i)for(var o=0;o<i.length;o++){var n=i[o],a=n.name,r=new e(a,n.id,n.type);f.boxMap[a]=r}else console.log("\u65e0\u76d2\u5b50\u914d\u7f6e")}(),function(){var t=f.channel,e=x[t],i=f.adConfig.block;if(i)for(var o=0;o<i.length;o++){var n=i[o],a=n.name,r=new e(a,n.id,n.type);f.blockMap[a]=r}else console.log("\u65e0\u79ef\u6728\u914d\u7f6e")}(),function(){var t=f.channel,e=k[t],i=f.adConfig.grid;if(i)for(var o=0;o<i.length;o++){var n=i[o],a=n.name,r=new e(a,n.id,n.type);f.gridMap[a]=r}else console.log("\u65e0\u683c\u5b50\u914d\u7f6e")}(),f.channel==y.byte&&(f.recordController=new P),function(){if(f.channel==y.wx){var t=window.wx.getSystemInfoSync(),e=t.windowHeight,i=t.windowWidth;f.gameClubButton=window.wx.createGameClubButton({icon:"green",type:"image",style:{left:i-40-20,top:(e-40)/2-20,width:40,height:40}}),f.gameClubButton.hide()}}()}else{var o=t.jkwId,n=t.jkwOrientation;G(o,n)}else f.isShowAd=!1},channelType:y,getChannelDepend:function(){var t=g[f.channel];if(!t)throw new Error("\u672a\u627e\u4f9d\u8d56\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u521d\u59cb\u5316\uff0c\u6216\u662f\u5426\u5728\u5e73\u53f0\u4e0a\u8fd0\u884c");return window[t]},getCurrentChannel:function(){var t=f.channel;if(t)return t;console.error("\u65e0\u5e73\u53f0\u4fe1\u606f\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u521d\u59cb\u5316")},setShareInfo:function(t){f.shareInfo.title=t.title?t.title:f.shareInfo.title,f.shareInfo.imageUrl=t.imageUrl?t.imageUrl:f.shareInfo.imageUrl,f.shareInfo.imageUrlId=t.imageUrlId?t.imageUrlId:f.shareInfo.imageUrlId,f.shareInfo.desc=t.desc?t.desc:f.shareInfo.desc},showBannerAd:function(t,e){var i=f.bannerMap[t];i&&i.show(e)},hideBannerAd:function(t){var e=f.bannerMap[t];e&&e.hide()},showInterstitialAd:function(t,e){var i=f.insertMap[t];i&&i.show(e)},showRewardedVideoAd:function(t,e,i){var o=f.videoMap[t];o&&o.play(e,i)},share:function(t){var e=f.channel;D[e]&&D[e](t)},navigateJump:function(t){var e=f.channel,i=N[e];i&&i(t)},showGridAd:function(t,e){var i=f.gridMap[t];i&&i.show(e)},hideGridAd:function(t){var e=f.gridMap[t];e&&e.hide()},showAppBox:function(t){var e=f.boxMap[t];e&&e.show()},showBlockAd:function(t){var e=f.blockMap[t];e&&e.show()},hideBlockAd:function(t){var e=f.blockMap[t];e&&e.hide()},startRecord:function(){f.channel==y.byte&&f.recordController.startRecord()},stopRecord:function(){f.channel==y.byte&&f.recordController.stopRecord()},showGameClubBtn:function(){var t=f.gameClubButton;t&&t.show()},hideGameClubBtn:function(){var t=f.gameClubButton;t&&t.hide()},exitGame:function(){},getIsShowAd:function(){if(!f.isInit)throw new Error("\u8bf7\u5148\u521d\u59cb\u5316");return f.isShowAd},showToast:function(){},showPrivacyPolicy:function(){},initCollection:function(t){if("number"!=typeof t)throw new Error("\u5408\u96c6 id \u9700\u8981\u4f20 int \u7c7b\u578b")},isShowAdButton:function(){return null},isShowShopButton:function(){return null},isShowMoreGame:function(){return null},showMoreGame:function(){},isShowPrivacyPolicy:function(){return null},isShowISBN:function(){return null},isOpenCollection:function(){return null},isOpenShare:function(){return null},payOrderAttachStart:function(){},pay:function(t,e,i){window.ymsdk.onPayComplete=function(t){i(t)}},isShowFeedback:function(){return null},showFeedback:function(){},onPauseMusic:function(t){f.musicPauseCall=t},onResumeMusic:function(t){f.musicResumeCall=t},getNavigateInfo:function(){return f.navigateInfo},showFloatIconAd:function(){},closeFloatIconAd:function(){},getSDKConf:function(){return JSON.parse(null)},getApkChannel:function(){return null},getApkVersion:function(){return null},onEventAnalytics:function(t,e){var i=f.channel,o=B[i];o&&o(t,e)},onRenderMain:function(){},offRenderMain:function(){}};e.default=F}])}),cc._RF.pop()},{}]},{},["AD","ADMgr","ADPause","AirFan","ArrowTrap","AudioDefine","AudioManager","AudioSwitch","BapBenh","BreakablePlatform","Bridge","CameraMove","ChangeIcon","Coin","CoinComp","CoinLabel","Coin_fly_to_wallet","ColTag","ColorAssembler2D","Congratulation","CongratulationAD","DailyGift","DailyItem","Door","Dragon","EventDefine","EventMgr","FallDown","FlowerKiller","GameConfig","GameData","GameDefine","GamePage","Godz","GraphicsSpriteMesh","Ground","HeartComp","Helgehod","IceReceiver","InsPrefab","Key","Laser","LevelItem","Lever","LeverFan","LightCrystal","LightCrystalReceiver","Load","Main","MaskPlus","MathTool","MirrorBox","MirrorControlBar","MoveBtn","MovePlatform","MoveTag","MusicSwitch","Pause","PhysicInterface","Player","PlayerState","Portrait_yhxy","Portrait_yszc","PrivacyPolicy","RailCart","Receiver","Revive","Rock","RoundMirror","Saw","Scorpion","Select","Set","Skin","SkinItem","Snake","SpecialSkin","SpecialSkinItem","Spider","SpikeRock","SpikeTrap","Spin","SpinItem","Spring","Start","TeleportPortal","TipPrefab","Tools","TouchComp","Trap","Trigger","UIPrefab","Water","WeightRandom","Win","ageTips","btnPatch","csvManager","huaweiNativeInsert","huaweiPatch","loadingScene","oppoNativeBanner","oppoNativeIcon","oppoNativeInsert","policy_qx","privacyWindow","vivoNativeBanner","vivoNativeInsert","yhxyPolicy","ymsdk","ymsdkConfig","ts"]);